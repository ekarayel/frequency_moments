%
\begin{isabellebody}%
\setisabellecontext{Binomial}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Binomial Coefficients and Binomial Theorem%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Binomial\isanewline
\ \ \isakeyword{imports}\ Presburger\ Factorial\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Binomial coefficients%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
This development is based on the work of Andy Gordon and Florian Kammueller.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
Combinatorial definition%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ binomial\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \ {\isacharparenleft}{\kern0pt}\isakeyword{infixl}\ {\isachardoublequoteopen}choose{\isachardoublequoteclose}\ {\isadigit{6}}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}n\ choose\ k\ {\isacharequal}{\kern0pt}\ card\ {\isacharbraceleft}{\kern0pt}K{\isasymin}Pow\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ K\ {\isacharequal}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}subsets{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}B{\isachardot}{\kern0pt}\ B\ {\isasymsubseteq}\ A\ {\isasymand}\ card\ B\ {\isacharequal}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ A\ choose\ k{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ bij{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bij{\isacharunderscore}{\kern0pt}betw\ f\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast\ dest{\isacharcolon}{\kern0pt}\ ex{\isacharunderscore}{\kern0pt}bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}finite{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ C{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ C{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}C\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ C\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}subset\ card{\isacharunderscore}{\kern0pt}image\ that{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ bij\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bij{\isacharunderscore}{\kern0pt}betw\ {\isacharparenleft}{\kern0pt}image\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Pow\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Pow\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}Pow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}image\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Pow\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}K{\isachardot}{\kern0pt}\ K\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}\ {\isasymand}\ card\ K\ {\isacharequal}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ Pow\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}image\ f{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}K{\isachardot}{\kern0pt}\ K\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}\ {\isasymand}\ card\ K\ {\isacharequal}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}K{\isachardot}{\kern0pt}\ K\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}\ {\isasymand}\ card\ K\ {\isacharequal}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}image\ f\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}K{\isachardot}{\kern0pt}\ K\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}\ {\isasymand}\ card\ K\ {\isacharequal}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}C{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}image{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}C\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}K{\isachardot}{\kern0pt}\ K\ {\isasymsubseteq}\ f\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}\ {\isasymand}\ card\ K\ {\isacharequal}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ elim{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}imageE{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ bij\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Recursive characterization%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ choose\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}K\ {\isasymin}\ Pow\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ K\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}Suc\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{0}}\ choose\ Suc\ k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ n\ choose\ Suc\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ Suc\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}P\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}n\ k{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}K{\isachardot}{\kern0pt}\ K\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isasymand}\ card\ K\ {\isacharequal}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}Q\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}P\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}insert\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P\ n\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ rule\ {\isacharparenleft}{\kern0pt}auto{\isacharsemicolon}{\kern0pt}\ metis\ atLeastLessThan{\isacharunderscore}{\kern0pt}iff\ insert{\isacharunderscore}{\kern0pt}iff\ less{\isacharunderscore}{\kern0pt}irrefl\ subsetCE{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ disjoint{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}insert\ n\ {\isacharbackquote}{\kern0pt}\ {\isacharquery}{\kern0pt}P\ n\ k\ {\isasyminter}\ {\isacharquery}{\kern0pt}P\ n\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}Q\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}K{\isasymin}{\isacharquery}{\kern0pt}Q{\isachardot}{\kern0pt}\ n\ {\isasymin}\ K{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}K{\isasymin}{\isacharquery}{\kern0pt}Q{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ K{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}K{\isasymin}{\isacharquery}{\kern0pt}Q{\isachardot}{\kern0pt}\ n\ {\isasymin}\ K{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ insert\ n\ {\isacharbackquote}{\kern0pt}\ {\isacharquery}{\kern0pt}P\ n\ k{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ K\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ K{\isacharunderscore}{\kern0pt}finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ K{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}K\ {\isasymsubseteq}\ insert\ n\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ finite{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ Suc{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}K{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ {\isacharparenleft}{\kern0pt}card\ K\ {\isacharminus}{\kern0pt}\ Suc\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ K{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}n\ {\isasymin}\ K{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}finite\ K{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}n\ {\isasymin}\ K{\isacartoucheclose}\ \isacommand{obtain}\isamarkupfalse%
\ L\ \isakeyword{where}\ {\isachardoublequoteopen}K\ {\isacharequal}{\kern0pt}\ insert\ n\ L{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}n\ {\isasymnotin}\ L{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast\ elim{\isacharcolon}{\kern0pt}\ Set{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ that\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ card{\isachardot}{\kern0pt}insert{\isacharunderscore}{\kern0pt}remove{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}K\ {\isasymin}\ {\isacharquery}{\kern0pt}A\ {\isasymlongleftrightarrow}\ K\ {\isasymin}\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ in{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ card{\isachardot}{\kern0pt}insert{\isacharunderscore}{\kern0pt}remove\ subset{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}lessThan{\isacharunderscore}{\kern0pt}finite\isanewline
\ \ \ \ \ \ \ \ \ \ Diff{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}conv\ K{\isacharunderscore}{\kern0pt}finite\ Suc{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}K{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}K{\isasymin}{\isacharquery}{\kern0pt}Q{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ K{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}P\ n\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}lessThan{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ inj\ disjoint\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}def\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjoint\ card{\isacharunderscore}{\kern0pt}image{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharless}{\kern0pt}\ k\ {\isasymLongrightarrow}\ n\ choose\ k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}lessThan{\isacharunderscore}{\kern0pt}card{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}binomial{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ n\ {\isasymLongrightarrow}\ n\ choose\ k\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n\ k\ rule{\isacharcolon}{\kern0pt}\ diff{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ choose\ k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymlongleftrightarrow}\ n\ {\isacharless}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ binomial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ less{\isacharunderscore}{\kern0pt}numeral{\isacharunderscore}{\kern0pt}extra{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}less\ zero{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}binomial{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}binomial{\isacharunderscore}{\kern0pt}iff\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ choose\ k\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}\ {\isasymlongleftrightarrow}\ k\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ binomial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ not{\isacharunderscore}{\kern0pt}less{\isadigit{0}}\ not{\isacharunderscore}{\kern0pt}less\ zero{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}binomial{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}n\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ choose\ n\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}n\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ n\ choose\ n\ {\isacharequal}{\kern0pt}\ Suc\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ choose\ Suc\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}reduce{\isacharunderscore}{\kern0pt}nat{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ n\ {\isasymLongrightarrow}\ {\isadigit{0}}\ {\isacharless}{\kern0pt}\ k\ {\isasymLongrightarrow}\isanewline
\ \ \ \ n\ choose\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc\ {\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Suc{\isacharunderscore}{\kern0pt}times{\isacharunderscore}{\kern0pt}binomial{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ n\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ n\ choose\ Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ Suc\ k{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ arbitrary{\isacharcolon}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}IH\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}distrib\ add{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}distrib{\isadigit{2}}\ le{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq\ binomial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}pow{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ choose\ k\ {\isasymle}\ {\isadigit{2}}{\isacharcircum}{\kern0pt}n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ arbitrary{\isacharcolon}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ le{\isacharunderscore}{\kern0pt}less\ less{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}trans\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}IH\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}mono\ mult{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The absorption property.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ Suc{\isacharunderscore}{\kern0pt}times{\isacharunderscore}{\kern0pt}binomial{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ n\ choose\ Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ n\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Suc{\isacharunderscore}{\kern0pt}times{\isacharunderscore}{\kern0pt}binomial{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
This is the well-known version of absorption, but it's harder to use
  because of the need to reason about division.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}times{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Suc\ n\ choose\ Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ n\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ div\ Suc\ k{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Suc{\isacharunderscore}{\kern0pt}times{\isacharunderscore}{\kern0pt}binomial{\isacharunderscore}{\kern0pt}eq\ del{\isacharcolon}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}Suc\ mult{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}right{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Another version of absorption, with \isa{{\isacharminus}{\kern0pt}{\isadigit{1}}} instead of \isa{Suc}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ times{\isacharunderscore}{\kern0pt}binomial{\isacharunderscore}{\kern0pt}minus{\isadigit{1}}{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ k\ {\isasymLongrightarrow}\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Suc{\isacharunderscore}{\kern0pt}times{\isacharunderscore}{\kern0pt}binomial{\isacharunderscore}{\kern0pt}eq\ {\isacharbrackleft}{\kern0pt}\isakeyword{where}\ n\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\ k\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}split{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{The binomial theorem (courtesy of Tobias Nipkow):%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Avigad's version, generalized to any commutative ring%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}ring{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}comm{\isacharunderscore}{\kern0pt}semiring{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}n\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharminus}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ decomp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ decomp{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}hyps\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ a\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharminus}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ b\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharminus}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ distrib{\isacharunderscore}{\kern0pt}right{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}k{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharminus}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left\ ac{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ atMost{\isacharunderscore}{\kern0pt}atLeast{\isadigit{0}}\ sum{\isachardot}{\kern0pt}shift{\isacharunderscore}{\kern0pt}bounds{\isacharunderscore}{\kern0pt}cl{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}ivl\ Suc{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}le\ field{\isacharunderscore}{\kern0pt}simps\ del{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}cl{\isacharunderscore}{\kern0pt}ivl{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sum{\isachardot}{\kern0pt}nat{\isacharunderscore}{\kern0pt}ivl{\isacharunderscore}{\kern0pt}Suc{\isacharprime}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ n\ {\isachardoublequoteopen}{\isasymlambda}k{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ {\isacharparenleft}{\kern0pt}k{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a\ {\isacharcircum}{\kern0pt}\ k\ {\isacharasterisk}{\kern0pt}\ b\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}atLeast{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}atMost\ atMost{\isacharunderscore}{\kern0pt}atLeast{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ a{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps\ sum{\isachardot}{\kern0pt}distrib\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ choose{\isacharunderscore}{\kern0pt}reduce{\isacharunderscore}{\kern0pt}nat{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ decomp\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ atMost{\isacharunderscore}{\kern0pt}atLeast{\isadigit{0}}\ field{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Original version for the naturals.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{corollary}\isamarkupfalse%
\ binomial{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ b{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}ring\ {\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}int\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}int\ b{\isachardoublequoteclose}\ n{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}add\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}mult\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}power\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}sum\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}id{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}lemma{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ n\ {\isasymLongrightarrow}\ fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fact\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n\ arbitrary{\isacharcolon}{\kern0pt}\ k\ rule{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ n\ k\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ H{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}m{\isacharless}{\kern0pt}n{\isachardot}{\kern0pt}\ {\isasymforall}x{\isasymle}m{\isachardot}{\kern0pt}\ fact\ x\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ choose\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fact\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ kn{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}ths\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fact\ n{\isachardoublequoteclose}\isanewline
\ \ \isacommand{consider}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymor}\ k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymor}\ n\ {\isacharequal}{\kern0pt}\ k{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\ m\ h\ \isakeyword{where}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ Suc\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ Suc\ h{\isachardoublequoteclose}\ {\isachardoublequoteopen}h\ {\isacharless}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ kn\ \isacommand{by}\isamarkupfalse%
\ atomize{\isacharunderscore}{\kern0pt}elim\ presburger\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fact\ n{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ kn\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ n\ {\isacharequal}{\kern0pt}\ {\isacartoucheopen}n\ {\isacharequal}{\kern0pt}\ Suc\ m{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ k\ {\isacharequal}{\kern0pt}\ {\isacartoucheopen}k\ {\isacharequal}{\kern0pt}\ Suc\ h{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ hm\ {\isacharequal}{\kern0pt}\ {\isacartoucheopen}h\ {\isacharless}{\kern0pt}\ m{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ mn{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharless}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ n\ \isacommand{by}\isamarkupfalse%
\ arith\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ hm{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymle}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hm\ \isacommand{by}\isamarkupfalse%
\ arith\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ km{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hm\ k\ n\ kn\ \isacommand{by}\isamarkupfalse%
\ arith\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isacharminus}{\kern0pt}\ h\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ Suc\ h{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ k\ km\ hm\ \isacommand{by}\isamarkupfalse%
\ arith\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ km\ k\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ h{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ h{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ n\ k\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ h\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ h{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ choose\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ h{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ choose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}k\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ H{\isacharbrackleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}format{\isacharcomma}{\kern0pt}\ OF\ mn\ hm{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ H{\isacharbrackleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}format{\isacharcomma}{\kern0pt}\ OF\ mn\ km{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ k\ n\ km\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}k\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}n\ choose\ k\ {\isacharequal}{\kern0pt}\ fact\ n\ div\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}lemma\ {\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fact{\isacharunderscore}{\kern0pt}nonzero\ mult{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ nonzero{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}div{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}left{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ kn{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fact\ n\ {\isacharslash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}lemma{\isacharbrackleft}{\kern0pt}OF\ kn{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ fact{\isacharunderscore}{\kern0pt}nonzero\ mult{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ nonzero{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}div{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}left\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}fact\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}mult{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fact{\isacharunderscore}{\kern0pt}binomial{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}k\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fact\ k\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ n\ {\isacharslash}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}fact\ {\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}two{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ choose\ {\isadigit{2}}\ {\isacharequal}{\kern0pt}\ n\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ div\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}n\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymor}\ n\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ m\ \isakeyword{where}\ {\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ n\ {\isacharminus}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ True\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fact\ n\ {\isacharequal}{\kern0pt}\ n\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fact{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}Suc\ atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}lessThan{\isacharunderscore}{\kern0pt}Suc\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ True\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}row{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isacharcircum}{\kern0pt}n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ binomial\ {\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ n{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ numeral{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}choose{\isacharunderscore}{\kern0pt}lower{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}r{\isacharplus}{\kern0pt}k{\isacharparenright}{\kern0pt}\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}r{\isacharplus}{\kern0pt}n{\isacharparenright}{\kern0pt}\ choose\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}choose{\isacharunderscore}{\kern0pt}upper{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ k\ choose\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ n\ choose\ Suc\ m{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}alternating{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}n\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{0}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}comm{\isacharunderscore}{\kern0pt}ring{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}ring{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ {\isadigit{1}}\ n{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ atLeast{\isadigit{0}}AtMost\ mult{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}commute\ zero{\isacharunderscore}{\kern0pt}power{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}even{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}n\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ if\ even\ i\ then\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ n\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}comm{\isacharunderscore}{\kern0pt}ring{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}row{\isacharunderscore}{\kern0pt}sum{\isacharbrackleft}{\kern0pt}of\ n{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ choose{\isacharunderscore}{\kern0pt}alternating{\isacharunderscore}{\kern0pt}sum\ assms\ atLeast{\isadigit{0}}AtMost\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}sum{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}distrib{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ if\ even\ i\ then\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharcomma}{\kern0pt}\ intro\ sum{\isachardot}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}odd{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}n\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ if\ odd\ i\ then\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ n\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}comm{\isacharunderscore}{\kern0pt}ring{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}row{\isacharunderscore}{\kern0pt}sum{\isacharbrackleft}{\kern0pt}of\ n{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ choose{\isacharunderscore}{\kern0pt}alternating{\isacharunderscore}{\kern0pt}sum\ assms\ atLeast{\isadigit{0}}AtMost\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}sum{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sum{\isacharunderscore}{\kern0pt}subtractf{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ if\ odd\ i\ then\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharcomma}{\kern0pt}\ intro\ sum{\isachardot}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
NW diagonal sum property%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}choose{\isacharunderscore}{\kern0pt}diagonal{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ n\ choose\ m{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharminus}{\kern0pt}k{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ choose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sum{\isachardot}{\kern0pt}atLeastAtMost{\isacharunderscore}{\kern0pt}rev\ {\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}k{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isadigit{0}}\ m{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ atMost{\isacharunderscore}{\kern0pt}atLeast{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ choose\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sum{\isacharunderscore}{\kern0pt}choose{\isacharunderscore}{\kern0pt}lower{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ Suc\ n\ choose\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Generalized binomial coefficients%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ gbinomial\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharbraceleft}{\kern0pt}semidom{\isacharunderscore}{\kern0pt}divide{\isacharcomma}{\kern0pt}semiring{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \ {\isacharparenleft}{\kern0pt}\isakeyword{infixl}\ {\isachardoublequoteopen}gchoose{\isachardoublequoteclose}\ {\isadigit{6}}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeyword{where}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ gchoose\ k\ {\isacharequal}{\kern0pt}\ prod\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ div\ fact\ k{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}a\ gchoose\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isadigit{0}}\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ prod{\isachardot}{\kern0pt}atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}lessThan{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}shift\ del{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}op{\isacharunderscore}{\kern0pt}ivl{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}Suc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ prod\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ div\ fact\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ gchoose\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ lessThan{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}Suc{\isadigit{0}}\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ gchoose\ Suc\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ lessThan{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}fact{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fact\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ field{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}fact{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}fact\ {\isacharbrackleft}{\kern0pt}of\ k\ a{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ac{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}pochhammer{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ gchoose\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ k\ {\isacharasterisk}{\kern0pt}\ pochhammer\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\ k\ {\isacharslash}{\kern0pt}\ fact\ k{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ gchoose\ k\ {\isacharequal}{\kern0pt}\ pochhammer\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharplus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ k{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ pochhammer{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost\isanewline
\ \ \ \ \ \ \ \ prod{\isachardot}{\kern0pt}atLeast{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}shift\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}diff\ flip{\isacharcolon}{\kern0pt}\ power{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}distrib\ prod{\isachardot}{\kern0pt}cl{\isacharunderscore}{\kern0pt}ivl{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ pochhammer{\isacharunderscore}{\kern0pt}minus\ Suc{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}pochhammer{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ gchoose\ k\ {\isacharequal}{\kern0pt}\ pochhammer\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ k\ {\isacharslash}{\kern0pt}\ fact\ k{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ gchoose\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ k\ {\isacharslash}{\kern0pt}\ fact\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}pochhammer\ pochhammer{\isacharunderscore}{\kern0pt}minus\ mult{\isacharunderscore}{\kern0pt}ac{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}k\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ power{\isacharunderscore}{\kern0pt}add\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}binomial{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ gchoose\ k\ {\isacharequal}{\kern0pt}\ n\ choose\ k{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}k\ {\isasymle}\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isacharless}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isacharparenright}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}prod\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isacharparenright}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ prod{\isacharunderscore}{\kern0pt}zero{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}n\ {\isacharless}{\kern0pt}\ k{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ prod{\isacharunderscore}{\kern0pt}zero{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ True\ \isacommand{have}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prod\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isacharparenright}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymProd}{\isacharbraceleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ prod{\isachardot}{\kern0pt}reindex{\isacharunderscore}{\kern0pt}bij{\isacharunderscore}{\kern0pt}witness{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}i{\isachardot}{\kern0pt}\ n\ {\isacharminus}{\kern0pt}\ i{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlambda}i{\isachardot}{\kern0pt}\ n\ {\isacharminus}{\kern0pt}\ i{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ True\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ choose\ k\ {\isacharequal}{\kern0pt}\ fact\ n\ div\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ mult{\isachardot}{\kern0pt}commute\ {\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fact\ k{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ div{\isacharunderscore}{\kern0pt}mult{\isadigit{2}}{\isacharunderscore}{\kern0pt}eq\ fact{\isacharunderscore}{\kern0pt}div{\isacharunderscore}{\kern0pt}fact{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}gbinomial{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ n\ gchoose\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}k\ {\isasymle}\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}le\ gbinomial{\isacharunderscore}{\kern0pt}binomial\ binomial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ m\ \isakeyword{where}\ {\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ n\ {\isacharminus}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ True\ \isacommand{have}\isamarkupfalse%
\ n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ arith\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ n\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fact\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenright}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fact{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymProd}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}k{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ivl{\isacharunderscore}{\kern0pt}disj{\isacharunderscore}{\kern0pt}un{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fact\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ m\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ m\ {\isacharplus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ prod{\isachardot}{\kern0pt}shift{\isacharunderscore}{\kern0pt}bounds{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}ivl\ {\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}i{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ {\isadigit{0}}\ k\ m{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fact{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ {\isacharbrackleft}{\kern0pt}of\ m{\isacharbrackright}{\kern0pt}\ prod{\isachardot}{\kern0pt}union{\isacharunderscore}{\kern0pt}disjoint\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}diff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fact\ n\ {\isacharslash}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ n\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ True\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fact\ k\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ n\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}fact\ {\isacharbrackleft}{\kern0pt}of\ k\ {\isachardoublequoteopen}of{\isacharunderscore}{\kern0pt}nat\ n{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}binomial\ {\isacharbrackleft}{\kern0pt}of\ n\ k{\isacharbrackright}{\kern0pt}\ fact{\isacharunderscore}{\kern0pt}binomial{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}gbinomial{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ n\ gchoose\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}binomial\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}gbinomial{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimML
\isanewline
%
\endisadelimML
%
\isatagML
\isacommand{setup}\isamarkupfalse%
\isanewline
\ \ {\isacartoucheopen}Sign{\isachardot}{\kern0pt}add{\isacharunderscore}{\kern0pt}const{\isacharunderscore}{\kern0pt}constraint\ {\isacharparenleft}{\kern0pt}\isactrlconstUNDERSCOREname {\isasymopen}gbinomial{\isasymclose}{\isacharcomma}{\kern0pt}\ SOME\ \isactrltyp {\isasymopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a{\isasymclose}{\isacharparenright}{\kern0pt}{\isacartoucheclose}%
\endisatagML
{\isafoldML}%
%
\isadelimML
\isanewline
%
\endisadelimML
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}a\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ pochhammer\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\ k\ {\isacharslash}{\kern0pt}\ fact\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ a\ {\isacharplus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}pochhammer\ pochhammer{\isacharunderscore}{\kern0pt}Suc\ right{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}distrib\ power{\isacharunderscore}{\kern0pt}Suc\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps\ simp\ del{\isacharcolon}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}l{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps\ gbinomial{\isacharunderscore}{\kern0pt}pochhammer{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ a\ {\isacharequal}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mult{\isachardot}{\kern0pt}commute\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a\ gchoose\ k\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ h{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eq{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymProd}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}h{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ prod{\isachardot}{\kern0pt}reindex{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}h{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Suc\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}atMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fact\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}a\ gchoose\ Suc\ h{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}a\ gchoose\ Suc\ {\isacharparenleft}{\kern0pt}Suc\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Suc\ field{\isacharunderscore}{\kern0pt}simps\ del{\isacharcolon}{\kern0pt}\ fact{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}a\ gchoose\ Suc\ h{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ h{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}Suc\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ h{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}fact\ field{\isacharunderscore}{\kern0pt}simps\ mult{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}commute\ {\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}\ fact{\isacharunderscore}{\kern0pt}Suc\ add{\isacharcolon}{\kern0pt}\ fact{\isacharunderscore}{\kern0pt}Suc\ {\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Suc\ h{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}fact\isanewline
\ \ \ \ \ \ mult{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}commute\ {\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}Suc\ h{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ Suc\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ h{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ fact{\isacharunderscore}{\kern0pt}Suc\ mult{\isachardot}{\kern0pt}commute\ mult{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}commute\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}fact\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}id\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}mult{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}h{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ h{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}fact\ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ h{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ h\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}h{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}h{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ gchoose\ Suc\ h{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}Suc\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ h{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}fact{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ comm{\isacharunderscore}{\kern0pt}semiring{\isacharunderscore}{\kern0pt}class{\isachardot}{\kern0pt}distrib\ field{\isacharunderscore}{\kern0pt}simps\ Suc\ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}h{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}fact{\isacharprime}{\kern0pt}\ atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps\ Suc\ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isasymin}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Suc\ prod{\isachardot}{\kern0pt}atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}shift\ del{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}cl{\isacharunderscore}{\kern0pt}ivl{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}fact\ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fact{\isacharunderscore}{\kern0pt}nonzero\ {\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Suc\ k{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}reduce{\isacharunderscore}{\kern0pt}nat{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ k\ {\isasymLongrightarrow}\ a\ gchoose\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}pred{\isacharprime}{\kern0pt}\ diff{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}cancel\ gbinomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gchoose{\isacharunderscore}{\kern0pt}row{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}weighted{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}r\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}r{\isacharslash}{\kern0pt}{\isadigit{2}}\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}r\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ r\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps\ distrib\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}symmetric{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ kn{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}n\ choose\ k\ {\isacharequal}{\kern0pt}\ n\ choose\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ kn{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharminus}{\kern0pt}\ k\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ kn\ \isacommand{by}\isamarkupfalse%
\ arith\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}lemma{\isacharbrackleft}{\kern0pt}OF\ kn{\isacharbrackright}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}lemma{\isacharbrackleft}{\kern0pt}OF\ kn{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ kn\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}rising{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}j{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ j{\isacharparenright}{\kern0pt}\ choose\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}j{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ j{\isacharparenright}{\kern0pt}\ choose\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}j{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ j{\isacharparenright}{\kern0pt}\ choose\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ m{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ binomial{\isacharunderscore}{\kern0pt}symmetric{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}j{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ j{\isacharparenright}{\kern0pt}\ choose\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ m{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}linear{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ {\isacharasterisk}{\kern0pt}\ {\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}Suc\ m{\isachardot}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ m\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ Suc\ m\ {\isacharasterisk}{\kern0pt}\ {\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sum{\isachardot}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}shift\ Suc{\isacharunderscore}{\kern0pt}times{\isacharunderscore}{\kern0pt}binomial\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ choose{\isacharunderscore}{\kern0pt}row{\isacharunderscore}{\kern0pt}sum{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Suc\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}alternating{\isacharunderscore}{\kern0pt}linear{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}n\ {\isasymnoteq}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}comm{\isacharunderscore}{\kern0pt}ring{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}Suc\ m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ m\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ i\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ m\ choose\ Suc\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}shift\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}ac\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}mult{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}m\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharcomma}{\kern0pt}\ rule\ sum{\isachardot}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ refl{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ subst\ Suc{\isacharunderscore}{\kern0pt}times{\isacharunderscore}{\kern0pt}binomial{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}alternating{\isacharunderscore}{\kern0pt}sum{\isacharbrackleft}{\kern0pt}OF\ {\isacartoucheopen}m\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ vandermonde{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}r{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ {\isacharparenleft}{\kern0pt}r\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ choose\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n\ arbitrary{\isacharcolon}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}r{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{0}}\ choose\ {\isacharparenleft}{\kern0pt}r\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}r{\isachardot}{\kern0pt}\ if\ k\ {\isacharequal}{\kern0pt}\ r\ then\ {\isacharparenleft}{\kern0pt}m\ choose\ k{\isacharparenright}{\kern0pt}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ sum{\isachardot}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ m\ choose\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ r{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ Suc\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps\ sum{\isachardot}{\kern0pt}distrib\ Suc{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}square{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharasterisk}{\kern0pt}n{\isacharparenright}{\kern0pt}\ choose\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ vandermonde{\isacharbrackleft}{\kern0pt}of\ n\ n\ n{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ power{\isadigit{2}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}square\ mult{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ binomial{\isacharunderscore}{\kern0pt}symmetric\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pochhammer{\isacharunderscore}{\kern0pt}binomial{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ a\ b\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}comm{\isacharunderscore}{\kern0pt}ring{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}pochhammer\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ a\ k\ {\isacharasterisk}{\kern0pt}\ pochhammer\ b\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ arbitrary{\isacharcolon}{\kern0pt}\ a\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n\ a\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}Suc\ n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ a\ k\ {\isacharasterisk}{\kern0pt}\ pochhammer\ b\ {\isacharparenleft}{\kern0pt}Suc\ n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ a\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ b\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ a\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ b\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ pochhammer\ b\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isachardot}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}shift{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ring{\isacharunderscore}{\kern0pt}distribs\ sum{\isachardot}{\kern0pt}distrib{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ a\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ b\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ a\ {\isacharasterisk}{\kern0pt}\ pochhammer\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ Suc{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left\ pochhammer{\isacharunderscore}{\kern0pt}rec\ mult{\isacharunderscore}{\kern0pt}ac{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ a\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ b\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ pochhammer\ b\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ a\ i\ {\isacharasterisk}{\kern0pt}\ pochhammer\ b\ {\isacharparenleft}{\kern0pt}Suc\ n\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isachardot}{\kern0pt}atLeast{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}atMost{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}shift{\isacharunderscore}{\kern0pt}bounds{\isacharunderscore}{\kern0pt}cl{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}ivl\ atLeast{\isadigit{0}}AtMost\ del{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}cl{\isacharunderscore}{\kern0pt}ivl{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ a\ i\ {\isacharasterisk}{\kern0pt}\ pochhammer\ b\ {\isacharparenleft}{\kern0pt}Suc\ n\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Suc\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ sum{\isachardot}{\kern0pt}mono{\isacharunderscore}{\kern0pt}neutral{\isacharunderscore}{\kern0pt}right{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}le\ binomial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isasymle}n{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ pochhammer\ a\ i\ {\isacharasterisk}{\kern0pt}\ pochhammer\ b\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ sum{\isachardot}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ Suc{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ b\ {\isacharasterisk}{\kern0pt}\ pochhammer\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}b\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ Suc{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left\ mult{\isacharunderscore}{\kern0pt}ac\ pochhammer{\isacharunderscore}{\kern0pt}rec{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharasterisk}{\kern0pt}\ pochhammer\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ n\ {\isacharplus}{\kern0pt}\ b\ {\isacharasterisk}{\kern0pt}\ pochhammer\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}b\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ pochhammer\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ pochhammer{\isacharunderscore}{\kern0pt}rec\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Contributed by Manuel Eberl, generalised by LCP.
  Alternative definition of the binomial coefficient as \isa{{\isasymProd}i{\isacharless}{\kern0pt}k{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}altdef{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ gchoose\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ \isakeyword{and}\ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ prod{\isacharunderscore}{\kern0pt}dividef\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ fact{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}over{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}pow{\isacharunderscore}{\kern0pt}k{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \isakeyword{and}\ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linordered{\isacharunderscore}{\kern0pt}field{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}of{\isacharunderscore}{\kern0pt}nat\ k\ {\isasymle}\ a{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ k\ {\isasymle}\ a\ gchoose\ k{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}iff\ order{\isacharunderscore}{\kern0pt}trans\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isachardot}{\kern0pt}\ a\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymle}\ a\ gchoose\ k{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ k\ {\isasymLongrightarrow}\ {\isadigit{0}}\ {\isasymle}\ a\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ x\ zero{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}divide{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isasymle}\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ k{\isachardoublequoteclose}\ \isakeyword{for}\ i\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i\ {\isasymge}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}i\ {\isacharasterisk}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ mult{\isachardot}{\kern0pt}commute\ mult{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}right\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}mult{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharminus}{\kern0pt}\ a\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i\ {\isasymle}\ a\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}i\ {\isacharasterisk}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ arith\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}i\ {\isacharless}{\kern0pt}\ k{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps\ zero{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}iff\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}diff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}i\ {\isacharless}{\kern0pt}\ k{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}altdef{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ prod{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}negated{\isacharunderscore}{\kern0pt}upper{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharminus}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}pochhammer\ pochhammer{\isacharunderscore}{\kern0pt}minus\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}minus{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}a{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}negated{\isacharunderscore}{\kern0pt}upper{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}ac{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Suc{\isacharunderscore}{\kern0pt}times{\isacharunderscore}{\kern0pt}gbinomial{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ b{\isachardot}{\kern0pt}\ a\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}b\ {\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ b{\isachardot}{\kern0pt}\ a\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}b{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}shift\ del{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}cl{\isacharunderscore}{\kern0pt}ivl{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharslash}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}b\ {\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ Suc\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Suc\ field{\isacharunderscore}{\kern0pt}simps\ del{\isacharcolon}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}factors{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ Suc\ b{\isachardot}{\kern0pt}\ a\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}b\ {\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ Suc\ b{\isachardot}{\kern0pt}\ a\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}b{\isachardot}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}atLeast{\isadigit{0}}{\isacharunderscore}{\kern0pt}atMost{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}shift\ del{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}cl{\isacharunderscore}{\kern0pt}ivl{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharslash}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}b\ {\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ Suc\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost\ atLeast{\isadigit{0}}AtMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}rec{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ a\ k{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps\ del{\isacharcolon}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}Suc{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}symmetric{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ n\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ n{\isacharparenright}{\kern0pt}\ gchoose\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ n{\isacharparenright}{\kern0pt}\ gchoose\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}symmetric{\isacharbrackleft}{\kern0pt}of\ k\ n{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}gbinomial\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The absorption identity (equation 5.5 \cite[p.~157]{GKP_CM}):
\[
{r \choose k} = \frac{r}{k}{r - 1 \choose k - 1},\quad \textnormal{integer } k \neq 0.
\]%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}absorption{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}\ {\isasymLongrightarrow}\ a\ gchoose\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ gchoose\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}rec{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}rec\ field{\isacharunderscore}{\kern0pt}simps\ del{\isacharcolon}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The absorption identity is written in the following form to avoid
division by $k$ (the lower index) and therefore remove the $k \neq 0$
restriction \cite[p.~157]{GKP_CM}:
\[
k{r \choose k} = r{r - 1 \choose k - 1}, \quad \textnormal{integer } k.
\]%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}absorption{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}absorption{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Suc\ k{\isachardoublequoteclose}\ a{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps\ del{\isacharcolon}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The absorption identity for natural number binomial coefficients:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}absorption{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ Suc{\isacharunderscore}{\kern0pt}times{\isacharunderscore}{\kern0pt}binomial\ del{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc\ mult{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The absorption companion identity for natural number coefficients,
  following the proof by GKP \cite[p.~157]{GKP_CM}:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}absorb{\isacharunderscore}{\kern0pt}comp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}n\ {\isasymle}\ k{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}rhs\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ Suc\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}symmetric{\isacharbrackleft}{\kern0pt}of\ k\ {\isachardoublequoteopen}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}absorption{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ k{\isachardoublequoteclose}\ n{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Suc\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ {\isacharminus}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ choose\ {\isasymdots}\ {\isacharequal}{\kern0pt}\ n\ choose\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ binomial{\isacharunderscore}{\kern0pt}symmetric\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The generalised absorption companion identity:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}absorb{\isacharunderscore}{\kern0pt}comp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ pochhammer{\isacharunderscore}{\kern0pt}absorb{\isacharunderscore}{\kern0pt}comp{\isacharbrackleft}{\kern0pt}of\ a\ k{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}pochhammer{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}addition{\isacharunderscore}{\kern0pt}formula{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ k{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}addition{\isacharunderscore}{\kern0pt}formula{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ n\ {\isasymLongrightarrow}\ n\ choose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ choose{\isacharunderscore}{\kern0pt}reduce{\isacharunderscore}{\kern0pt}nat{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Equation 5.9 of the reference material \cite[p.~159]{GKP_CM} is a useful
  summation formula, operating on both indices:
  \[
   \sum\limits_{k \leq n}{r + k \choose k} = {r + n + 1 \choose n},
   \quad \textnormal{integer } n.
  \]%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ m{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}ac{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Summation on the upper index%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Another summation formula is equation 5.10 of the reference material \cite[p.~160]{GKP_CM},
  aptly named \emph{summation on the upper index}:\[\sum_{0 \leq k \leq n} {k \choose m} =
  {n + 1 \choose m + 1}, \quad \textnormal{integers } m, n \geq 0.\]%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}up{\isacharunderscore}{\kern0pt}index{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}j\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ j\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ n\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ {\isacharparenleft}{\kern0pt}k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}of\ {\isadigit{0}}\ k{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ k{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}ac{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}swap{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ k{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ gchoose\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}k\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}negated{\isacharunderscore}{\kern0pt}upper{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ power{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}distrib\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}k\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ gchoose\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}symmetric{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}negated{\isacharunderscore}{\kern0pt}upper{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}lower{\isacharunderscore}{\kern0pt}neg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ m\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ gchoose\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ gchoose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ sum{\isachardot}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ refl{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}negated{\isacharunderscore}{\kern0pt}upper{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ power{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}distrib{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ \ {\isacharequal}{\kern0pt}\ {\isacharminus}{\kern0pt}\ a\ {\isacharplus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ m\ gchoose\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}sum{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}negated{\isacharunderscore}{\kern0pt}upper{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ power{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}distrib{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}row{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}a\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharslash}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}Suc\ mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ Suc\ mm{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ a\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ gchoose\ Suc\ mm{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}absorb{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ refl{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ mm\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}absorption\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}bounds{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}plus{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharless}{\kern0pt}mm{\isachardot}{\kern0pt}\ f\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}mm{\isachardot}{\kern0pt}\ f\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ mm{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}poly{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ m\ {\isacharplus}{\kern0pt}\ a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ y{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharminus}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharplus}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharminus}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ m\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs\ m{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ G\ \isakeyword{where}\ {\isachardoublequoteopen}G\ i\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ i\ {\isacharplus}{\kern0pt}\ a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ y{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}i\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ i\ k\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S\ \isakeyword{where}\ {\isachardoublequoteopen}S\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}lhs{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ SG{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G\ i\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ S{\isacharunderscore}{\kern0pt}def\ G{\isacharunderscore}{\kern0pt}def\ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}S\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\ {\isadigit{0}}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}Suc\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ mm{\isachardot}{\kern0pt}\ G\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ SG{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}atLeast{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}atMost\ atLeast{\isadigit{0}}AtMost\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}Suc\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}Suc\ mm{\isachardot}{\kern0pt}\ G\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}mm{\isachardot}{\kern0pt}\ G\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isachardot}{\kern0pt}shift{\isacharunderscore}{\kern0pt}bounds{\isacharunderscore}{\kern0pt}cl{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}ivl{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ y{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}mm\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}addition{\isacharunderscore}{\kern0pt}formula{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ y{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}mm\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ y{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}mm\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isachardot}{\kern0pt}distrib\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ y{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}mm\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharless}{\kern0pt}Suc\ mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ y{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}mm\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ atLeast{\isadigit{0}}AtMost\ lessThan{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}atMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharless}{\kern0pt}mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ y{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}mm{\isacharminus}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}A\ {\isacharplus}{\kern0pt}\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isachardot}{\kern0pt}lessThan{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ y{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}mm\ {\isacharminus}{\kern0pt}\ k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isacharunderscore}{\kern0pt}bounds{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}plus{\isadigit{1}}\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ intro\ sum{\isachardot}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ refl{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ k\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ mm{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}mm\ {\isacharminus}{\kern0pt}\ k\ {\isacharequal}{\kern0pt}\ mm\ {\isacharminus}{\kern0pt}\ Suc\ k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x\ {\isacharcircum}{\kern0pt}\ Suc\ k\ {\isacharasterisk}{\kern0pt}\ y\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}mm\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x\ {\isacharcircum}{\kern0pt}\ Suc\ k\ {\isacharasterisk}{\kern0pt}\ y\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}mm\ {\isacharminus}{\kern0pt}\ Suc\ k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharplus}{\kern0pt}\ {\isacharquery}{\kern0pt}B\ {\isacharequal}{\kern0pt}\ y\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G\ mm\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ y{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}mm\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ mm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ S{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ atLeast{\isadigit{0}}AtMost\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}G\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G\ mm\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ G{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}S\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ y\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G\ mm\ {\isadigit{0}}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G\ mm\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ x\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ mm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ring{\isacharunderscore}{\kern0pt}distribs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}G\ mm\ {\isadigit{0}}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G\ mm\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ S\ mm{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}atLeast{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}atMost{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ SG{\isacharunderscore}{\kern0pt}def\ atLeast{\isadigit{0}}AtMost{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}S\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharplus}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ mm{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ mm\ {\isacharplus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ gbinomial{\isacharunderscore}{\kern0pt}negated{\isacharunderscore}{\kern0pt}upper{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ Suc\ mm\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ a\ gchoose\ Suc\ mm{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x\ {\isacharcircum}{\kern0pt}\ Suc\ mm\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ Suc\ mm{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ power{\isacharunderscore}{\kern0pt}minus{\isacharbrackleft}{\kern0pt}of\ x{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x\ {\isacharplus}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ S\ mm\ {\isacharplus}{\kern0pt}\ {\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharplus}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs\ mm\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}Suc\ mm{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ S{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ Suc{\isachardot}{\kern0pt}IH{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x\ {\isacharplus}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs\ mm\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}n{\isasymle}mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ a\ gchoose\ n{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ n\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharplus}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ mm\ {\isacharminus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharcomma}{\kern0pt}\ rule\ sum{\isachardot}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ Suc{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}a\ gchoose\ {\isacharparenleft}{\kern0pt}Suc\ mm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}Suc\ mm\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}n{\isasymle}Suc\ mm{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ a\ gchoose\ n{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ n\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharplus}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ mm\ {\isacharminus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ S{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}xpos{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ m\ {\isacharplus}{\kern0pt}\ a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ y{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharminus}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharplus}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ x{\isacharcircum}{\kern0pt}k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharplus}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharminus}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharplus}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}poly{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharminus}{\kern0pt}\ {\isacharminus}{\kern0pt}\ a\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ k\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharplus}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ opaque{\isacharunderscore}{\kern0pt}lifting{\isacharparenright}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}negated{\isacharunderscore}{\kern0pt}upper{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ sum{\isachardot}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ flip{\isacharcolon}{\kern0pt}\ power{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}distrib{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isadigit{2}}{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharasterisk}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}row{\isacharunderscore}{\kern0pt}sum{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ n{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ atMost{\isacharunderscore}{\kern0pt}atLeast{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k\ {\isacharequal}{\kern0pt}\ m{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isadigit{2}}{\isacharasterisk}{\kern0pt}m{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sum{\isachardot}{\kern0pt}ub{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nat{\isacharbrackleft}{\kern0pt}of\ {\isadigit{0}}\ m\ {\isachardoublequoteopen}{\isasymlambda}k{\isachardot}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ k{\isachardoublequoteclose}\ {\isachardoublequoteopen}m{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k\ {\isacharequal}{\kern0pt}\ m{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isadigit{2}}{\isacharasterisk}{\kern0pt}m{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymSum}k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ {\isacharparenleft}{\kern0pt}k\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isachardot}{\kern0pt}shift{\isacharunderscore}{\kern0pt}bounds{\isacharunderscore}{\kern0pt}cl{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}ivl\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ sum{\isachardot}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ refl{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ subst\ binomial{\isacharunderscore}{\kern0pt}symmetric{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sum{\isachardot}{\kern0pt}atLeastAtMost{\isacharunderscore}{\kern0pt}rev\ {\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}k{\isachardot}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ choose\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isadigit{0}}\ m{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharplus}{\kern0pt}\ {\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isasymdots}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}asm{\isacharparenright}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}cancel{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ atLeast{\isadigit{0}}AtMost{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ m{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ gchoose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}gbinomial\ add{\isacharunderscore}{\kern0pt}ac{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ binomial{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}sum{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ refl{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}pow{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ gchoose\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ m\ {\isacharasterisk}{\kern0pt}\ {\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ m\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharasterisk}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ m{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ m{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ gchoose\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}sum\ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}xpos{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\ a{\isacharequal}{\kern0pt}{\isachardoublequoteopen}of{\isacharunderscore}{\kern0pt}nat\ m\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharequal}{\kern0pt}{\isachardoublequoteopen}m{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}ac{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ m\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}k{\isasymle}m{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}\ {\isacharcircum}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps\ power{\isacharunderscore}{\kern0pt}diff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}asm{\isacharparenright}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}cancel{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}trinomial{\isacharunderscore}{\kern0pt}revision{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}k\ {\isasymle}\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ gchoose\ m{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ m\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ gchoose\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ gchoose\ m{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ m\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ m{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ m\ {\isacharslash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}gbinomial\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ gchoose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ gchoose\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}pochhammer\ power{\isacharunderscore}{\kern0pt}diff\ pochhammer{\isacharunderscore}{\kern0pt}product{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Versions of the theorems above for the natural-number version of "choose"%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}altdef{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}k\ {\isasymle}\ n\ {\isasymLongrightarrow}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}k{\isachardot}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ n\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ \isakeyword{and}\ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}field{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}altdef{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ binomial{\isacharunderscore}{\kern0pt}gbinomial\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}diff{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}over{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}pow{\isacharunderscore}{\kern0pt}k{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ n\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat\ n\ {\isacharslash}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ k\ {\isasymle}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ k\ n\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ \isakeyword{and}\ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linordered{\isacharunderscore}{\kern0pt}field{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}over{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}pow{\isacharunderscore}{\kern0pt}k\ binomial{\isacharunderscore}{\kern0pt}gbinomial\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}diff{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}pow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}r\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}n\ choose\ r\ {\isasymle}\ n\ {\isacharcircum}{\kern0pt}\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ choose\ r\ {\isasymle}\ fact\ n\ div\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}lemma{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ fact{\isacharunderscore}{\kern0pt}div{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}pow\ {\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}altdef{\isacharunderscore}{\kern0pt}nat{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ n\ {\isasymLongrightarrow}\ n\ choose\ k\ {\isacharequal}{\kern0pt}\ fact\ n\ div\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{for}\ k\ n\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}lemma\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}dvd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}k\ {\isasymle}\ n{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ dvd\ {\isacharparenleft}{\kern0pt}fact\ n\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linordered{\isacharunderscore}{\kern0pt}semidom{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ dvd{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fact\ n\ {\isacharequal}{\kern0pt}\ fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms\ binomial{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}lemma\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}fact\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}mult{\isacharparenright}{\kern0pt}\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fact{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}dvd{\isacharunderscore}{\kern0pt}fact{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ n\ dvd\ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}k\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linordered{\isacharunderscore}{\kern0pt}semidom{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ add{\isachardot}{\kern0pt}commute\ add{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}left{\isacharprime}{\kern0pt}\ choose{\isacharunderscore}{\kern0pt}dvd\ le{\isacharunderscore}{\kern0pt}add{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}lemma{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ choose\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ div\ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r\ {\isacharminus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ div\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}altdef{\isacharunderscore}{\kern0pt}nat{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ div\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r\ {\isacharminus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ div{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}div{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}dvd{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps\ fact{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}dvd{\isacharunderscore}{\kern0pt}fact{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ add{\isachardot}{\kern0pt}assoc\ add{\isachardot}{\kern0pt}commute\ fact{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}dvd{\isacharunderscore}{\kern0pt}fact{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ div\ {\isacharparenleft}{\kern0pt}fact\ r\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps\ fact{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}dvd{\isacharunderscore}{\kern0pt}fact{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ div\ {\isacharparenleft}{\kern0pt}fact\ r\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ m{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ div{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}div{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}dvd\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fact{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}dvd{\isacharunderscore}{\kern0pt}fact\ dvd{\isacharunderscore}{\kern0pt}trans\ nat{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}dvd{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}disj{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r\ {\isacharplus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ div\ {\isacharparenleft}{\kern0pt}fact\ k\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}m\ {\isacharplus}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ div\ {\isacharparenleft}{\kern0pt}fact\ r\ {\isacharasterisk}{\kern0pt}\ fact\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ div{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}div{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}dvd\ fact{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}dvd{\isacharunderscore}{\kern0pt}fact\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}altdef{\isacharunderscore}{\kern0pt}nat\ mult{\isachardot}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The "Subset of a Subset" identity.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}mult{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}k\ {\isasymle}\ m\ {\isasymLongrightarrow}\ m\ {\isasymle}\ n\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}n\ choose\ m{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ choose\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}lemma\ {\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}m{\isacharminus}{\kern0pt}k{\isachardoublequoteclose}\ {\isachardoublequoteopen}n{\isacharminus}{\kern0pt}m{\isachardoublequoteclose}\ k{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{More on Binomial Coefficients%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ choose{\isacharunderscore}{\kern0pt}one{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ choose\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ \isakeyword{for}\ n\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}UNION{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymforall}k\ {\isasymin}\ A{\isachardot}{\kern0pt}\ finite\ k{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}A{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nat\ {\isacharparenleft}{\kern0pt}{\isasymSum}I\ {\isacharbar}{\kern0pt}\ I\ {\isasymsubseteq}\ A\ {\isasymand}\ I\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ I\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ int\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}{\isasymInter}I{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}rhs\ {\isacharequal}{\kern0pt}\ nat\ {\isacharparenleft}{\kern0pt}{\isasymSum}I\ {\isacharbar}{\kern0pt}\ I\ {\isasymsubseteq}\ A\ {\isasymand}\ I\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ I\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}{\isacharunderscore}{\kern0pt}{\isasymin}{\isasymInter}I{\isachardot}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ nat\ {\isacharparenleft}{\kern0pt}{\isasymSum}I\ {\isacharbar}{\kern0pt}\ I\ {\isasymsubseteq}\ A\ {\isasymand}\ I\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}{\isacharunderscore}{\kern0pt}{\isasymin}{\isasymInter}I{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ I\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nat\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}rhs\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}{\isacharparenleft}{\kern0pt}I{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymin}Sigma\ {\isacharbraceleft}{\kern0pt}I{\isachardot}{\kern0pt}\ I\ {\isasymsubseteq}\ A\ {\isasymand}\ I\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ Inter{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ I\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isachardot}{\kern0pt}Sigma{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ I{\isacharparenright}{\kern0pt}{\isasymin}{\isacharparenleft}{\kern0pt}SIGMA\ x{\isacharcolon}{\kern0pt}UNIV{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}I{\isachardot}{\kern0pt}\ I\ {\isasymsubseteq}\ A\ {\isasymand}\ I\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ x\ {\isasymin}\ {\isasymInter}I{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ I\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sum{\isachardot}{\kern0pt}reindex{\isacharunderscore}{\kern0pt}cong\ {\isacharbrackleft}{\kern0pt}\isakeyword{where}\ l\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}onI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ I{\isacharparenright}{\kern0pt}{\isasymin}{\isacharparenleft}{\kern0pt}SIGMA\ x{\isacharcolon}{\kern0pt}{\isasymUnion}A{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}I{\isachardot}{\kern0pt}\ I\ {\isasymsubseteq}\ A\ {\isasymand}\ I\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ x\ {\isasymin}\ {\isasymInter}I{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ I\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}mono{\isacharunderscore}{\kern0pt}neutral{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}right\ finite{\isacharunderscore}{\kern0pt}SigmaI{\isadigit{2}}\ intro{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ B{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymUnion}A{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}x{\isasymin}{\isasymUnion}A{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}I{\isacharbar}{\kern0pt}I\ {\isasymsubseteq}\ A\ {\isasymand}\ I\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ x\ {\isasymin}\ {\isasymInter}I{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ I\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isachardot}{\kern0pt}Sigma{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}{\isacharunderscore}{\kern0pt}{\isasymin}{\isasymUnion}A{\isachardot}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}sum\ {\isacharquery}{\kern0pt}lhs\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sum{\isachardot}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ refl{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isasymUnion}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ K\ \isakeyword{where}\ {\isachardoublequoteopen}K\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}X\ {\isasymin}\ A{\isachardot}{\kern0pt}\ x\ {\isasymin}\ X{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}finite\ A{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ K{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ K{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}I\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}i{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}I{\isachardot}{\kern0pt}\ I\ {\isasymsubseteq}\ A\ {\isasymand}\ card\ I\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ x\ {\isasymin}\ {\isasymInter}I{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ snd\ {\isacharparenleft}{\kern0pt}SIGMA\ i{\isacharcolon}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharquery}{\kern0pt}I\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}onI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}snd\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SIGMA\ i{\isacharcolon}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharquery}{\kern0pt}I\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}I{\isachardot}{\kern0pt}\ I\ {\isasymsubseteq}\ A\ {\isasymand}\ I\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ x\ {\isasymin}\ {\isasymInter}I{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eqI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}card\ a{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ a{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}folded\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ dest{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}subset\ intro{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ I{\isacharparenright}{\kern0pt}{\isasymin}{\isacharparenleft}{\kern0pt}SIGMA\ i{\isacharcolon}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharquery}{\kern0pt}I\ i{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sum{\isachardot}{\kern0pt}reindex{\isacharunderscore}{\kern0pt}cong\ {\isacharbrackleft}{\kern0pt}\isakeyword{where}\ l\ {\isacharequal}{\kern0pt}\ snd{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ fastforce\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ A{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}I{\isacharbar}{\kern0pt}I\ {\isasymsubseteq}\ A\ {\isasymand}\ card\ I\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ x\ {\isasymin}\ {\isasymInter}I{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isachardot}{\kern0pt}Sigma{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ A{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}I{\isacharbar}{\kern0pt}I\ {\isasymsubseteq}\ A\ {\isasymand}\ card\ I\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ x\ {\isasymin}\ {\isasymInter}I{\isachardot}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ K{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}I{\isacharbar}{\kern0pt}I\ {\isasymsubseteq}\ K\ {\isasymand}\ card\ I\ {\isacharequal}{\kern0pt}\ i{\isachardot}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sum{\isachardot}{\kern0pt}mono{\isacharunderscore}{\kern0pt}neutral{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}right{\isacharbrackleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}format{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ K{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}finite\ A{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ K{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ A{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ K{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ card\ A{\isachardoublequoteclose}\ {\isachardoublequoteopen}card\ K\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}I{\isachardot}{\kern0pt}\ I\ {\isasymsubseteq}\ A\ {\isasymand}\ card\ I\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ x\ {\isasymin}\ {\isasymInter}I{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}I{\isachardot}{\kern0pt}\ I\ {\isasymsubseteq}\ K\ {\isasymand}\ card\ I\ {\isacharequal}{\kern0pt}\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ K{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}finite\ A{\isacartoucheclose}\ i\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ K{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}rotated\ {\isadigit{1}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}I\ {\isacharbar}{\kern0pt}\ I\ {\isasymsubseteq}\ A\ {\isasymand}\ card\ I\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ x\ {\isasymin}\ {\isasymInter}I{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ int{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}I\ {\isacharbar}{\kern0pt}\ I\ {\isasymsubseteq}\ A\ {\isasymand}\ card\ I\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ x\ {\isasymin}\ {\isasymInter}I{\isachardot}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}I\ {\isacharbar}{\kern0pt}\ I\ {\isasymsubseteq}\ K\ {\isasymand}\ card\ I\ {\isacharequal}{\kern0pt}\ i{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ int{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sum{\isachardot}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ K{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharquery}{\kern0pt}lhs\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharquery}{\kern0pt}rhs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}I{\isachardot}{\kern0pt}\ I\ {\isasymsubseteq}\ K\ {\isasymand}\ card\ I\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ K{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}rhs\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ K{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}I\ {\isacharbar}{\kern0pt}\ I\ {\isasymsubseteq}\ K\ {\isasymand}\ card\ I\ {\isacharequal}{\kern0pt}\ i{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ int{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sum{\isachardot}{\kern0pt}atLeast{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}atMost{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ K{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ int\ {\isacharparenleft}{\kern0pt}card\ K\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ K\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ n{\isacharunderscore}{\kern0pt}subsets{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}card\ K{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ i\ {\isacharasterisk}{\kern0pt}\ int\ {\isacharparenleft}{\kern0pt}card\ K\ choose\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ sum{\isacharunderscore}{\kern0pt}distrib{\isacharunderscore}{\kern0pt}left{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ \ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ card\ K{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ binomial{\isacharunderscore}{\kern0pt}ring{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ac{\isacharunderscore}{\kern0pt}simps\ atMost{\isacharunderscore}{\kern0pt}atLeast{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x\ K\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ K{\isacharunderscore}{\kern0pt}def\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}lhs\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}nat\ {\isasymdots}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The number of nat lists of length \isa{m} summing to \isa{N} is \isa{N\ {\isacharplus}{\kern0pt}\ m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ choose\ N}:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}l{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ list{\isachardot}{\kern0pt}\ length\ l\ {\isacharequal}{\kern0pt}\ m\ {\isasymand}\ sum{\isacharunderscore}{\kern0pt}list\ l\ {\isacharequal}{\kern0pt}\ N{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}l{\isachardot}{\kern0pt}\ length\ l\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymand}\ sum{\isacharunderscore}{\kern0pt}list\ l\ {\isacharequal}{\kern0pt}\ N{\isacharbraceright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}l{\isachardot}{\kern0pt}\ length\ l\ {\isacharequal}{\kern0pt}\ m\ {\isasymand}\ sum{\isacharunderscore}{\kern0pt}list\ l\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ N{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}C\ {\isacharequal}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}A\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}A{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}l{\isachardot}{\kern0pt}\ length\ l\ {\isacharequal}{\kern0pt}\ m\ {\isasymand}\ sum{\isacharunderscore}{\kern0pt}list\ l\ {\isacharequal}{\kern0pt}\ N\ {\isasymand}\ hd\ l\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}B{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}l{\isachardot}{\kern0pt}\ length\ l\ {\isacharequal}{\kern0pt}\ m\ {\isasymand}\ sum{\isacharunderscore}{\kern0pt}list\ l\ {\isacharequal}{\kern0pt}\ N\ {\isasymand}\ hd\ l\ {\isasymnoteq}\ {\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}l{\isachardot}{\kern0pt}\ {\isadigit{0}}\ {\isacharhash}{\kern0pt}\ l{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}g\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}l{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}hd\ l\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ tl\ l{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ hd\ xs\ {\isasymLongrightarrow}\ x\ {\isacharhash}{\kern0pt}\ tl\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ \isakeyword{for}\ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ \isakeyword{and}\ xs\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ sum{\isacharunderscore}{\kern0pt}list{\isacharparenleft}{\kern0pt}tl\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sum{\isacharunderscore}{\kern0pt}list\ xs\ {\isacharminus}{\kern0pt}\ hd\ xs{\isachardoublequoteclose}\ \isakeyword{for}\ xs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ neq{\isacharunderscore}{\kern0pt}Nil{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bij{\isacharunderscore}{\kern0pt}betw\ {\isacharquery}{\kern0pt}f\ {\isacharquery}{\kern0pt}A\ {\isacharquery}{\kern0pt}A{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}byWitness{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ tl{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}use\ assms\ \isakeyword{in}\ {\isacartoucheopen}auto\ simp{\isacharcolon}{\kern0pt}\ {\isadigit{2}}\ {\isadigit{1}}\ simp\ flip{\isacharcolon}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}conv{\isacartoucheclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ hd\ xs\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sum{\isacharunderscore}{\kern0pt}list\ xs\ {\isacharminus}{\kern0pt}\ hd\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sum{\isacharunderscore}{\kern0pt}list\ xs{\isachardoublequoteclose}\ \isakeyword{for}\ xs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isadigit{1}}\ sum{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bij{\isacharunderscore}{\kern0pt}betw\ {\isacharquery}{\kern0pt}g\ {\isacharquery}{\kern0pt}B\ {\isacharquery}{\kern0pt}B{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}byWitness{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ f{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}l{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}hd\ l\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ tl\ l{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isadigit{2}}\ simp\ flip{\isacharcolon}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}conv\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharbraceleft}{\kern0pt}xs{\isachardot}{\kern0pt}\ size\ xs\ {\isacharequal}{\kern0pt}\ M\ {\isasymand}\ set\ xs\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}N{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ M\ N\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}lists{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}atLeastLessThan{\isacharbrackright}{\kern0pt}\ conj{\isacharunderscore}{\kern0pt}commute\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ fin{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}N{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ finite{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}B\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}xs{\isachardot}{\kern0pt}\ size\ xs\ {\isacharequal}{\kern0pt}\ m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ {\isasymand}\ set\ xs\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}N{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ member{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}list\ less{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}B{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ finite{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}B{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}B\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}xs{\isachardot}{\kern0pt}\ size\ xs\ {\isacharequal}{\kern0pt}\ m\ {\isasymand}\ set\ xs\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}N{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ member{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}list\ less{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}le\ fin{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ uni{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}C\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}A{\isacharprime}{\kern0pt}\ {\isasymunion}\ {\isacharquery}{\kern0pt}B{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}A{\isacharprime}{\kern0pt}\ {\isasyminter}\ {\isacharquery}{\kern0pt}B{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}C\ {\isacharequal}{\kern0pt}\ card{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}A{\isacharprime}{\kern0pt}\ {\isasymunion}\ {\isacharquery}{\kern0pt}B{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ uni\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}A\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjoint{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ disj{\isacharbrackright}{\kern0pt}\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}finite{\isacharbrackleft}{\kern0pt}OF\ f{\isacharbrackright}{\kern0pt}\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}finite{\isacharbrackleft}{\kern0pt}OF\ g{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}same{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ f{\isacharbrackright}{\kern0pt}\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}same{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ g{\isacharbrackright}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}A\ fin{\isacharunderscore}{\kern0pt}B\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}l{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ list{\isachardot}{\kern0pt}\ size\ l\ {\isacharequal}{\kern0pt}\ m\ {\isasymand}\ sum{\isacharunderscore}{\kern0pt}list\ l\ {\isacharequal}{\kern0pt}\ N{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}N\ {\isacharplus}{\kern0pt}\ m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ N{\isachardoublequoteclose}\isanewline
\ \ %
\isamarkupcmt{by Holden Lee, tidied by Tobias Nipkow%
}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ N{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ cong{\isacharcolon}{\kern0pt}\ conj{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ m{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ {\isachardoublequoteopen}N\ {\isacharplus}{\kern0pt}\ m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ N\ m{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\ \ %
\isamarkupcmt{In the base case, the only solution is [0].%
}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}l{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ list{\isachardot}{\kern0pt}\ length\ l\ {\isacharequal}{\kern0pt}\ Suc\ {\isadigit{0}}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}n{\isasymin}set\ l{\isachardot}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}\ {\isasymand}\ N\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ c{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}l{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ list{\isachardot}{\kern0pt}\ size\ l\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymand}\ sum{\isacharunderscore}{\kern0pt}list\ l\ {\isacharequal}{\kern0pt}\ \ N{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}N\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ N{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}hyps\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}N\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ True\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Suc\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Suc\ \isacommand{have}\isamarkupfalse%
\ c{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}l{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ list{\isachardot}{\kern0pt}\ size\ l\ {\isacharequal}{\kern0pt}\ m\ {\isasymand}\ sum{\isacharunderscore}{\kern0pt}list\ l\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ N{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ N\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}\ then\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}N\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}N\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}\ {\isasymLongrightarrow}\ Suc\ m\ {\isacharequal}{\kern0pt}\ n\ {\isasymlongleftrightarrow}\ m\ {\isacharequal}{\kern0pt}\ n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{for}\ m\ n\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ arith\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Suc\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}N\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}l{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ list{\isachardot}{\kern0pt}\ size\ l\ {\isacharequal}{\kern0pt}\ m\ {\isasymand}\ sum{\isacharunderscore}{\kern0pt}list\ l\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ N{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}N\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ {\isacharparenleft}{\kern0pt}N\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isacharasterisk}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Suc{\isachardot}{\kern0pt}prems\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}card\ {\isacharbraceleft}{\kern0pt}l{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ list{\isachardot}{\kern0pt}\ size\ l\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymand}\ sum{\isacharunderscore}{\kern0pt}list\ l\ {\isacharequal}{\kern0pt}\ N{\isacharbraceright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}l{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ list{\isachardot}{\kern0pt}\ size\ l\ {\isacharequal}{\kern0pt}\ m\ {\isasymand}\ sum{\isacharunderscore}{\kern0pt}list\ l\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ N{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}N\ {\isacharplus}{\kern0pt}\ m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ choose\ N{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ c{\isadigit{1}}\ c{\isadigit{2}}\ choose{\isacharunderscore}{\kern0pt}reduce{\isacharunderscore}{\kern0pt}nat{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}N\ {\isacharplus}{\kern0pt}\ m\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ N{\isacharbrackright}{\kern0pt}\ simp\ del{\isacharcolon}{\kern0pt}\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec{\isacharbrackleft}{\kern0pt}OF\ Suc{\isachardot}{\kern0pt}prems{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}shuffles{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ xs\ {\isasyminter}\ set\ ys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}shuffles\ xs\ ys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ xs\ {\isacharplus}{\kern0pt}\ length\ ys{\isacharparenright}{\kern0pt}\ choose\ length\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ ys\ rule{\isacharcolon}{\kern0pt}\ shuffles{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ x\ xs\ y\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}shuffles\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharbackquote}{\kern0pt}\ shuffles\ xs\ {\isacharparenleft}{\kern0pt}y\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharparenright}{\kern0pt}\ y\ {\isacharbackquote}{\kern0pt}\ shuffles\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ shuffles{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isasymdots}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharbackquote}{\kern0pt}\ shuffles\ xs\ {\isacharparenleft}{\kern0pt}y\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharparenright}{\kern0pt}\ y\ {\isacharbackquote}{\kern0pt}\ shuffles\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjoint{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}insert\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharbackquote}{\kern0pt}\ shuffles\ xs\ {\isacharparenleft}{\kern0pt}y\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}shuffles\ xs\ {\isacharparenleft}{\kern0pt}y\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ card{\isacharunderscore}{\kern0pt}image{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ xs\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}y\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ choose\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}IH{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharparenright}{\kern0pt}\ y\ {\isacharbackquote}{\kern0pt}\ shuffles\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}shuffles\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ card{\isacharunderscore}{\kern0pt}image{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ ys{\isacharparenright}{\kern0pt}\ choose\ length\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}IH{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ xs\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}y\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}\ choose\ length\ xs\ {\isacharplus}{\kern0pt}\ {\isasymdots}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}y\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ choose\ length\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Suc{\isacharunderscore}{\kern0pt}times{\isacharunderscore}{\kern0pt}binomial{\isacharunderscore}{\kern0pt}add{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ a\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ choose\ Suc\ a{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ b\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ choose\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ %
\isamarkupcmt{by Lukas Bulwahn%
}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ dvd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ a\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ a\ {\isacharasterisk}{\kern0pt}\ fact\ b{\isacharparenright}{\kern0pt}\ dvd\ fact\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ a\ b\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fact{\isacharunderscore}{\kern0pt}fact{\isacharunderscore}{\kern0pt}dvd{\isacharunderscore}{\kern0pt}fact{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Suc\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}b{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ {\isacharprime}{\kern0pt}a{\isacharequal}{\kern0pt}nat{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ fact{\isacharunderscore}{\kern0pt}Suc\ add{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}id\ mult{\isachardot}{\kern0pt}assoc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Suc\ a\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ div\ {\isacharparenleft}{\kern0pt}Suc\ a\ {\isacharasterisk}{\kern0pt}\ fact\ a\ {\isacharasterisk}{\kern0pt}\ fact\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ Suc\ a\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ div\ {\isacharparenleft}{\kern0pt}Suc\ a\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ a\ {\isacharasterisk}{\kern0pt}\ fact\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ div{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}swap{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\ simp\ only{\isacharcolon}{\kern0pt}\ mult{\isachardot}{\kern0pt}assoc\ dvd{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ Suc\ b\ {\isacharasterisk}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ div\ {\isacharparenleft}{\kern0pt}Suc\ b\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ a\ {\isacharasterisk}{\kern0pt}\ fact\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ div{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}mult{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ Suc\ b\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ div\ {\isacharparenleft}{\kern0pt}Suc\ b\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fact\ a\ {\isacharasterisk}{\kern0pt}\ fact\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ dvd{\isacharbrackleft}{\kern0pt}of\ b\ a{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ div{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}swap{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\ simp\ only{\isacharcolon}{\kern0pt}\ ac{\isacharunderscore}{\kern0pt}simps\ dvd{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}altdef{\isacharunderscore}{\kern0pt}nat{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ only{\isacharcolon}{\kern0pt}\ ac{\isacharunderscore}{\kern0pt}simps\ diff{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Suc\ Suc{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}le\ diff{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}inverse\ fact{\isacharunderscore}{\kern0pt}Suc\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}id{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Executable code%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ gbinomial{\isacharunderscore}{\kern0pt}code\ {\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}a\ gchoose\ k\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}if\ k\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ then\ {\isadigit{1}}\isanewline
\ \ \ \ \ else\ fold{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}{\isasymlambda}k\ acc{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharminus}{\kern0pt}\ of{\isacharunderscore}{\kern0pt}nat\ k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ acc{\isacharparenright}{\kern0pt}\ {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isadigit{1}}\ {\isacharslash}{\kern0pt}\ fact\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ gbinomial{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}rev\ prod{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharunderscore}{\kern0pt}code\ {\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ atLeastLessThanSuc{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ binomial{\isacharunderscore}{\kern0pt}code\ {\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}n\ choose\ k\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ k\ {\isachargreater}{\kern0pt}\ n\ then\ {\isadigit{0}}\isanewline
\ \ \ \ \ \ \ else\ if\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ k\ {\isachargreater}{\kern0pt}\ n\ then\ n\ choose\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ else\ {\isacharparenleft}{\kern0pt}fold{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharunderscore}{\kern0pt}nat\ {\isacharparenleft}{\kern0pt}{\isacharasterisk}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharminus}{\kern0pt}\ k\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ n\ {\isadigit{1}}\ div\ fact\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharminus}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}n{\isacharminus}{\kern0pt}k{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}fact\ n\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fact\ {\isacharparenleft}{\kern0pt}n{\isacharminus}{\kern0pt}k{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isasymProd}{\isacharbraceleft}{\kern0pt}n{\isacharminus}{\kern0pt}k{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}union{\isacharunderscore}{\kern0pt}disjoint\ fact{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ binomial{\isacharunderscore}{\kern0pt}altdef{\isacharunderscore}{\kern0pt}nat\ mult{\isacharunderscore}{\kern0pt}ac\ prod{\isacharunderscore}{\kern0pt}atLeastAtMost{\isacharunderscore}{\kern0pt}code{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Binomial.tex%:%
%:%11=9%:%
%:%27=11%:%
%:%28=11%:%
%:%29=12%:%
%:%30=13%:%
%:%44=15%:%
%:%56=17%:%
%:%60=19%:%
%:%62=21%:%
%:%63=21%:%
%:%64=22%:%
%:%65=23%:%
%:%66=24%:%
%:%67=24%:%
%:%68=25%:%
%:%69=26%:%
%:%76=27%:%
%:%77=27%:%
%:%78=28%:%
%:%79=28%:%
%:%80=28%:%
%:%81=29%:%
%:%82=29%:%
%:%83=30%:%
%:%84=30%:%
%:%85=30%:%
%:%86=31%:%
%:%87=31%:%
%:%88=32%:%
%:%89=32%:%
%:%90=32%:%
%:%91=33%:%
%:%92=33%:%
%:%93=34%:%
%:%94=34%:%
%:%95=34%:%
%:%96=35%:%
%:%97=35%:%
%:%98=36%:%
%:%99=36%:%
%:%100=36%:%
%:%101=37%:%
%:%102=37%:%
%:%103=38%:%
%:%104=38%:%
%:%105=38%:%
%:%106=39%:%
%:%107=39%:%
%:%108=40%:%
%:%109=40%:%
%:%110=40%:%
%:%111=41%:%
%:%112=42%:%
%:%113=42%:%
%:%114=43%:%
%:%115=43%:%
%:%116=43%:%
%:%117=44%:%
%:%118=44%:%
%:%119=45%:%
%:%120=45%:%
%:%121=45%:%
%:%122=46%:%
%:%123=46%:%
%:%124=47%:%
%:%125=47%:%
%:%126=47%:%
%:%127=48%:%
%:%128=48%:%
%:%129=49%:%
%:%139=51%:%
%:%141=53%:%
%:%142=53%:%
%:%149=54%:%
%:%150=54%:%
%:%151=55%:%
%:%152=55%:%
%:%153=56%:%
%:%154=56%:%
%:%155=57%:%
%:%156=57%:%
%:%157=57%:%
%:%158=58%:%
%:%159=58%:%
%:%160=59%:%
%:%166=59%:%
%:%169=60%:%
%:%170=61%:%
%:%171=61%:%
%:%174=62%:%
%:%178=62%:%
%:%179=62%:%
%:%184=62%:%
%:%187=63%:%
%:%188=64%:%
%:%189=64%:%
%:%196=65%:%
%:%197=65%:%
%:%198=66%:%
%:%199=66%:%
%:%200=67%:%
%:%201=67%:%
%:%202=68%:%
%:%203=68%:%
%:%204=69%:%
%:%205=69%:%
%:%206=70%:%
%:%207=70%:%
%:%208=71%:%
%:%209=71%:%
%:%210=72%:%
%:%211=72%:%
%:%212=73%:%
%:%213=73%:%
%:%214=74%:%
%:%215=74%:%
%:%216=74%:%
%:%217=75%:%
%:%218=75%:%
%:%219=76%:%
%:%220=76%:%
%:%221=77%:%
%:%222=77%:%
%:%223=78%:%
%:%224=78%:%
%:%225=78%:%
%:%226=79%:%
%:%227=79%:%
%:%228=80%:%
%:%229=81%:%
%:%230=81%:%
%:%231=82%:%
%:%232=82%:%
%:%233=82%:%
%:%234=83%:%
%:%235=83%:%
%:%236=84%:%
%:%237=84%:%
%:%238=84%:%
%:%239=84%:%
%:%240=85%:%
%:%241=85%:%
%:%242=86%:%
%:%243=86%:%
%:%244=87%:%
%:%245=87%:%
%:%246=88%:%
%:%247=89%:%
%:%248=90%:%
%:%249=90%:%
%:%250=91%:%
%:%251=91%:%
%:%252=91%:%
%:%253=92%:%
%:%254=92%:%
%:%255=93%:%
%:%256=93%:%
%:%257=93%:%
%:%258=93%:%
%:%259=94%:%
%:%260=94%:%
%:%261=95%:%
%:%267=95%:%
%:%270=96%:%
%:%271=97%:%
%:%272=97%:%
%:%275=98%:%
%:%279=98%:%
%:%280=98%:%
%:%285=98%:%
%:%288=99%:%
%:%289=100%:%
%:%290=100%:%
%:%293=101%:%
%:%297=101%:%
%:%298=101%:%
%:%303=101%:%
%:%306=102%:%
%:%307=103%:%
%:%308=103%:%
%:%311=104%:%
%:%315=104%:%
%:%316=104%:%
%:%321=104%:%
%:%324=105%:%
%:%325=106%:%
%:%326=106%:%
%:%329=107%:%
%:%333=107%:%
%:%334=107%:%
%:%339=107%:%
%:%342=108%:%
%:%343=109%:%
%:%344=109%:%
%:%347=110%:%
%:%351=110%:%
%:%352=110%:%
%:%357=110%:%
%:%360=111%:%
%:%361=112%:%
%:%362=112%:%
%:%365=113%:%
%:%369=113%:%
%:%370=113%:%
%:%375=113%:%
%:%378=114%:%
%:%379=115%:%
%:%380=115%:%
%:%383=116%:%
%:%387=116%:%
%:%388=116%:%
%:%393=116%:%
%:%396=117%:%
%:%397=118%:%
%:%398=118%:%
%:%399=119%:%
%:%400=120%:%
%:%403=121%:%
%:%407=121%:%
%:%408=121%:%
%:%409=121%:%
%:%414=121%:%
%:%417=122%:%
%:%418=123%:%
%:%419=123%:%
%:%426=124%:%
%:%427=124%:%
%:%428=125%:%
%:%429=125%:%
%:%430=126%:%
%:%431=126%:%
%:%432=126%:%
%:%433=127%:%
%:%434=127%:%
%:%435=128%:%
%:%436=128%:%
%:%437=129%:%
%:%438=129%:%
%:%439=130%:%
%:%440=130%:%
%:%441=131%:%
%:%442=131%:%
%:%443=132%:%
%:%444=132%:%
%:%445=133%:%
%:%446=133%:%
%:%447=133%:%
%:%448=134%:%
%:%449=134%:%
%:%450=135%:%
%:%451=135%:%
%:%452=136%:%
%:%453=136%:%
%:%454=137%:%
%:%460=137%:%
%:%463=138%:%
%:%464=139%:%
%:%465=139%:%
%:%472=140%:%
%:%473=140%:%
%:%474=141%:%
%:%475=141%:%
%:%476=142%:%
%:%477=142%:%
%:%478=142%:%
%:%479=143%:%
%:%480=143%:%
%:%481=143%:%
%:%482=144%:%
%:%483=144%:%
%:%484=145%:%
%:%485=145%:%
%:%486=146%:%
%:%487=146%:%
%:%488=147%:%
%:%489=147%:%
%:%490=148%:%
%:%491=148%:%
%:%492=149%:%
%:%493=149%:%
%:%494=149%:%
%:%495=150%:%
%:%496=150%:%
%:%497=150%:%
%:%498=151%:%
%:%499=151%:%
%:%500=152%:%
%:%510=154%:%
%:%512=155%:%
%:%513=155%:%
%:%516=156%:%
%:%520=156%:%
%:%521=156%:%
%:%522=156%:%
%:%531=158%:%
%:%532=159%:%
%:%534=160%:%
%:%535=160%:%
%:%538=161%:%
%:%542=161%:%
%:%543=161%:%
%:%552=163%:%
%:%554=164%:%
%:%555=164%:%
%:%558=165%:%
%:%562=165%:%
%:%563=165%:%
%:%564=166%:%
%:%565=166%:%
%:%579=169%:%
%:%591=171%:%
%:%593=172%:%
%:%594=172%:%
%:%595=173%:%
%:%602=174%:%
%:%603=174%:%
%:%604=175%:%
%:%605=175%:%
%:%606=176%:%
%:%607=176%:%
%:%608=176%:%
%:%609=176%:%
%:%610=177%:%
%:%611=177%:%
%:%612=178%:%
%:%613=178%:%
%:%614=179%:%
%:%615=179%:%
%:%616=180%:%
%:%617=180%:%
%:%618=181%:%
%:%619=181%:%
%:%620=182%:%
%:%621=182%:%
%:%622=183%:%
%:%623=183%:%
%:%624=184%:%
%:%625=184%:%
%:%626=184%:%
%:%627=185%:%
%:%628=185%:%
%:%629=185%:%
%:%630=186%:%
%:%631=187%:%
%:%632=187%:%
%:%633=188%:%
%:%634=188%:%
%:%635=188%:%
%:%636=189%:%
%:%637=190%:%
%:%638=190%:%
%:%639=191%:%
%:%640=191%:%
%:%641=191%:%
%:%642=192%:%
%:%643=193%:%
%:%644=193%:%
%:%645=194%:%
%:%646=194%:%
%:%647=194%:%
%:%649=196%:%
%:%650=197%:%
%:%651=197%:%
%:%652=198%:%
%:%653=198%:%
%:%654=199%:%
%:%655=199%:%
%:%656=199%:%
%:%657=200%:%
%:%658=201%:%
%:%659=201%:%
%:%660=202%:%
%:%661=202%:%
%:%662=202%:%
%:%663=203%:%
%:%664=203%:%
%:%665=203%:%
%:%666=204%:%
%:%667=204%:%
%:%668=204%:%
%:%669=205%:%
%:%670=205%:%
%:%671=206%:%
%:%681=208%:%
%:%683=209%:%
%:%684=209%:%
%:%687=210%:%
%:%691=210%:%
%:%692=210%:%
%:%693=211%:%
%:%694=211%:%
%:%695=212%:%
%:%700=212%:%
%:%703=213%:%
%:%704=214%:%
%:%705=214%:%
%:%712=215%:%
%:%713=215%:%
%:%714=216%:%
%:%715=216%:%
%:%716=217%:%
%:%717=217%:%
%:%718=218%:%
%:%719=218%:%
%:%720=219%:%
%:%721=219%:%
%:%722=220%:%
%:%723=220%:%
%:%724=221%:%
%:%725=221%:%
%:%726=221%:%
%:%727=222%:%
%:%728=222%:%
%:%729=222%:%
%:%730=223%:%
%:%731=223%:%
%:%732=224%:%
%:%733=224%:%
%:%734=225%:%
%:%735=225%:%
%:%736=225%:%
%:%737=225%:%
%:%738=226%:%
%:%739=226%:%
%:%740=227%:%
%:%741=227%:%
%:%742=228%:%
%:%743=228%:%
%:%744=229%:%
%:%745=229%:%
%:%746=230%:%
%:%747=230%:%
%:%748=231%:%
%:%749=231%:%
%:%750=232%:%
%:%751=232%:%
%:%752=232%:%
%:%753=233%:%
%:%754=233%:%
%:%755=234%:%
%:%756=234%:%
%:%757=234%:%
%:%758=235%:%
%:%759=235%:%
%:%760=236%:%
%:%761=236%:%
%:%762=236%:%
%:%763=237%:%
%:%764=237%:%
%:%765=238%:%
%:%766=238%:%
%:%767=238%:%
%:%768=239%:%
%:%769=239%:%
%:%770=239%:%
%:%771=240%:%
%:%772=240%:%
%:%773=241%:%
%:%774=241%:%
%:%775=241%:%
%:%777=243%:%
%:%778=244%:%
%:%779=244%:%
%:%780=245%:%
%:%781=245%:%
%:%782=245%:%
%:%783=246%:%
%:%784=246%:%
%:%785=247%:%
%:%786=247%:%
%:%787=248%:%
%:%788=248%:%
%:%789=248%:%
%:%790=249%:%
%:%791=249%:%
%:%792=249%:%
%:%793=250%:%
%:%794=250%:%
%:%795=251%:%
%:%801=251%:%
%:%804=252%:%
%:%805=253%:%
%:%806=253%:%
%:%807=254%:%
%:%808=255%:%
%:%811=256%:%
%:%815=256%:%
%:%816=256%:%
%:%817=257%:%
%:%818=257%:%
%:%823=257%:%
%:%826=258%:%
%:%827=259%:%
%:%828=259%:%
%:%829=260%:%
%:%830=261%:%
%:%833=262%:%
%:%837=262%:%
%:%838=262%:%
%:%839=263%:%
%:%840=263%:%
%:%845=263%:%
%:%848=264%:%
%:%849=265%:%
%:%850=265%:%
%:%851=266%:%
%:%852=267%:%
%:%855=268%:%
%:%859=268%:%
%:%860=268%:%
%:%861=268%:%
%:%866=268%:%
%:%869=269%:%
%:%870=270%:%
%:%871=270%:%
%:%878=271%:%
%:%879=271%:%
%:%880=272%:%
%:%881=272%:%
%:%882=273%:%
%:%883=273%:%
%:%884=273%:%
%:%885=274%:%
%:%886=274%:%
%:%887=275%:%
%:%888=275%:%
%:%889=275%:%
%:%890=275%:%
%:%891=276%:%
%:%892=276%:%
%:%893=277%:%
%:%894=277%:%
%:%895=278%:%
%:%896=278%:%
%:%897=279%:%
%:%898=279%:%
%:%899=279%:%
%:%900=280%:%
%:%901=280%:%
%:%902=281%:%
%:%903=281%:%
%:%904=281%:%
%:%905=282%:%
%:%906=282%:%
%:%907=283%:%
%:%908=283%:%
%:%909=283%:%
%:%910=284%:%
%:%911=284%:%
%:%912=285%:%
%:%918=285%:%
%:%921=286%:%
%:%922=287%:%
%:%923=287%:%
%:%926=288%:%
%:%930=288%:%
%:%931=288%:%
%:%932=288%:%
%:%937=288%:%
%:%940=289%:%
%:%941=290%:%
%:%942=290%:%
%:%945=291%:%
%:%949=291%:%
%:%950=291%:%
%:%955=291%:%
%:%958=292%:%
%:%959=293%:%
%:%960=293%:%
%:%963=294%:%
%:%967=294%:%
%:%968=294%:%
%:%973=294%:%
%:%976=295%:%
%:%977=296%:%
%:%978=296%:%
%:%979=297%:%
%:%982=298%:%
%:%986=298%:%
%:%987=298%:%
%:%988=299%:%
%:%989=299%:%
%:%994=299%:%
%:%997=300%:%
%:%998=301%:%
%:%999=301%:%
%:%1000=302%:%
%:%1001=303%:%
%:%1008=304%:%
%:%1009=304%:%
%:%1010=305%:%
%:%1011=305%:%
%:%1012=306%:%
%:%1013=306%:%
%:%1014=307%:%
%:%1015=307%:%
%:%1016=308%:%
%:%1017=308%:%
%:%1018=308%:%
%:%1019=309%:%
%:%1020=309%:%
%:%1021=310%:%
%:%1022=310%:%
%:%1023=310%:%
%:%1024=311%:%
%:%1025=311%:%
%:%1026=312%:%
%:%1027=312%:%
%:%1028=312%:%
%:%1029=312%:%
%:%1030=313%:%
%:%1036=313%:%
%:%1039=314%:%
%:%1040=315%:%
%:%1041=315%:%
%:%1042=316%:%
%:%1043=317%:%
%:%1050=318%:%
%:%1051=318%:%
%:%1052=319%:%
%:%1053=319%:%
%:%1054=320%:%
%:%1055=320%:%
%:%1056=321%:%
%:%1057=321%:%
%:%1058=322%:%
%:%1059=322%:%
%:%1060=322%:%
%:%1061=323%:%
%:%1062=323%:%
%:%1063=324%:%
%:%1064=324%:%
%:%1065=324%:%
%:%1066=325%:%
%:%1067=325%:%
%:%1068=326%:%
%:%1069=326%:%
%:%1070=326%:%
%:%1071=326%:%
%:%1072=327%:%
%:%1082=329%:%
%:%1084=330%:%
%:%1085=330%:%
%:%1086=331%:%
%:%1087=332%:%
%:%1094=333%:%
%:%1095=333%:%
%:%1096=334%:%
%:%1097=334%:%
%:%1098=335%:%
%:%1099=335%:%
%:%1100=336%:%
%:%1101=336%:%
%:%1102=337%:%
%:%1103=337%:%
%:%1104=337%:%
%:%1105=338%:%
%:%1106=338%:%
%:%1107=339%:%
%:%1108=339%:%
%:%1109=339%:%
%:%1110=340%:%
%:%1111=340%:%
%:%1112=340%:%
%:%1113=341%:%
%:%1114=341%:%
%:%1115=341%:%
%:%1116=341%:%
%:%1117=342%:%
%:%1132=345%:%
%:%1142=347%:%
%:%1143=347%:%
%:%1144=348%:%
%:%1145=349%:%
%:%1146=350%:%
%:%1147=350%:%
%:%1148=351%:%
%:%1149=352%:%
%:%1152=353%:%
%:%1156=353%:%
%:%1157=353%:%
%:%1162=353%:%
%:%1165=354%:%
%:%1166=355%:%
%:%1167=355%:%
%:%1170=356%:%
%:%1174=356%:%
%:%1175=356%:%
%:%1180=356%:%
%:%1183=357%:%
%:%1184=358%:%
%:%1185=358%:%
%:%1188=359%:%
%:%1192=359%:%
%:%1193=359%:%
%:%1198=359%:%
%:%1201=360%:%
%:%1202=361%:%
%:%1203=361%:%
%:%1206=362%:%
%:%1210=362%:%
%:%1211=362%:%
%:%1216=362%:%
%:%1219=363%:%
%:%1220=364%:%
%:%1221=364%:%
%:%1222=365%:%
%:%1225=366%:%
%:%1229=366%:%
%:%1230=366%:%
%:%1235=366%:%
%:%1238=367%:%
%:%1239=368%:%
%:%1240=368%:%
%:%1241=369%:%
%:%1244=370%:%
%:%1248=370%:%
%:%1249=370%:%
%:%1250=370%:%
%:%1255=370%:%
%:%1258=371%:%
%:%1259=372%:%
%:%1260=372%:%
%:%1261=373%:%
%:%1268=374%:%
%:%1269=374%:%
%:%1270=375%:%
%:%1271=375%:%
%:%1272=376%:%
%:%1273=376%:%
%:%1274=376%:%
%:%1275=377%:%
%:%1276=377%:%
%:%1277=378%:%
%:%1278=379%:%
%:%1279=379%:%
%:%1280=379%:%
%:%1281=380%:%
%:%1282=380%:%
%:%1283=381%:%
%:%1284=381%:%
%:%1289=381%:%
%:%1292=382%:%
%:%1293=383%:%
%:%1294=383%:%
%:%1295=384%:%
%:%1302=385%:%
%:%1303=385%:%
%:%1304=386%:%
%:%1305=386%:%
%:%1306=387%:%
%:%1307=387%:%
%:%1308=388%:%
%:%1309=388%:%
%:%1310=388%:%
%:%1311=389%:%
%:%1312=389%:%
%:%1313=390%:%
%:%1314=390%:%
%:%1315=390%:%
%:%1316=391%:%
%:%1317=391%:%
%:%1318=392%:%
%:%1324=392%:%
%:%1327=393%:%
%:%1328=394%:%
%:%1329=394%:%
%:%1336=395%:%
%:%1337=395%:%
%:%1338=396%:%
%:%1339=396%:%
%:%1340=397%:%
%:%1341=397%:%
%:%1342=397%:%
%:%1343=398%:%
%:%1344=398%:%
%:%1345=399%:%
%:%1346=399%:%
%:%1347=399%:%
%:%1348=400%:%
%:%1349=400%:%
%:%1350=401%:%
%:%1351=401%:%
%:%1352=401%:%
%:%1353=402%:%
%:%1354=402%:%
%:%1355=403%:%
%:%1356=403%:%
%:%1357=403%:%
%:%1358=404%:%
%:%1359=404%:%
%:%1360=405%:%
%:%1361=405%:%
%:%1362=406%:%
%:%1363=406%:%
%:%1364=407%:%
%:%1365=407%:%
%:%1366=407%:%
%:%1367=408%:%
%:%1368=408%:%
%:%1369=409%:%
%:%1370=409%:%
%:%1371=409%:%
%:%1372=410%:%
%:%1373=410%:%
%:%1374=411%:%
%:%1375=411%:%
%:%1376=411%:%
%:%1377=412%:%
%:%1378=412%:%
%:%1379=413%:%
%:%1385=413%:%
%:%1388=414%:%
%:%1389=415%:%
%:%1390=415%:%
%:%1397=416%:%
%:%1398=416%:%
%:%1399=417%:%
%:%1400=417%:%
%:%1401=418%:%
%:%1402=418%:%
%:%1403=418%:%
%:%1404=419%:%
%:%1405=419%:%
%:%1406=420%:%
%:%1407=420%:%
%:%1408=421%:%
%:%1409=421%:%
%:%1410=422%:%
%:%1411=422%:%
%:%1412=423%:%
%:%1413=423%:%
%:%1414=423%:%
%:%1415=424%:%
%:%1416=424%:%
%:%1417=425%:%
%:%1418=425%:%
%:%1419=425%:%
%:%1420=426%:%
%:%1421=426%:%
%:%1422=427%:%
%:%1423=427%:%
%:%1424=427%:%
%:%1425=428%:%
%:%1426=428%:%
%:%1427=429%:%
%:%1428=429%:%
%:%1429=429%:%
%:%1430=430%:%
%:%1431=430%:%
%:%1432=431%:%
%:%1433=431%:%
%:%1434=432%:%
%:%1435=432%:%
%:%1436=432%:%
%:%1437=433%:%
%:%1438=433%:%
%:%1439=434%:%
%:%1440=434%:%
%:%1441=434%:%
%:%1442=435%:%
%:%1443=435%:%
%:%1444=436%:%
%:%1445=436%:%
%:%1446=436%:%
%:%1447=437%:%
%:%1448=437%:%
%:%1449=438%:%
%:%1455=438%:%
%:%1458=439%:%
%:%1459=440%:%
%:%1460=440%:%
%:%1463=441%:%
%:%1467=441%:%
%:%1468=441%:%
%:%1473=441%:%
%:%1478=442%:%
%:%1483=443%:%
%:%1484=443%:%
%:%1485=444%:%
%:%1490=444%:%
%:%1493=445%:%
%:%1494=446%:%
%:%1495=446%:%
%:%1496=447%:%
%:%1497=448%:%
%:%1498=449%:%
%:%1505=450%:%
%:%1506=450%:%
%:%1507=451%:%
%:%1508=451%:%
%:%1509=452%:%
%:%1510=452%:%
%:%1511=453%:%
%:%1512=453%:%
%:%1513=454%:%
%:%1514=454%:%
%:%1515=454%:%
%:%1516=455%:%
%:%1517=455%:%
%:%1518=456%:%
%:%1519=456%:%
%:%1520=456%:%
%:%1521=456%:%
%:%1522=457%:%
%:%1528=457%:%
%:%1531=458%:%
%:%1532=459%:%
%:%1533=459%:%
%:%1534=460%:%
%:%1535=461%:%
%:%1538=462%:%
%:%1542=462%:%
%:%1543=462%:%
%:%1548=462%:%
%:%1551=463%:%
%:%1552=464%:%
%:%1553=464%:%
%:%1554=465%:%
%:%1561=466%:%
%:%1562=466%:%
%:%1563=467%:%
%:%1564=467%:%
%:%1565=468%:%
%:%1566=468%:%
%:%1567=468%:%
%:%1568=468%:%
%:%1569=469%:%
%:%1570=469%:%
%:%1571=470%:%
%:%1572=470%:%
%:%1573=471%:%
%:%1574=471%:%
%:%1575=472%:%
%:%1576=472%:%
%:%1577=473%:%
%:%1578=473%:%
%:%1579=474%:%
%:%1580=474%:%
%:%1581=474%:%
%:%1582=475%:%
%:%1583=475%:%
%:%1584=476%:%
%:%1585=476%:%
%:%1587=478%:%
%:%1588=479%:%
%:%1589=479%:%
%:%1590=480%:%
%:%1591=480%:%
%:%1592=480%:%
%:%1593=481%:%
%:%1594=482%:%
%:%1595=482%:%
%:%1596=483%:%
%:%1597=483%:%
%:%1598=484%:%
%:%1599=485%:%
%:%1600=485%:%
%:%1601=486%:%
%:%1602=486%:%
%:%1603=486%:%
%:%1604=487%:%
%:%1605=488%:%
%:%1606=488%:%
%:%1607=489%:%
%:%1608=489%:%
%:%1609=489%:%
%:%1610=490%:%
%:%1611=491%:%
%:%1612=491%:%
%:%1613=491%:%
%:%1614=492%:%
%:%1615=492%:%
%:%1616=492%:%
%:%1617=493%:%
%:%1618=494%:%
%:%1619=494%:%
%:%1620=495%:%
%:%1621=495%:%
%:%1622=495%:%
%:%1623=496%:%
%:%1624=497%:%
%:%1625=497%:%
%:%1626=498%:%
%:%1627=498%:%
%:%1628=499%:%
%:%1629=499%:%
%:%1630=499%:%
%:%1631=500%:%
%:%1632=500%:%
%:%1633=501%:%
%:%1634=501%:%
%:%1635=502%:%
%:%1636=502%:%
%:%1637=502%:%
%:%1638=503%:%
%:%1639=503%:%
%:%1640=504%:%
%:%1641=504%:%
%:%1642=505%:%
%:%1643=505%:%
%:%1644=505%:%
%:%1645=506%:%
%:%1646=506%:%
%:%1647=507%:%
%:%1648=507%:%
%:%1649=507%:%
%:%1650=508%:%
%:%1651=508%:%
%:%1652=508%:%
%:%1653=509%:%
%:%1659=509%:%
%:%1662=510%:%
%:%1663=511%:%
%:%1664=511%:%
%:%1665=512%:%
%:%1668=513%:%
%:%1672=513%:%
%:%1673=513%:%
%:%1678=513%:%
%:%1681=514%:%
%:%1682=515%:%
%:%1683=515%:%
%:%1684=516%:%
%:%1685=517%:%
%:%1688=518%:%
%:%1692=518%:%
%:%1693=518%:%
%:%1698=518%:%
%:%1701=519%:%
%:%1702=520%:%
%:%1703=520%:%
%:%1704=521%:%
%:%1705=522%:%
%:%1712=523%:%
%:%1713=523%:%
%:%1714=524%:%
%:%1715=524%:%
%:%1716=525%:%
%:%1717=525%:%
%:%1718=525%:%
%:%1719=526%:%
%:%1720=526%:%
%:%1721=527%:%
%:%1722=527%:%
%:%1723=528%:%
%:%1724=528%:%
%:%1725=529%:%
%:%1726=529%:%
%:%1727=529%:%
%:%1728=530%:%
%:%1729=530%:%
%:%1730=530%:%
%:%1731=531%:%
%:%1737=531%:%
%:%1740=532%:%
%:%1741=533%:%
%:%1742=533%:%
%:%1743=534%:%
%:%1744=535%:%
%:%1751=536%:%
%:%1752=536%:%
%:%1753=537%:%
%:%1754=537%:%
%:%1755=538%:%
%:%1756=538%:%
%:%1757=539%:%
%:%1758=539%:%
%:%1759=539%:%
%:%1760=540%:%
%:%1761=540%:%
%:%1762=541%:%
%:%1763=541%:%
%:%1764=541%:%
%:%1765=541%:%
%:%1766=542%:%
%:%1772=542%:%
%:%1775=543%:%
%:%1776=544%:%
%:%1777=544%:%
%:%1784=545%:%
%:%1785=545%:%
%:%1786=546%:%
%:%1787=546%:%
%:%1788=547%:%
%:%1789=547%:%
%:%1790=547%:%
%:%1791=547%:%
%:%1792=548%:%
%:%1793=548%:%
%:%1794=549%:%
%:%1795=549%:%
%:%1796=550%:%
%:%1797=550%:%
%:%1798=551%:%
%:%1799=551%:%
%:%1800=552%:%
%:%1801=552%:%
%:%1802=552%:%
%:%1803=553%:%
%:%1804=553%:%
%:%1805=554%:%
%:%1806=554%:%
%:%1807=555%:%
%:%1808=555%:%
%:%1809=555%:%
%:%1810=556%:%
%:%1811=556%:%
%:%1812=556%:%
%:%1813=557%:%
%:%1819=557%:%
%:%1822=558%:%
%:%1823=559%:%
%:%1824=559%:%
%:%1825=560%:%
%:%1826=561%:%
%:%1833=562%:%
%:%1834=562%:%
%:%1835=563%:%
%:%1836=563%:%
%:%1837=564%:%
%:%1838=564%:%
%:%1839=564%:%
%:%1840=564%:%
%:%1841=565%:%
%:%1842=565%:%
%:%1843=566%:%
%:%1844=566%:%
%:%1845=567%:%
%:%1846=567%:%
%:%1847=567%:%
%:%1848=568%:%
%:%1849=568%:%
%:%1850=569%:%
%:%1851=569%:%
%:%1852=570%:%
%:%1853=571%:%
%:%1854=571%:%
%:%1855=572%:%
%:%1856=572%:%
%:%1857=572%:%
%:%1858=573%:%
%:%1859=573%:%
%:%1860=574%:%
%:%1861=574%:%
%:%1862=574%:%
%:%1863=575%:%
%:%1864=575%:%
%:%1865=576%:%
%:%1866=577%:%
%:%1867=577%:%
%:%1868=577%:%
%:%1869=578%:%
%:%1870=578%:%
%:%1871=578%:%
%:%1872=579%:%
%:%1873=579%:%
%:%1874=579%:%
%:%1875=580%:%
%:%1876=580%:%
%:%1877=581%:%
%:%1883=581%:%
%:%1886=582%:%
%:%1887=583%:%
%:%1888=583%:%
%:%1895=584%:%
%:%1896=584%:%
%:%1897=585%:%
%:%1898=585%:%
%:%1899=586%:%
%:%1900=586%:%
%:%1901=587%:%
%:%1902=587%:%
%:%1903=588%:%
%:%1904=588%:%
%:%1905=588%:%
%:%1906=589%:%
%:%1907=589%:%
%:%1908=590%:%
%:%1909=590%:%
%:%1910=590%:%
%:%1911=591%:%
%:%1912=591%:%
%:%1913=592%:%
%:%1914=592%:%
%:%1915=593%:%
%:%1916=593%:%
%:%1917=594%:%
%:%1918=594%:%
%:%1919=595%:%
%:%1920=595%:%
%:%1921=596%:%
%:%1927=596%:%
%:%1930=597%:%
%:%1931=598%:%
%:%1932=598%:%
%:%1935=599%:%
%:%1939=599%:%
%:%1940=599%:%
%:%1941=600%:%
%:%1942=600%:%
%:%1947=600%:%
%:%1950=601%:%
%:%1951=602%:%
%:%1952=602%:%
%:%1953=603%:%
%:%1954=604%:%
%:%1961=605%:%
%:%1962=605%:%
%:%1963=606%:%
%:%1964=606%:%
%:%1965=607%:%
%:%1966=607%:%
%:%1967=607%:%
%:%1968=607%:%
%:%1969=608%:%
%:%1970=608%:%
%:%1971=609%:%
%:%1972=609%:%
%:%1973=610%:%
%:%1974=610%:%
%:%1977=613%:%
%:%1978=614%:%
%:%1979=614%:%
%:%1980=615%:%
%:%1981=615%:%
%:%1982=615%:%
%:%1983=616%:%
%:%1984=617%:%
%:%1985=617%:%
%:%1986=618%:%
%:%1987=618%:%
%:%1988=618%:%
%:%1990=620%:%
%:%1991=621%:%
%:%1992=621%:%
%:%1993=622%:%
%:%1994=622%:%
%:%1995=623%:%
%:%1996=623%:%
%:%1997=624%:%
%:%1998=624%:%
%:%1999=624%:%
%:%2000=625%:%
%:%2001=625%:%
%:%2002=625%:%
%:%2003=626%:%
%:%2004=626%:%
%:%2005=626%:%
%:%2006=627%:%
%:%2007=627%:%
%:%2008=628%:%
%:%2009=628%:%
%:%2010=628%:%
%:%2011=629%:%
%:%2012=629%:%
%:%2013=630%:%
%:%2014=630%:%
%:%2015=630%:%
%:%2016=631%:%
%:%2017=632%:%
%:%2018=632%:%
%:%2019=633%:%
%:%2020=633%:%
%:%2021=633%:%
%:%2022=633%:%
%:%2023=634%:%
%:%2033=636%:%
%:%2034=637%:%
%:%2036=638%:%
%:%2037=638%:%
%:%2038=639%:%
%:%2041=640%:%
%:%2045=640%:%
%:%2046=640%:%
%:%2051=640%:%
%:%2054=641%:%
%:%2055=642%:%
%:%2056=642%:%
%:%2057=643%:%
%:%2058=644%:%
%:%2059=645%:%
%:%2060=646%:%
%:%2067=647%:%
%:%2068=647%:%
%:%2069=648%:%
%:%2070=648%:%
%:%2071=649%:%
%:%2072=649%:%
%:%2073=649%:%
%:%2074=650%:%
%:%2075=650%:%
%:%2076=651%:%
%:%2077=651%:%
%:%2078=652%:%
%:%2079=652%:%
%:%2080=652%:%
%:%2081=653%:%
%:%2082=653%:%
%:%2083=654%:%
%:%2084=654%:%
%:%2085=655%:%
%:%2086=655%:%
%:%2087=656%:%
%:%2088=656%:%
%:%2089=656%:%
%:%2090=657%:%
%:%2091=657%:%
%:%2092=658%:%
%:%2093=658%:%
%:%2094=658%:%
%:%2095=659%:%
%:%2096=659%:%
%:%2097=660%:%
%:%2098=660%:%
%:%2099=660%:%
%:%2100=661%:%
%:%2101=661%:%
%:%2102=662%:%
%:%2103=662%:%
%:%2104=662%:%
%:%2105=663%:%
%:%2106=663%:%
%:%2107=663%:%
%:%2108=664%:%
%:%2109=664%:%
%:%2110=664%:%
%:%2111=665%:%
%:%2112=665%:%
%:%2113=666%:%
%:%2114=666%:%
%:%2115=666%:%
%:%2116=667%:%
%:%2117=667%:%
%:%2118=667%:%
%:%2119=668%:%
%:%2120=668%:%
%:%2121=669%:%
%:%2122=669%:%
%:%2123=669%:%
%:%2124=670%:%
%:%2125=670%:%
%:%2126=671%:%
%:%2127=671%:%
%:%2128=672%:%
%:%2129=672%:%
%:%2130=673%:%
%:%2131=673%:%
%:%2132=673%:%
%:%2133=673%:%
%:%2134=674%:%
%:%2140=674%:%
%:%2143=675%:%
%:%2144=676%:%
%:%2145=676%:%
%:%2148=677%:%
%:%2152=677%:%
%:%2153=677%:%
%:%2158=677%:%
%:%2161=678%:%
%:%2162=679%:%
%:%2163=679%:%
%:%2166=680%:%
%:%2170=680%:%
%:%2171=680%:%
%:%2176=680%:%
%:%2179=681%:%
%:%2180=682%:%
%:%2181=682%:%
%:%2188=683%:%
%:%2189=683%:%
%:%2190=684%:%
%:%2191=684%:%
%:%2192=685%:%
%:%2193=685%:%
%:%2194=685%:%
%:%2195=685%:%
%:%2196=686%:%
%:%2197=686%:%
%:%2198=687%:%
%:%2199=687%:%
%:%2200=688%:%
%:%2201=688%:%
%:%2202=688%:%
%:%2203=689%:%
%:%2204=689%:%
%:%2205=690%:%
%:%2206=690%:%
%:%2207=690%:%
%:%2208=691%:%
%:%2209=691%:%
%:%2210=692%:%
%:%2211=692%:%
%:%2212=692%:%
%:%2213=693%:%
%:%2214=693%:%
%:%2215=694%:%
%:%2216=694%:%
%:%2217=694%:%
%:%2218=694%:%
%:%2219=695%:%
%:%2225=695%:%
%:%2228=696%:%
%:%2229=697%:%
%:%2230=697%:%
%:%2237=698%:%
%:%2238=698%:%
%:%2239=699%:%
%:%2240=699%:%
%:%2241=700%:%
%:%2242=700%:%
%:%2243=700%:%
%:%2244=700%:%
%:%2245=701%:%
%:%2246=701%:%
%:%2247=702%:%
%:%2248=702%:%
%:%2249=703%:%
%:%2250=703%:%
%:%2251=703%:%
%:%2252=704%:%
%:%2253=704%:%
%:%2254=705%:%
%:%2255=705%:%
%:%2256=705%:%
%:%2257=706%:%
%:%2258=706%:%
%:%2259=707%:%
%:%2260=707%:%
%:%2261=707%:%
%:%2262=708%:%
%:%2263=708%:%
%:%2264=709%:%
%:%2265=709%:%
%:%2266=709%:%
%:%2267=710%:%
%:%2268=710%:%
%:%2269=711%:%
%:%2275=711%:%
%:%2278=712%:%
%:%2279=713%:%
%:%2280=713%:%
%:%2283=714%:%
%:%2287=714%:%
%:%2288=714%:%
%:%2289=715%:%
%:%2290=715%:%
%:%2295=715%:%
%:%2298=716%:%
%:%2299=717%:%
%:%2300=717%:%
%:%2303=718%:%
%:%2307=718%:%
%:%2308=718%:%
%:%2309=718%:%
%:%2318=721%:%
%:%2319=722%:%
%:%2320=723%:%
%:%2321=724%:%
%:%2323=725%:%
%:%2324=725%:%
%:%2327=726%:%
%:%2331=726%:%
%:%2332=726%:%
%:%2333=727%:%
%:%2334=727%:%
%:%2343=729%:%
%:%2344=730%:%
%:%2345=731%:%
%:%2346=732%:%
%:%2347=733%:%
%:%2348=734%:%
%:%2350=735%:%
%:%2351=735%:%
%:%2354=736%:%
%:%2358=736%:%
%:%2359=736%:%
%:%2360=736%:%
%:%2369=738%:%
%:%2371=739%:%
%:%2372=739%:%
%:%2375=740%:%
%:%2379=740%:%
%:%2380=740%:%
%:%2389=742%:%
%:%2390=743%:%
%:%2392=744%:%
%:%2393=744%:%
%:%2394=745%:%
%:%2401=746%:%
%:%2402=746%:%
%:%2403=747%:%
%:%2404=747%:%
%:%2405=748%:%
%:%2406=748%:%
%:%2407=748%:%
%:%2408=748%:%
%:%2409=749%:%
%:%2410=749%:%
%:%2411=750%:%
%:%2412=750%:%
%:%2413=751%:%
%:%2414=751%:%
%:%2415=751%:%
%:%2416=752%:%
%:%2417=752%:%
%:%2418=753%:%
%:%2419=753%:%
%:%2420=754%:%
%:%2421=754%:%
%:%2422=754%:%
%:%2423=755%:%
%:%2424=755%:%
%:%2425=755%:%
%:%2426=756%:%
%:%2427=756%:%
%:%2428=756%:%
%:%2429=757%:%
%:%2430=757%:%
%:%2431=757%:%
%:%2432=758%:%
%:%2433=758%:%
%:%2434=758%:%
%:%2435=758%:%
%:%2436=759%:%
%:%2446=761%:%
%:%2448=762%:%
%:%2449=762%:%
%:%2452=763%:%
%:%2456=763%:%
%:%2457=763%:%
%:%2458=763%:%
%:%2463=763%:%
%:%2466=764%:%
%:%2467=765%:%
%:%2468=765%:%
%:%2469=766%:%
%:%2472=767%:%
%:%2476=767%:%
%:%2477=767%:%
%:%2478=767%:%
%:%2483=767%:%
%:%2486=768%:%
%:%2487=769%:%
%:%2488=769%:%
%:%2489=770%:%
%:%2492=771%:%
%:%2496=771%:%
%:%2497=771%:%
%:%2506=774%:%
%:%2507=775%:%
%:%2508=776%:%
%:%2509=777%:%
%:%2510=778%:%
%:%2511=779%:%
%:%2513=781%:%
%:%2514=781%:%
%:%2521=782%:%
%:%2522=782%:%
%:%2523=783%:%
%:%2524=783%:%
%:%2525=784%:%
%:%2526=784%:%
%:%2527=784%:%
%:%2528=784%:%
%:%2529=785%:%
%:%2530=785%:%
%:%2531=786%:%
%:%2532=786%:%
%:%2533=787%:%
%:%2534=787%:%
%:%2535=787%:%
%:%2536=788%:%
%:%2537=788%:%
%:%2538=789%:%
%:%2539=789%:%
%:%2540=790%:%
%:%2555=793%:%
%:%2567=796%:%
%:%2568=797%:%
%:%2569=798%:%
%:%2571=800%:%
%:%2572=800%:%
%:%2573=801%:%
%:%2580=802%:%
%:%2581=802%:%
%:%2582=803%:%
%:%2583=803%:%
%:%2584=804%:%
%:%2585=804%:%
%:%2586=805%:%
%:%2587=805%:%
%:%2588=806%:%
%:%2589=806%:%
%:%2590=807%:%
%:%2591=807%:%
%:%2592=808%:%
%:%2593=808%:%
%:%2594=809%:%
%:%2595=809%:%
%:%2596=809%:%
%:%2597=810%:%
%:%2598=810%:%
%:%2599=811%:%
%:%2600=811%:%
%:%2601=812%:%
%:%2607=812%:%
%:%2610=813%:%
%:%2611=814%:%
%:%2612=814%:%
%:%2613=815%:%
%:%2614=816%:%
%:%2621=817%:%
%:%2622=817%:%
%:%2623=818%:%
%:%2624=818%:%
%:%2625=819%:%
%:%2626=819%:%
%:%2627=820%:%
%:%2628=820%:%
%:%2629=820%:%
%:%2630=821%:%
%:%2631=821%:%
%:%2632=822%:%
%:%2633=822%:%
%:%2634=822%:%
%:%2635=823%:%
%:%2636=823%:%
%:%2637=824%:%
%:%2638=824%:%
%:%2639=824%:%
%:%2640=824%:%
%:%2641=825%:%
%:%2647=825%:%
%:%2650=826%:%
%:%2651=827%:%
%:%2652=827%:%
%:%2653=828%:%
%:%2660=829%:%
%:%2661=829%:%
%:%2662=830%:%
%:%2663=830%:%
%:%2664=831%:%
%:%2665=831%:%
%:%2666=832%:%
%:%2667=832%:%
%:%2668=832%:%
%:%2669=833%:%
%:%2670=833%:%
%:%2671=834%:%
%:%2672=834%:%
%:%2673=834%:%
%:%2674=835%:%
%:%2675=835%:%
%:%2676=836%:%
%:%2677=836%:%
%:%2678=836%:%
%:%2679=836%:%
%:%2680=837%:%
%:%2686=837%:%
%:%2689=838%:%
%:%2690=839%:%
%:%2691=839%:%
%:%2692=840%:%
%:%2699=841%:%
%:%2700=841%:%
%:%2701=842%:%
%:%2702=842%:%
%:%2703=843%:%
%:%2704=843%:%
%:%2705=843%:%
%:%2706=843%:%
%:%2707=844%:%
%:%2708=844%:%
%:%2709=845%:%
%:%2710=845%:%
%:%2711=846%:%
%:%2712=846%:%
%:%2713=846%:%
%:%2714=847%:%
%:%2715=848%:%
%:%2716=848%:%
%:%2717=849%:%
%:%2718=849%:%
%:%2719=849%:%
%:%2720=850%:%
%:%2721=850%:%
%:%2722=851%:%
%:%2723=851%:%
%:%2724=851%:%
%:%2725=852%:%
%:%2726=852%:%
%:%2727=853%:%
%:%2728=853%:%
%:%2729=853%:%
%:%2730=853%:%
%:%2731=854%:%
%:%2737=854%:%
%:%2740=855%:%
%:%2741=856%:%
%:%2742=856%:%
%:%2745=857%:%
%:%2749=857%:%
%:%2750=857%:%
%:%2755=857%:%
%:%2758=858%:%
%:%2759=859%:%
%:%2760=859%:%
%:%2761=860%:%
%:%2762=861%:%
%:%2763=862%:%
%:%2770=863%:%
%:%2771=863%:%
%:%2772=864%:%
%:%2773=864%:%
%:%2774=865%:%
%:%2775=865%:%
%:%2776=865%:%
%:%2777=865%:%
%:%2778=866%:%
%:%2779=866%:%
%:%2780=867%:%
%:%2781=867%:%
%:%2782=868%:%
%:%2783=868%:%
%:%2784=869%:%
%:%2785=869%:%
%:%2786=870%:%
%:%2787=870%:%
%:%2788=871%:%
%:%2789=871%:%
%:%2790=871%:%
%:%2791=872%:%
%:%2792=873%:%
%:%2793=873%:%
%:%2794=874%:%
%:%2795=874%:%
%:%2796=874%:%
%:%2797=875%:%
%:%2798=875%:%
%:%2799=875%:%
%:%2800=876%:%
%:%2801=876%:%
%:%2802=877%:%
%:%2803=877%:%
%:%2804=877%:%
%:%2805=878%:%
%:%2806=879%:%
%:%2807=879%:%
%:%2808=879%:%
%:%2809=880%:%
%:%2810=880%:%
%:%2811=880%:%
%:%2812=881%:%
%:%2813=882%:%
%:%2814=882%:%
%:%2815=883%:%
%:%2816=883%:%
%:%2817=883%:%
%:%2818=884%:%
%:%2819=885%:%
%:%2820=885%:%
%:%2821=886%:%
%:%2822=886%:%
%:%2823=886%:%
%:%2824=887%:%
%:%2825=888%:%
%:%2826=889%:%
%:%2827=889%:%
%:%2828=890%:%
%:%2829=890%:%
%:%2830=890%:%
%:%2831=891%:%
%:%2832=891%:%
%:%2833=892%:%
%:%2834=892%:%
%:%2835=893%:%
%:%2836=893%:%
%:%2837=894%:%
%:%2838=894%:%
%:%2839=894%:%
%:%2840=895%:%
%:%2841=895%:%
%:%2842=896%:%
%:%2843=896%:%
%:%2844=896%:%
%:%2845=897%:%
%:%2846=898%:%
%:%2847=898%:%
%:%2848=899%:%
%:%2849=899%:%
%:%2850=900%:%
%:%2851=900%:%
%:%2852=900%:%
%:%2853=901%:%
%:%2854=901%:%
%:%2855=901%:%
%:%2856=902%:%
%:%2857=902%:%
%:%2858=902%:%
%:%2859=903%:%
%:%2860=903%:%
%:%2861=903%:%
%:%2862=904%:%
%:%2863=904%:%
%:%2864=904%:%
%:%2865=905%:%
%:%2866=905%:%
%:%2867=906%:%
%:%2868=906%:%
%:%2869=906%:%
%:%2870=907%:%
%:%2871=908%:%
%:%2872=908%:%
%:%2873=909%:%
%:%2874=909%:%
%:%2875=909%:%
%:%2876=910%:%
%:%2877=910%:%
%:%2878=911%:%
%:%2879=911%:%
%:%2880=911%:%
%:%2881=912%:%
%:%2882=912%:%
%:%2883=913%:%
%:%2884=913%:%
%:%2885=913%:%
%:%2886=914%:%
%:%2887=914%:%
%:%2888=915%:%
%:%2889=915%:%
%:%2890=915%:%
%:%2891=916%:%
%:%2892=917%:%
%:%2893=917%:%
%:%2894=918%:%
%:%2895=918%:%
%:%2896=918%:%
%:%2897=919%:%
%:%2898=919%:%
%:%2899=919%:%
%:%2900=920%:%
%:%2901=920%:%
%:%2902=920%:%
%:%2903=921%:%
%:%2904=921%:%
%:%2905=922%:%
%:%2906=922%:%
%:%2907=922%:%
%:%2908=923%:%
%:%2909=924%:%
%:%2910=924%:%
%:%2911=925%:%
%:%2912=925%:%
%:%2913=925%:%
%:%2914=926%:%
%:%2915=926%:%
%:%2916=927%:%
%:%2922=927%:%
%:%2925=928%:%
%:%2926=929%:%
%:%2927=929%:%
%:%2928=930%:%
%:%2929=931%:%
%:%2936=932%:%
%:%2937=932%:%
%:%2938=933%:%
%:%2939=933%:%
%:%2940=934%:%
%:%2941=934%:%
%:%2942=935%:%
%:%2943=935%:%
%:%2944=935%:%
%:%2945=936%:%
%:%2946=936%:%
%:%2947=937%:%
%:%2948=937%:%
%:%2949=937%:%
%:%2950=938%:%
%:%2951=938%:%
%:%2952=939%:%
%:%2953=939%:%
%:%2954=939%:%
%:%2955=939%:%
%:%2956=940%:%
%:%2962=940%:%
%:%2965=941%:%
%:%2966=942%:%
%:%2967=942%:%
%:%2974=943%:%
%:%2975=943%:%
%:%2976=944%:%
%:%2977=944%:%
%:%2978=945%:%
%:%2979=945%:%
%:%2980=945%:%
%:%2981=946%:%
%:%2982=946%:%
%:%2983=946%:%
%:%2985=948%:%
%:%2986=949%:%
%:%2987=949%:%
%:%2988=950%:%
%:%2989=950%:%
%:%2990=951%:%
%:%2991=951%:%
%:%2992=951%:%
%:%2993=952%:%
%:%2994=953%:%
%:%2995=953%:%
%:%2996=954%:%
%:%2997=954%:%
%:%2998=954%:%
%:%2999=955%:%
%:%3000=955%:%
%:%3001=956%:%
%:%3002=956%:%
%:%3003=956%:%
%:%3004=957%:%
%:%3005=957%:%
%:%3006=958%:%
%:%3007=958%:%
%:%3008=959%:%
%:%3009=959%:%
%:%3010=959%:%
%:%3011=960%:%
%:%3012=960%:%
%:%3013=961%:%
%:%3014=961%:%
%:%3015=961%:%
%:%3016=962%:%
%:%3017=962%:%
%:%3018=963%:%
%:%3024=963%:%
%:%3027=964%:%
%:%3028=965%:%
%:%3029=965%:%
%:%3030=966%:%
%:%3037=967%:%
%:%3038=967%:%
%:%3039=968%:%
%:%3040=968%:%
%:%3041=969%:%
%:%3042=969%:%
%:%3043=970%:%
%:%3044=970%:%
%:%3045=970%:%
%:%3046=971%:%
%:%3047=971%:%
%:%3048=972%:%
%:%3049=972%:%
%:%3050=972%:%
%:%3051=972%:%
%:%3052=973%:%
%:%3058=973%:%
%:%3061=974%:%
%:%3062=975%:%
%:%3063=975%:%
%:%3064=976%:%
%:%3065=977%:%
%:%3072=978%:%
%:%3073=978%:%
%:%3074=979%:%
%:%3075=979%:%
%:%3076=980%:%
%:%3077=980%:%
%:%3078=981%:%
%:%3079=981%:%
%:%3080=981%:%
%:%3081=982%:%
%:%3082=982%:%
%:%3083=982%:%
%:%3084=983%:%
%:%3085=983%:%
%:%3086=983%:%
%:%3087=984%:%
%:%3088=984%:%
%:%3089=985%:%
%:%3090=985%:%
%:%3091=986%:%
%:%3092=986%:%
%:%3093=986%:%
%:%3094=987%:%
%:%3095=987%:%
%:%3096=988%:%
%:%3097=988%:%
%:%3098=988%:%
%:%3099=989%:%
%:%3100=989%:%
%:%3101=990%:%
%:%3107=990%:%
%:%3110=991%:%
%:%3111=992%:%
%:%3112=992%:%
%:%3113=993%:%
%:%3114=994%:%
%:%3121=995%:%
%:%3122=995%:%
%:%3123=996%:%
%:%3124=996%:%
%:%3125=997%:%
%:%3126=997%:%
%:%3127=997%:%
%:%3128=998%:%
%:%3129=998%:%
%:%3130=998%:%
%:%3131=999%:%
%:%3132=999%:%
%:%3133=999%:%
%:%3134=1000%:%
%:%3135=1000%:%
%:%3136=1000%:%
%:%3137=1000%:%
%:%3138=1001%:%
%:%3148=1003%:%
%:%3150=1004%:%
%:%3151=1004%:%
%:%3152=1005%:%
%:%3153=1006%:%
%:%3156=1007%:%
%:%3160=1007%:%
%:%3161=1007%:%
%:%3166=1007%:%
%:%3169=1008%:%
%:%3170=1009%:%
%:%3171=1009%:%
%:%3172=1010%:%
%:%3175=1011%:%
%:%3179=1011%:%
%:%3180=1011%:%
%:%3185=1011%:%
%:%3188=1012%:%
%:%3189=1013%:%
%:%3190=1013%:%
%:%3191=1014%:%
%:%3192=1015%:%
%:%3199=1016%:%
%:%3200=1016%:%
%:%3201=1017%:%
%:%3202=1017%:%
%:%3203=1018%:%
%:%3204=1018%:%
%:%3205=1018%:%
%:%3206=1019%:%
%:%3207=1019%:%
%:%3208=1019%:%
%:%3209=1020%:%
%:%3210=1020%:%
%:%3211=1021%:%
%:%3217=1021%:%
%:%3220=1022%:%
%:%3221=1023%:%
%:%3222=1023%:%
%:%3223=1024%:%
%:%3226=1025%:%
%:%3230=1025%:%
%:%3231=1025%:%
%:%3236=1025%:%
%:%3239=1026%:%
%:%3240=1027%:%
%:%3241=1027%:%
%:%3242=1028%:%
%:%3245=1029%:%
%:%3249=1029%:%
%:%3250=1029%:%
%:%3251=1030%:%
%:%3252=1030%:%
%:%3253=1031%:%
%:%3254=1031%:%
%:%3255=1032%:%
%:%3256=1032%:%
%:%3257=1033%:%
%:%3263=1033%:%
%:%3266=1034%:%
%:%3267=1035%:%
%:%3268=1035%:%
%:%3269=1036%:%
%:%3272=1037%:%
%:%3276=1037%:%
%:%3277=1037%:%
%:%3282=1037%:%
%:%3285=1038%:%
%:%3286=1039%:%
%:%3287=1039%:%
%:%3288=1040%:%
%:%3289=1041%:%
%:%3296=1042%:%
%:%3297=1042%:%
%:%3298=1043%:%
%:%3299=1043%:%
%:%3300=1044%:%
%:%3301=1045%:%
%:%3302=1045%:%
%:%3303=1046%:%
%:%3304=1046%:%
%:%3305=1046%:%
%:%3306=1047%:%
%:%3307=1048%:%
%:%3308=1048%:%
%:%3309=1049%:%
%:%3310=1049%:%
%:%3311=1050%:%
%:%3312=1050%:%
%:%3313=1051%:%
%:%3314=1051%:%
%:%3315=1052%:%
%:%3316=1052%:%
%:%3317=1052%:%
%:%3318=1053%:%
%:%3319=1053%:%
%:%3320=1054%:%
%:%3321=1054%:%
%:%3322=1054%:%
%:%3323=1055%:%
%:%3324=1055%:%
%:%3325=1056%:%
%:%3326=1056%:%
%:%3327=1057%:%
%:%3328=1057%:%
%:%3329=1058%:%
%:%3330=1058%:%
%:%3331=1059%:%
%:%3332=1059%:%
%:%3333=1059%:%
%:%3334=1060%:%
%:%3335=1061%:%
%:%3336=1061%:%
%:%3337=1062%:%
%:%3338=1062%:%
%:%3339=1062%:%
%:%3340=1063%:%
%:%3341=1063%:%
%:%3342=1064%:%
%:%3352=1066%:%
%:%3354=1067%:%
%:%3355=1067%:%
%:%3356=1068%:%
%:%3359=1069%:%
%:%3363=1069%:%
%:%3364=1069%:%
%:%3365=1069%:%
%:%3379=1072%:%
%:%3389=1074%:%
%:%3390=1074%:%
%:%3393=1075%:%
%:%3397=1075%:%
%:%3398=1075%:%
%:%3403=1075%:%
%:%3406=1076%:%
%:%3407=1077%:%
%:%3408=1077%:%
%:%3409=1078%:%
%:%3410=1079%:%
%:%3411=1080%:%
%:%3412=1081%:%
%:%3419=1082%:%
%:%3420=1082%:%
%:%3421=1083%:%
%:%3422=1083%:%
%:%3423=1084%:%
%:%3424=1084%:%
%:%3425=1085%:%
%:%3426=1085%:%
%:%3427=1085%:%
%:%3428=1086%:%
%:%3429=1087%:%
%:%3430=1087%:%
%:%3431=1088%:%
%:%3432=1088%:%
%:%3433=1088%:%
%:%3434=1089%:%
%:%3435=1089%:%
%:%3436=1089%:%
%:%3437=1090%:%
%:%3438=1090%:%
%:%3439=1090%:%
%:%3440=1091%:%
%:%3441=1091%:%
%:%3442=1092%:%
%:%3443=1092%:%
%:%3444=1092%:%
%:%3445=1093%:%
%:%3446=1093%:%
%:%3447=1094%:%
%:%3448=1094%:%
%:%3449=1095%:%
%:%3450=1095%:%
%:%3451=1095%:%
%:%3452=1096%:%
%:%3453=1096%:%
%:%3454=1096%:%
%:%3455=1097%:%
%:%3456=1097%:%
%:%3457=1097%:%
%:%3458=1098%:%
%:%3459=1098%:%
%:%3460=1099%:%
%:%3461=1099%:%
%:%3462=1100%:%
%:%3463=1100%:%
%:%3464=1101%:%
%:%3465=1101%:%
%:%3466=1102%:%
%:%3467=1102%:%
%:%3468=1102%:%
%:%3469=1103%:%
%:%3470=1103%:%
%:%3471=1104%:%
%:%3472=1104%:%
%:%3473=1105%:%
%:%3474=1105%:%
%:%3475=1106%:%
%:%3476=1106%:%
%:%3477=1106%:%
%:%3478=1107%:%
%:%3479=1107%:%
%:%3480=1107%:%
%:%3481=1108%:%
%:%3482=1108%:%
%:%3483=1109%:%
%:%3484=1109%:%
%:%3485=1110%:%
%:%3486=1111%:%
%:%3487=1112%:%
%:%3488=1112%:%
%:%3489=1112%:%
%:%3490=1113%:%
%:%3491=1113%:%
%:%3492=1114%:%
%:%3493=1114%:%
%:%3494=1114%:%
%:%3495=1115%:%
%:%3496=1115%:%
%:%3497=1115%:%
%:%3498=1116%:%
%:%3499=1116%:%
%:%3500=1116%:%
%:%3501=1117%:%
%:%3502=1117%:%
%:%3503=1118%:%
%:%3504=1118%:%
%:%3505=1118%:%
%:%3506=1119%:%
%:%3507=1120%:%
%:%3508=1120%:%
%:%3509=1121%:%
%:%3510=1121%:%
%:%3511=1122%:%
%:%3512=1122%:%
%:%3513=1123%:%
%:%3514=1123%:%
%:%3515=1124%:%
%:%3516=1124%:%
%:%3517=1124%:%
%:%3518=1125%:%
%:%3519=1125%:%
%:%3520=1126%:%
%:%3521=1126%:%
%:%3522=1127%:%
%:%3523=1127%:%
%:%3524=1128%:%
%:%3525=1128%:%
%:%3526=1128%:%
%:%3527=1129%:%
%:%3528=1129%:%
%:%3529=1130%:%
%:%3530=1130%:%
%:%3531=1131%:%
%:%3532=1131%:%
%:%3533=1132%:%
%:%3534=1132%:%
%:%3535=1132%:%
%:%3536=1133%:%
%:%3537=1133%:%
%:%3538=1133%:%
%:%3539=1134%:%
%:%3540=1134%:%
%:%3541=1134%:%
%:%3542=1135%:%
%:%3543=1135%:%
%:%3544=1136%:%
%:%3545=1136%:%
%:%3546=1137%:%
%:%3547=1137%:%
%:%3548=1138%:%
%:%3549=1138%:%
%:%3550=1139%:%
%:%3551=1140%:%
%:%3552=1140%:%
%:%3553=1141%:%
%:%3554=1141%:%
%:%3555=1141%:%
%:%3556=1142%:%
%:%3557=1142%:%
%:%3558=1143%:%
%:%3559=1143%:%
%:%3560=1144%:%
%:%3561=1144%:%
%:%3562=1144%:%
%:%3563=1145%:%
%:%3564=1145%:%
%:%3565=1145%:%
%:%3566=1146%:%
%:%3567=1146%:%
%:%3568=1146%:%
%:%3569=1147%:%
%:%3570=1147%:%
%:%3571=1148%:%
%:%3572=1148%:%
%:%3573=1148%:%
%:%3574=1149%:%
%:%3575=1149%:%
%:%3576=1149%:%
%:%3577=1150%:%
%:%3578=1150%:%
%:%3579=1150%:%
%:%3580=1151%:%
%:%3581=1151%:%
%:%3582=1152%:%
%:%3583=1152%:%
%:%3584=1152%:%
%:%3585=1153%:%
%:%3586=1153%:%
%:%3587=1154%:%
%:%3588=1154%:%
%:%3589=1154%:%
%:%3590=1155%:%
%:%3591=1155%:%
%:%3592=1155%:%
%:%3593=1156%:%
%:%3594=1156%:%
%:%3595=1156%:%
%:%3596=1156%:%
%:%3597=1157%:%
%:%3598=1157%:%
%:%3599=1158%:%
%:%3600=1158%:%
%:%3601=1158%:%
%:%3602=1159%:%
%:%3603=1159%:%
%:%3604=1160%:%
%:%3605=1160%:%
%:%3606=1160%:%
%:%3607=1160%:%
%:%3608=1161%:%
%:%3618=1163%:%
%:%3620=1164%:%
%:%3621=1164%:%
%:%3622=1165%:%
%:%3623=1166%:%
%:%3625=1168%:%
%:%3626=1169%:%
%:%3633=1170%:%
%:%3634=1170%:%
%:%3635=1171%:%
%:%3636=1171%:%
%:%3637=1172%:%
%:%3638=1172%:%
%:%3639=1173%:%
%:%3640=1173%:%
%:%3641=1174%:%
%:%3642=1174%:%
%:%3643=1175%:%
%:%3644=1175%:%
%:%3645=1176%:%
%:%3646=1176%:%
%:%3647=1177%:%
%:%3648=1177%:%
%:%3649=1178%:%
%:%3650=1178%:%
%:%3651=1179%:%
%:%3652=1179%:%
%:%3653=1180%:%
%:%3654=1180%:%
%:%3655=1181%:%
%:%3656=1181%:%
%:%3657=1182%:%
%:%3658=1182%:%
%:%3659=1183%:%
%:%3660=1183%:%
%:%3661=1184%:%
%:%3662=1184%:%
%:%3663=1185%:%
%:%3664=1185%:%
%:%3665=1186%:%
%:%3666=1186%:%
%:%3667=1187%:%
%:%3668=1187%:%
%:%3669=1188%:%
%:%3670=1188%:%
%:%3671=1188%:%
%:%3672=1189%:%
%:%3673=1189%:%
%:%3674=1189%:%
%:%3675=1190%:%
%:%3676=1190%:%
%:%3677=1191%:%
%:%3678=1192%:%
%:%3679=1192%:%
%:%3680=1193%:%
%:%3681=1193%:%
%:%3682=1194%:%
%:%3683=1195%:%
%:%3684=1195%:%
%:%3685=1196%:%
%:%3686=1196%:%
%:%3687=1197%:%
%:%3688=1197%:%
%:%3689=1197%:%
%:%3690=1198%:%
%:%3691=1198%:%
%:%3692=1199%:%
%:%3693=1199%:%
%:%3694=1199%:%
%:%3695=1200%:%
%:%3696=1200%:%
%:%3697=1200%:%
%:%3698=1201%:%
%:%3699=1201%:%
%:%3700=1202%:%
%:%3701=1203%:%
%:%3702=1203%:%
%:%3703=1204%:%
%:%3704=1204%:%
%:%3705=1204%:%
%:%3706=1204%:%
%:%3707=1205%:%
%:%3713=1205%:%
%:%3716=1206%:%
%:%3717=1207%:%
%:%3718=1207%:%
%:%3719=1208%:%
%:%3720=1208%:%
%:%3721=1208%:%
%:%3728=1209%:%
%:%3729=1209%:%
%:%3730=1210%:%
%:%3731=1210%:%
%:%3732=1211%:%
%:%3733=1211%:%
%:%3734=1211%:%
%:%3735=1212%:%
%:%3736=1212%:%
%:%3737=1213%:%
%:%3738=1213%:%
%:%3739=1214%:%
%:%3740=1214%:%
%:%3741=1215%:%
%:%3742=1215%:%
%:%3743=1216%:%
%:%3744=1216%:%
%:%3745=1217%:%
%:%3746=1217%:%
%:%3747=1217%:%
%:%3748=1218%:%
%:%3749=1218%:%
%:%3750=1219%:%
%:%3751=1219%:%
%:%3752=1219%:%
%:%3753=1219%:%
%:%3754=1220%:%
%:%3755=1220%:%
%:%3756=1221%:%
%:%3757=1221%:%
%:%3758=1222%:%
%:%3759=1222%:%
%:%3760=1223%:%
%:%3761=1223%:%
%:%3762=1223%:%
%:%3763=1224%:%
%:%3764=1224%:%
%:%3765=1224%:%
%:%3766=1225%:%
%:%3767=1225%:%
%:%3768=1226%:%
%:%3769=1226%:%
%:%3770=1227%:%
%:%3771=1227%:%
%:%3772=1228%:%
%:%3773=1228%:%
%:%3774=1229%:%
%:%3775=1229%:%
%:%3776=1230%:%
%:%3777=1230%:%
%:%3778=1231%:%
%:%3779=1231%:%
%:%3780=1231%:%
%:%3781=1232%:%
%:%3782=1232%:%
%:%3783=1233%:%
%:%3784=1233%:%
%:%3785=1233%:%
%:%3786=1234%:%
%:%3787=1234%:%
%:%3788=1235%:%
%:%3789=1235%:%
%:%3790=1236%:%
%:%3791=1236%:%
%:%3792=1237%:%
%:%3793=1237%:%
%:%3794=1237%:%
%:%3795=1238%:%
%:%3796=1238%:%
%:%3797=1238%:%
%:%3798=1239%:%
%:%3799=1239%:%
%:%3800=1240%:%
%:%3801=1240%:%
%:%3802=1240%:%
%:%3803=1241%:%
%:%3804=1242%:%
%:%3805=1242%:%
%:%3806=1243%:%
%:%3807=1243%:%
%:%3808=1244%:%
%:%3809=1244%:%
%:%3810=1245%:%
%:%3811=1245%:%
%:%3812=1245%:%
%:%3814=1247%:%
%:%3815=1248%:%
%:%3816=1248%:%
%:%3817=1249%:%
%:%3818=1249%:%
%:%3819=1249%:%
%:%3820=1250%:%
%:%3821=1250%:%
%:%3822=1251%:%
%:%3823=1251%:%
%:%3824=1252%:%
%:%3825=1252%:%
%:%3826=1252%:%
%:%3827=1253%:%
%:%3828=1254%:%
%:%3829=1254%:%
%:%3830=1255%:%
%:%3831=1255%:%
%:%3832=1255%:%
%:%3833=1256%:%
%:%3834=1256%:%
%:%3835=1256%:%
%:%3836=1257%:%
%:%3837=1257%:%
%:%3838=1258%:%
%:%3844=1258%:%
%:%3847=1259%:%
%:%3848=1260%:%
%:%3849=1260%:%
%:%3850=1261%:%
%:%3851=1262%:%
%:%3858=1263%:%
%:%3859=1263%:%
%:%3860=1264%:%
%:%3861=1264%:%
%:%3862=1265%:%
%:%3863=1265%:%
%:%3864=1266%:%
%:%3865=1266%:%
%:%3866=1267%:%
%:%3867=1267%:%
%:%3868=1268%:%
%:%3869=1268%:%
%:%3870=1268%:%
%:%3871=1269%:%
%:%3872=1269%:%
%:%3873=1270%:%
%:%3874=1270%:%
%:%3875=1270%:%
%:%3876=1271%:%
%:%3877=1271%:%
%:%3878=1272%:%
%:%3879=1272%:%
%:%3880=1272%:%
%:%3881=1273%:%
%:%3882=1273%:%
%:%3883=1273%:%
%:%3884=1274%:%
%:%3885=1274%:%
%:%3886=1274%:%
%:%3887=1275%:%
%:%3888=1275%:%
%:%3889=1276%:%
%:%3890=1276%:%
%:%3891=1276%:%
%:%3892=1277%:%
%:%3893=1277%:%
%:%3894=1277%:%
%:%3895=1278%:%
%:%3896=1278%:%
%:%3897=1278%:%
%:%3898=1279%:%
%:%3899=1279%:%
%:%3900=1280%:%
%:%3901=1280%:%
%:%3902=1280%:%
%:%3903=1280%:%
%:%3904=1281%:%
%:%3905=1281%:%
%:%3910=1281%:%
%:%3913=1282%:%
%:%3914=1283%:%
%:%3915=1283%:%
%:%3916=1284%:%
%:%3917=1284%:%
%:%3918=1284%:%
%:%3925=1285%:%
%:%3926=1285%:%
%:%3927=1286%:%
%:%3928=1286%:%
%:%3929=1287%:%
%:%3930=1287%:%
%:%3931=1288%:%
%:%3932=1288%:%
%:%3933=1289%:%
%:%3934=1289%:%
%:%3935=1290%:%
%:%3936=1291%:%
%:%3937=1291%:%
%:%3938=1292%:%
%:%3939=1292%:%
%:%3940=1292%:%
%:%3941=1293%:%
%:%3942=1293%:%
%:%3943=1294%:%
%:%3944=1294%:%
%:%3945=1294%:%
%:%3946=1295%:%
%:%3947=1295%:%
%:%3948=1295%:%
%:%3949=1296%:%
%:%3950=1296%:%
%:%3951=1296%:%
%:%3952=1297%:%
%:%3953=1297%:%
%:%3954=1298%:%
%:%3955=1299%:%
%:%3970=1302%:%
%:%3980=1304%:%
%:%3981=1304%:%
%:%3982=1305%:%
%:%3984=1307%:%
%:%3987=1308%:%
%:%3991=1308%:%
%:%3992=1308%:%
%:%3993=1309%:%
%:%3994=1310%:%
%:%3999=1310%:%
%:%4002=1311%:%
%:%4003=1312%:%
%:%4004=1312%:%
%:%4005=1313%:%
%:%4008=1316%:%
%:%4015=1317%:%
%:%4016=1317%:%
%:%4017=1318%:%
%:%4018=1318%:%
%:%4019=1319%:%
%:%4020=1319%:%
%:%4021=1320%:%
%:%4022=1320%:%
%:%4023=1320%:%
%:%4024=1320%:%
%:%4025=1321%:%
%:%4026=1321%:%
%:%4027=1321%:%
%:%4028=1322%:%
%:%4029=1322%:%
%:%4030=1323%:%
%:%4031=1323%:%
%:%4032=1324%:%
%:%4033=1324%:%
%:%4034=1324%:%
%:%4035=1324%:%
%:%4036=1325%:%
%:%4042=1325%:%
%:%4047=1326%:%
%:%4052=1327%:%
