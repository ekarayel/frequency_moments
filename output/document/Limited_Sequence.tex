%
\begin{isabellebody}%
\setisabellecontext{Limited{\isacharunderscore}{\kern0pt}Sequence}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Depth-Limited Sequences with failure element%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Limited{\isacharunderscore}{\kern0pt}Sequence\isanewline
\isakeyword{imports}\ Lazy{\isacharunderscore}{\kern0pt}Sequence\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Depth-Limited Sequence%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{type{\isacharunderscore}{\kern0pt}synonym}\isamarkupfalse%
\ {\isacharprime}{\kern0pt}a\ dseq\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}natural\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ lazy{\isacharunderscore}{\kern0pt}sequence\ option{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ empty\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}empty\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}empty{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ single\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}single\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}single\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ dseq\ {\isasymRightarrow}\ natural\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ lazy{\isacharunderscore}{\kern0pt}sequence\ option{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval\ f\ i\ pol\ {\isacharequal}{\kern0pt}\ f\ i\ pol{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ yield\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ dseq\ {\isasymRightarrow}\ natural\ {\isasymRightarrow}\ bool\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a\ dseq{\isacharparenright}{\kern0pt}\ option{\isachardoublequoteclose}\ \isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}yield\ f\ i\ pol\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ eval\ f\ i\ pol\ of\isanewline
\ \ \ \ None\ {\isasymRightarrow}\ None\isanewline
\ \ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}map{\isacharunderscore}{\kern0pt}option\ {\isasymcirc}\ apsnd{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}r\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ r{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}yield\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}seq\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ dseq{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ lazy{\isacharunderscore}{\kern0pt}sequence\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}map{\isacharunderscore}{\kern0pt}seq\ f\ xq\ i\ pol\ {\isacharequal}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}option\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}flat\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}those\ {\isacharparenleft}{\kern0pt}Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ f\ x\ i\ pol{\isacharparenright}{\kern0pt}\ xq{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}code\ {\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}map{\isacharunderscore}{\kern0pt}seq\ f\ xq\ i\ pol\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}yield\ xq\ of\isanewline
\ \ \ \ None\ {\isasymRightarrow}\ Some\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}empty\isanewline
\ \ {\isacharbar}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ xq{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}case\ eval\ {\isacharparenleft}{\kern0pt}f\ x{\isacharparenright}{\kern0pt}\ i\ pol\ of\isanewline
\ \ \ \ \ \ None\ {\isasymRightarrow}\ None\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Some\ yq\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}case\ map{\isacharunderscore}{\kern0pt}seq\ f\ xq{\isacharprime}{\kern0pt}\ i\ pol\ of\isanewline
\ \ \ \ \ \ \ \ None\ {\isasymRightarrow}\ None\isanewline
\ \ \ \ \ \ {\isacharbar}{\kern0pt}\ Some\ zq\ {\isasymRightarrow}\ Some\ {\isacharparenleft}{\kern0pt}Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}append\ yq\ zq{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ xq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}def\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}those{\isacharunderscore}{\kern0pt}def\ lazy{\isacharunderscore}{\kern0pt}sequence{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ split{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ bind\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ dseq\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ dseq{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bind\ x\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i\ pol{\isachardot}{\kern0pt}\ \isanewline
\ \ \ \ \ if\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ then\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ pol\ then\ Some\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}empty\ else\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ else\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ x\ {\isacharparenleft}{\kern0pt}i\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ pol\ of\isanewline
\ \ \ \ \ \ \ \ \ None\ {\isasymRightarrow}\ None\isanewline
\ \ \ \ \ \ \ {\isacharbar}{\kern0pt}\ Some\ xq\ {\isasymRightarrow}\ map{\isacharunderscore}{\kern0pt}seq\ f\ xq\ i\ pol{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ union\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ dseq\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ dseq\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}union\ x\ y\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i\ pol{\isachardot}{\kern0pt}\ case\ {\isacharparenleft}{\kern0pt}x\ i\ pol{\isacharcomma}{\kern0pt}\ y\ i\ pol{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Some\ xq{\isacharcomma}{\kern0pt}\ Some\ yq{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ Some\ {\isacharparenleft}{\kern0pt}Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}append\ xq\ yq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ None{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ if{\isacharunderscore}{\kern0pt}seq\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bool\ {\isasymRightarrow}\ unit\ dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}if{\isacharunderscore}{\kern0pt}seq\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ b\ then\ single\ {\isacharparenleft}{\kern0pt}{\isacharparenright}{\kern0pt}\ else\ empty{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}seq\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}unit\ dseq\ {\isasymRightarrow}\ unit\ dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}not{\isacharunderscore}{\kern0pt}seq\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i\ pol{\isachardot}{\kern0pt}\ case\ x\ i\ {\isacharparenleft}{\kern0pt}{\isasymnot}\ pol{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ None\ {\isasymRightarrow}\ Some\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}empty\isanewline
\ \ {\isacharbar}{\kern0pt}\ Some\ xq\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}case\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}yield\ xq\ of\isanewline
\ \ \ \ \ \ None\ {\isasymRightarrow}\ Some\ {\isacharparenleft}{\kern0pt}Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}single\ {\isacharparenleft}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Some\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ Some\ {\isacharparenleft}{\kern0pt}Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}empty{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ map\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ dseq\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}map\ f\ g\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i\ pol{\isachardot}{\kern0pt}\ case\ g\ i\ pol\ of\isanewline
\ \ \ \ \ None\ {\isasymRightarrow}\ None\isanewline
\ \ \ {\isacharbar}{\kern0pt}\ Some\ xq\ {\isasymRightarrow}\ Some\ {\isacharparenleft}{\kern0pt}Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}map\ f\ xq{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Positive Depth-Limited Sequence%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{type{\isacharunderscore}{\kern0pt}synonym}\isamarkupfalse%
\ {\isacharprime}{\kern0pt}a\ pos{\isacharunderscore}{\kern0pt}dseq\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}natural\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}lazy{\isacharunderscore}{\kern0pt}sequence{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}empty\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ pos{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pos{\isacharunderscore}{\kern0pt}empty\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}empty{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}single\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ pos{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pos{\isacharunderscore}{\kern0pt}single\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}single\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}bind\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ pos{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ pos{\isacharunderscore}{\kern0pt}dseq{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ pos{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pos{\isacharunderscore}{\kern0pt}bind\ x\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}bind\ {\isacharparenleft}{\kern0pt}x\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}a{\isachardot}{\kern0pt}\ f\ a\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}decr{\isacharunderscore}{\kern0pt}bind\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ pos{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ pos{\isacharunderscore}{\kern0pt}dseq{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ pos{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pos{\isacharunderscore}{\kern0pt}decr{\isacharunderscore}{\kern0pt}bind\ x\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ \isanewline
\ \ \ \ \ if\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ then\isanewline
\ \ \ \ \ \ \ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}empty\isanewline
\ \ \ \ \ else\isanewline
\ \ \ \ \ \ \ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}bind\ {\isacharparenleft}{\kern0pt}x\ {\isacharparenleft}{\kern0pt}i\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}a{\isachardot}{\kern0pt}\ f\ a\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}union\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ pos{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ pos{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ pos{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pos{\isacharunderscore}{\kern0pt}union\ xq\ yq\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}append\ {\isacharparenleft}{\kern0pt}xq\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}yq\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}seq\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bool\ {\isasymRightarrow}\ unit\ pos{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pos{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}seq\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ b\ then\ pos{\isacharunderscore}{\kern0pt}single\ {\isacharparenleft}{\kern0pt}{\isacharparenright}{\kern0pt}\ else\ pos{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}iterate{\isacharunderscore}{\kern0pt}upto\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}natural\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ natural\ {\isasymRightarrow}\ natural\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ pos{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pos{\isacharunderscore}{\kern0pt}iterate{\isacharunderscore}{\kern0pt}upto\ f\ n\ m\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}iterate{\isacharunderscore}{\kern0pt}upto\ f\ n\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \isanewline
\isacommand{definition}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}map\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ pos{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ pos{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pos{\isacharunderscore}{\kern0pt}map\ f\ xq\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}map\ f\ {\isacharparenleft}{\kern0pt}xq\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Negative Depth-Limited Sequence%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{type{\isacharunderscore}{\kern0pt}synonym}\isamarkupfalse%
\ {\isacharprime}{\kern0pt}a\ neg{\isacharunderscore}{\kern0pt}dseq\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}natural\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}hit{\isacharunderscore}{\kern0pt}bound{\isacharunderscore}{\kern0pt}lazy{\isacharunderscore}{\kern0pt}sequence{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ neg{\isacharunderscore}{\kern0pt}empty\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ neg{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}neg{\isacharunderscore}{\kern0pt}empty\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}empty{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ neg{\isacharunderscore}{\kern0pt}single\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ neg{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}neg{\isacharunderscore}{\kern0pt}single\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}hb{\isacharunderscore}{\kern0pt}single\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ neg{\isacharunderscore}{\kern0pt}bind\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ neg{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ neg{\isacharunderscore}{\kern0pt}dseq{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ neg{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}neg{\isacharunderscore}{\kern0pt}bind\ x\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ hb{\isacharunderscore}{\kern0pt}bind\ {\isacharparenleft}{\kern0pt}x\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}a{\isachardot}{\kern0pt}\ f\ a\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ neg{\isacharunderscore}{\kern0pt}decr{\isacharunderscore}{\kern0pt}bind\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ neg{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ neg{\isacharunderscore}{\kern0pt}dseq{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ neg{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}neg{\isacharunderscore}{\kern0pt}decr{\isacharunderscore}{\kern0pt}bind\ x\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ \isanewline
\ \ \ \ \ if\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ then\isanewline
\ \ \ \ \ \ \ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}hit{\isacharunderscore}{\kern0pt}bound\isanewline
\ \ \ \ \ else\isanewline
\ \ \ \ \ \ \ hb{\isacharunderscore}{\kern0pt}bind\ {\isacharparenleft}{\kern0pt}x\ {\isacharparenleft}{\kern0pt}i\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}a{\isachardot}{\kern0pt}\ f\ a\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ neg{\isacharunderscore}{\kern0pt}union\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ neg{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ neg{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ neg{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}neg{\isacharunderscore}{\kern0pt}union\ x\ y\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}append\ {\isacharparenleft}{\kern0pt}x\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ neg{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}seq\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bool\ {\isasymRightarrow}\ unit\ neg{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}neg{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}seq\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ b\ then\ neg{\isacharunderscore}{\kern0pt}single\ {\isacharparenleft}{\kern0pt}{\isacharparenright}{\kern0pt}\ else\ neg{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ neg{\isacharunderscore}{\kern0pt}iterate{\isacharunderscore}{\kern0pt}upto\ \isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}neg{\isacharunderscore}{\kern0pt}iterate{\isacharunderscore}{\kern0pt}upto\ f\ n\ m\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}iterate{\isacharunderscore}{\kern0pt}upto\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}f\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ n\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ neg{\isacharunderscore}{\kern0pt}map\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ neg{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ neg{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}neg{\isacharunderscore}{\kern0pt}map\ f\ xq\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}hb{\isacharunderscore}{\kern0pt}map\ f\ {\isacharparenleft}{\kern0pt}xq\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Negation%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}seq\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}unit\ neg{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ unit\ pos{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pos{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}seq\ xq\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}hb{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}seq\ {\isacharparenleft}{\kern0pt}xq\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ {\isacharasterisk}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ neg{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}seq\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}unit\ pos{\isacharunderscore}{\kern0pt}dseq\ {\isasymRightarrow}\ unit\ neg{\isacharunderscore}{\kern0pt}dseq{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}neg{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}seq\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ case\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}yield\ {\isacharparenleft}{\kern0pt}x\ i{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ None\ {\isasymRightarrow}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}hb{\isacharunderscore}{\kern0pt}single\ {\isacharparenleft}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharbar}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ xq{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}empty{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
%
\isadelimML
\isanewline
%
\endisadelimML
%
\isatagML
\isacommand{ML}\isamarkupfalse%
\ {\isacartoucheopen}\isanewline
signature\ LIMITED{\isacharunderscore}{\kern0pt}SEQUENCE\ {\isacharequal}{\kern0pt}\isanewline
sig\isanewline
\ \ type\ {\isacharprime}{\kern0pt}a\ dseq\ {\isacharequal}{\kern0pt}\ Code{\isacharunderscore}{\kern0pt}Numeral{\isachardot}{\kern0pt}natural\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ bool\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}lazy{\isacharunderscore}{\kern0pt}sequence\ option\isanewline
\ \ val\ map\ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ dseq\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharprime}{\kern0pt}b\ dseq\isanewline
\ \ val\ yield\ {\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ dseq\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ Code{\isacharunderscore}{\kern0pt}Numeral{\isachardot}{\kern0pt}natural\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ bool\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ dseq{\isacharparenright}{\kern0pt}\ option\isanewline
\ \ val\ yieldn\ {\isacharcolon}{\kern0pt}\ int\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ dseq\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ Code{\isacharunderscore}{\kern0pt}Numeral{\isachardot}{\kern0pt}natural\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ bool\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ list\ {\isacharasterisk}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ dseq\isanewline
end{\isacharsemicolon}{\kern0pt}\isanewline
\isanewline
structure\ Limited{\isacharunderscore}{\kern0pt}Sequence\ {\isacharcolon}{\kern0pt}\ LIMITED{\isacharunderscore}{\kern0pt}SEQUENCE\ {\isacharequal}{\kern0pt}\isanewline
struct\isanewline
\isanewline
type\ {\isacharprime}{\kern0pt}a\ dseq\ {\isacharequal}{\kern0pt}\ Code{\isacharunderscore}{\kern0pt}Numeral{\isachardot}{\kern0pt}natural\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ bool\ {\isacharminus}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}lazy{\isacharunderscore}{\kern0pt}sequence\ option\isanewline
\isanewline
fun\ map\ f\ {\isacharequal}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}code\ Limited{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}map{\isacharbraceright}{\kern0pt}\ f{\isacharsemicolon}{\kern0pt}\isanewline
\isanewline
fun\ yield\ f\ {\isacharequal}{\kern0pt}\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}code\ Limited{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}yield{\isacharbraceright}{\kern0pt}\ f{\isacharsemicolon}{\kern0pt}\isanewline
\isanewline
fun\ yieldn\ n\ f\ i\ pol\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ f\ i\ pol\ of\isanewline
\ \ \ \ NONE\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ fn\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ fn\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ NONE{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharbar}{\kern0pt}\ SOME\ s\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ let\ val\ {\isacharparenleft}{\kern0pt}xs{\isacharcomma}{\kern0pt}\ s{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Lazy{\isacharunderscore}{\kern0pt}Sequence{\isachardot}{\kern0pt}yieldn\ n\ s\ in\ {\isacharparenleft}{\kern0pt}xs{\isacharcomma}{\kern0pt}\ fn\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ fn\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ SOME\ s{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ end{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\isanewline
end{\isacharsemicolon}{\kern0pt}\isanewline
{\isacartoucheclose}%
\endisatagML
{\isafoldML}%
%
\isadelimML
\isanewline
%
\endisadelimML
\isanewline
\isacommand{code{\isacharunderscore}{\kern0pt}reserved}\isamarkupfalse%
\ Eval\ Limited{\isacharunderscore}{\kern0pt}Sequence\isanewline
\isanewline
\isanewline
\isacommand{hide{\isacharunderscore}{\kern0pt}const}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{open}{\isacharparenright}{\kern0pt}\ yield\ empty\ single\ eval\ map{\isacharunderscore}{\kern0pt}seq\ bind\ union\ if{\isacharunderscore}{\kern0pt}seq\ not{\isacharunderscore}{\kern0pt}seq\ map\isanewline
\ \ pos{\isacharunderscore}{\kern0pt}empty\ pos{\isacharunderscore}{\kern0pt}single\ pos{\isacharunderscore}{\kern0pt}bind\ pos{\isacharunderscore}{\kern0pt}decr{\isacharunderscore}{\kern0pt}bind\ pos{\isacharunderscore}{\kern0pt}union\ pos{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}seq\ pos{\isacharunderscore}{\kern0pt}iterate{\isacharunderscore}{\kern0pt}upto\ pos{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}seq\ pos{\isacharunderscore}{\kern0pt}map\isanewline
\ \ neg{\isacharunderscore}{\kern0pt}empty\ neg{\isacharunderscore}{\kern0pt}single\ neg{\isacharunderscore}{\kern0pt}bind\ neg{\isacharunderscore}{\kern0pt}decr{\isacharunderscore}{\kern0pt}bind\ neg{\isacharunderscore}{\kern0pt}union\ neg{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}seq\ neg{\isacharunderscore}{\kern0pt}iterate{\isacharunderscore}{\kern0pt}upto\ neg{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}seq\ neg{\isacharunderscore}{\kern0pt}map\isanewline
\isanewline
\isacommand{hide{\isacharunderscore}{\kern0pt}fact}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{open}{\isacharparenright}{\kern0pt}\ yield{\isacharunderscore}{\kern0pt}def\ empty{\isacharunderscore}{\kern0pt}def\ single{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}def\ bind{\isacharunderscore}{\kern0pt}def\ union{\isacharunderscore}{\kern0pt}def\isanewline
\ \ if{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}def\ not{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}def\isanewline
\ \ pos{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def\ pos{\isacharunderscore}{\kern0pt}single{\isacharunderscore}{\kern0pt}def\ pos{\isacharunderscore}{\kern0pt}bind{\isacharunderscore}{\kern0pt}def\ pos{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}def\ pos{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}def\ pos{\isacharunderscore}{\kern0pt}iterate{\isacharunderscore}{\kern0pt}upto{\isacharunderscore}{\kern0pt}def\ pos{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}def\ pos{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\isanewline
\ \ neg{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def\ neg{\isacharunderscore}{\kern0pt}single{\isacharunderscore}{\kern0pt}def\ neg{\isacharunderscore}{\kern0pt}bind{\isacharunderscore}{\kern0pt}def\ neg{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}def\ neg{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}def\ neg{\isacharunderscore}{\kern0pt}iterate{\isacharunderscore}{\kern0pt}upto{\isacharunderscore}{\kern0pt}def\ neg{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}def\ neg{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Limited_Sequence.tex%:%
%:%11=4%:%
%:%27=6%:%
%:%28=6%:%
%:%29=7%:%
%:%30=8%:%
%:%44=10%:%
%:%54=12%:%
%:%55=12%:%
%:%56=13%:%
%:%57=14%:%
%:%58=14%:%
%:%59=15%:%
%:%60=16%:%
%:%61=17%:%
%:%62=18%:%
%:%63=18%:%
%:%64=19%:%
%:%65=20%:%
%:%66=21%:%
%:%67=22%:%
%:%68=22%:%
%:%69=23%:%
%:%70=24%:%
%:%71=25%:%
%:%72=26%:%
%:%73=26%:%
%:%74=27%:%
%:%75=28%:%
%:%77=30%:%
%:%78=31%:%
%:%79=32%:%
%:%80=32%:%
%:%81=33%:%
%:%82=34%:%
%:%83=35%:%
%:%84=36%:%
%:%85=37%:%
%:%86=37%:%
%:%87=38%:%
%:%93=44%:%
%:%96=45%:%
%:%100=45%:%
%:%101=45%:%
%:%102=46%:%
%:%107=46%:%
%:%110=47%:%
%:%111=48%:%
%:%112=48%:%
%:%113=49%:%
%:%114=50%:%
%:%120=56%:%
%:%121=57%:%
%:%122=58%:%
%:%123=58%:%
%:%124=59%:%
%:%125=60%:%
%:%127=62%:%
%:%128=63%:%
%:%129=64%:%
%:%130=64%:%
%:%131=65%:%
%:%132=66%:%
%:%133=67%:%
%:%134=68%:%
%:%135=68%:%
%:%136=69%:%
%:%137=70%:%
%:%141=74%:%
%:%142=75%:%
%:%143=76%:%
%:%144=76%:%
%:%145=77%:%
%:%146=78%:%
%:%155=83%:%
%:%165=85%:%
%:%166=85%:%
%:%167=86%:%
%:%168=87%:%
%:%169=87%:%
%:%170=88%:%
%:%171=89%:%
%:%172=90%:%
%:%173=91%:%
%:%174=91%:%
%:%175=92%:%
%:%176=93%:%
%:%177=94%:%
%:%178=95%:%
%:%179=95%:%
%:%180=96%:%
%:%181=97%:%
%:%182=98%:%
%:%183=99%:%
%:%184=99%:%
%:%185=100%:%
%:%186=101%:%
%:%190=105%:%
%:%191=106%:%
%:%192=107%:%
%:%193=107%:%
%:%194=108%:%
%:%195=109%:%
%:%196=110%:%
%:%197=111%:%
%:%198=111%:%
%:%199=112%:%
%:%200=113%:%
%:%201=114%:%
%:%202=115%:%
%:%203=115%:%
%:%204=116%:%
%:%205=117%:%
%:%206=118%:%
%:%207=119%:%
%:%208=119%:%
%:%209=120%:%
%:%210=121%:%
%:%217=124%:%
%:%227=126%:%
%:%228=126%:%
%:%229=127%:%
%:%230=128%:%
%:%231=128%:%
%:%232=129%:%
%:%233=130%:%
%:%234=131%:%
%:%235=132%:%
%:%236=132%:%
%:%237=133%:%
%:%238=134%:%
%:%239=135%:%
%:%240=136%:%
%:%241=136%:%
%:%242=137%:%
%:%243=138%:%
%:%244=139%:%
%:%245=140%:%
%:%246=140%:%
%:%247=141%:%
%:%248=142%:%
%:%252=146%:%
%:%253=147%:%
%:%254=148%:%
%:%255=148%:%
%:%256=149%:%
%:%257=150%:%
%:%258=151%:%
%:%259=152%:%
%:%260=152%:%
%:%261=153%:%
%:%262=154%:%
%:%263=155%:%
%:%264=156%:%
%:%265=156%:%
%:%266=157%:%
%:%267=158%:%
%:%268=159%:%
%:%269=160%:%
%:%270=160%:%
%:%271=161%:%
%:%272=162%:%
%:%279=165%:%
%:%289=167%:%
%:%290=167%:%
%:%291=168%:%
%:%292=169%:%
%:%293=170%:%
%:%294=171%:%
%:%295=171%:%
%:%296=172%:%
%:%297=173%:%
%:%299=175%:%
%:%300=176%:%
%:%303=177%:%
%:%308=178%:%
%:%309=178%:%
%:%337=201%:%
%:%340=202%:%
%:%341=203%:%
%:%342=203%:%
%:%343=204%:%
%:%344=205%:%
%:%345=206%:%
%:%346=206%:%
%:%347=207%:%
%:%348=208%:%
%:%349=209%:%
%:%350=210%:%
%:%351=210%:%
%:%352=211%:%
%:%353=212%:%
%:%354=213%:%
%:%357=214%:%
%:%362=215%:%
