%
\begin{isabellebody}%
\setisabellecontext{Universal{\isacharunderscore}{\kern0pt}Hash{\isacharunderscore}{\kern0pt}Families}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Universal Hash Families%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Universal{\isacharunderscore}{\kern0pt}Hash{\isacharunderscore}{\kern0pt}Families\isanewline
\ \ \isakeyword{imports}\ Main\ Interpolation{\isacharunderscore}{\kern0pt}Polynomial{\isacharunderscore}{\kern0pt}Counts\ Product{\isacharunderscore}{\kern0pt}PMF{\isacharunderscore}{\kern0pt}Ext\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
A k-universal hash family $\mathcal H$ is probability space, whose elements are hash functions 
with domain $U$ and range ${i. i < m}$ such that:

\begin{itemize}
\item For every fixed $x \in U$ and value $y < m$ exactly $\frac{1}{m}$ of the hash functions map
  $x$ to $y$: $P_{h \in \mathcal H} \left(h(x) = y\right) = \frac{1}{m}$.
\item For at most $k$ universe elements: $x_1,\cdots,x_m$ the functions $h(x_1), \cdots, h(x_m)$ 
  are independent random variables.
\end{itemize}

In this section, we construct $k$-universal hash families following the approach outlined
by Wegman and Carter using the polynomials of degree less than $k$ over a finite field.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
A hash function is just polynomial evaluation.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ hash\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ ring{\isacharunderscore}{\kern0pt}scheme\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}hash\ F\ x\ {\isasymomega}\ {\isacharequal}{\kern0pt}\ ring{\isachardot}{\kern0pt}eval\ F\ {\isasymomega}\ x{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ hash{\isacharunderscore}{\kern0pt}range{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymomega}\ {\isasymin}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}hash\ F\ x\ {\isasymomega}\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}hash{\isacharunderscore}{\kern0pt}def\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ ring{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\ ring{\isachardot}{\kern0pt}polynomial{\isacharunderscore}{\kern0pt}incl\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}carrier{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ hash{\isacharunderscore}{\kern0pt}range{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymomega}\ {\isasymin}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ hash\ F\ x\ {\isasymomega}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ carrier\ F\ {\isasymsubseteq}\ carrier\ F{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ image{\isacharunderscore}{\kern0pt}subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ hash{\isacharunderscore}{\kern0pt}range\ assms{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ poly{\isacharunderscore}{\kern0pt}cards{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F\ {\isasymand}\ finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}K\ {\isasymsubseteq}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}card\ K\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}y\ {\isacharbackquote}{\kern0pt}\ K\ {\isasymsubseteq}\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\ {\isasymin}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k\ {\isasymin}\ K{\isachardot}{\kern0pt}\ ring{\isachardot}{\kern0pt}eval\ F\ {\isasymomega}\ k\ {\isacharequal}{\kern0pt}\ y\ k{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharminus}{\kern0pt}card\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ interpolating{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}count{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ n{\isacharequal}{\kern0pt}{\isachardoublequoteopen}n{\isacharminus}{\kern0pt}card\ K{\isachardoublequoteclose}\ \isakeyword{and}\ f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}y{\isachardoublequoteclose}\ \isakeyword{and}\ F{\isacharequal}{\kern0pt}{\isachardoublequoteopen}F{\isachardoublequoteclose}\ \isakeyword{and}\ K{\isacharequal}{\kern0pt}{\isachardoublequoteopen}K{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ assms\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ poly{\isacharunderscore}{\kern0pt}cards{\isacharunderscore}{\kern0pt}single{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F\ {\isasymand}\ finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}k\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}y\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\ {\isasymin}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isachardot}{\kern0pt}\ ring{\isachardot}{\kern0pt}eval\ F\ {\isasymomega}\ k\ {\isacharequal}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ poly{\isacharunderscore}{\kern0pt}cards{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ K{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ y{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ simplified{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}simplified{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ expand{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}filter{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ P\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ P\ x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ hash{\isacharunderscore}{\kern0pt}prob{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F\ {\isasymand}\ finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}K\ {\isasymsubseteq}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}card\ K\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}y\ {\isacharbackquote}{\kern0pt}\ K\ {\isasymsubseteq}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymP}{\isacharparenleft}{\kern0pt}{\isasymomega}\ in\ pmf{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ K{\isachardot}{\kern0pt}\ hash\ F\ x\ {\isasymomega}\ {\isacharequal}{\kern0pt}\ y\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isacharslash}{\kern0pt}{\isacharparenleft}{\kern0pt}real\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}card\ K{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymzero}\isactrlbsub F\isactrlesub \ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ ring{\isachardot}{\kern0pt}ring{\isacharunderscore}{\kern0pt}simprules{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ measure{\isacharunderscore}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ non{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fin{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}bounded\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}hash{\isacharunderscore}{\kern0pt}def\ expand{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ poly{\isacharunderscore}{\kern0pt}cards{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}count{\isacharcomma}{\kern0pt}\ metis\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ frac{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}a{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}a{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ le{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}inverse{\isadigit{2}}\ power{\isacharunderscore}{\kern0pt}add{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ hash{\isacharunderscore}{\kern0pt}prob{\isacharunderscore}{\kern0pt}single{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F\ {\isasymand}\ finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}y\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymP}{\isacharparenleft}{\kern0pt}{\isasymomega}\ in\ pmf{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ hash\ F\ x\ {\isasymomega}\ {\isacharequal}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isacharslash}{\kern0pt}{\isacharparenleft}{\kern0pt}real\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ hash{\isacharunderscore}{\kern0pt}prob{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ K{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ y{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ simplified{\isacharbrackright}{\kern0pt}\ assms\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ UNIV{\isacharunderscore}{\kern0pt}I\ space{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ hash{\isacharunderscore}{\kern0pt}indep{\isacharunderscore}{\kern0pt}pmf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F\ {\isasymand}\ finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}J{\isasymsubseteq}carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ J{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}card\ J\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}prob{\isacharunderscore}{\kern0pt}space{\isachardot}{\kern0pt}indep{\isacharunderscore}{\kern0pt}vars\ {\isacharparenleft}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ pmf{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}hash\ F{\isacharparenright}{\kern0pt}\ J{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymzero}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ {\isasymin}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}zero\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}closed{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}zero\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ c{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ finite{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}count\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ d{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}\ A\ P{\isachardot}{\kern0pt}\ A\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ P\ {\isasymomega}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\ {\isasymin}\ A{\isachardot}{\kern0pt}\ P\ {\isasymomega}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}carr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ e{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}eq\ e\ empty{\isacharunderscore}{\kern0pt}iff\ gr{\isadigit{0}}I\ ring{\isachardot}{\kern0pt}ring{\isacharunderscore}{\kern0pt}simprules{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ {\isasymOmega}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymOmega}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}a\ J{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ J{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ J\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ finite\ J{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ measure\ {\isasymOmega}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ {\isasymforall}x{\isasymin}J{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ hash\ F\ x\ {\isasymomega}\ {\isacharequal}{\kern0pt}\ a\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymProd}x{\isasymin}J{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ measure\ {\isasymOmega}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ hash\ F\ x\ {\isasymomega}\ {\isacharequal}{\kern0pt}\ a\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ a\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ J{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}J{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ J{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ J{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ J{\isacharprime}{\kern0pt}\ {\isasymle}\ n{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ card{\isacharunderscore}{\kern0pt}mono\ order{\isacharunderscore}{\kern0pt}trans\ a{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}J{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ carrier\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ order{\isacharunderscore}{\kern0pt}trans\ a{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}n\ {\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}measure{\isacharunderscore}{\kern0pt}pmf{\isachardot}{\kern0pt}prob\ {\isasymOmega}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ {\isasymforall}x{\isasymin}J{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ hash\ F\ x\ {\isasymomega}\ {\isacharequal}{\kern0pt}\ a\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymProd}x{\isasymin}J{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf{\isachardot}{\kern0pt}prob\ {\isasymOmega}\ {\isacharbraceleft}{\kern0pt}{\isasymomega}{\isachardot}{\kern0pt}\ hash\ F\ x\ {\isasymomega}\ {\isacharequal}{\kern0pt}\ a\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}a\ {\isacharbackquote}{\kern0pt}\ J{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ carrier\ F{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{5}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ J{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ x\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ order{\isacharunderscore}{\kern0pt}trans\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{6}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ J{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ a\ x\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\ \ \isacommand{using}\isamarkupfalse%
\ True\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}{\isasymOmega}{\isacharunderscore}{\kern0pt}def\ measure{\isacharunderscore}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}OF\ b\ c{\isacharbrackright}{\kern0pt}\ d\ hash{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ poly{\isacharunderscore}{\kern0pt}cards{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ a{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ metis\ True{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}count{\isacharbrackleft}{\kern0pt}OF\ e\ fin{\isacharunderscore}{\kern0pt}carr{\isacharbrackright}{\kern0pt}\ poly{\isacharunderscore}{\kern0pt}cards{\isacharunderscore}{\kern0pt}single{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}{\isadigit{5}}\ a{\isacharunderscore}{\kern0pt}{\isadigit{4}}\ a{\isacharunderscore}{\kern0pt}{\isadigit{6}}{\isacharbrackright}{\kern0pt}\ power{\isacharunderscore}{\kern0pt}divide{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ frac{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}f{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}f{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}power{\isacharunderscore}{\kern0pt}add{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ power{\isacharunderscore}{\kern0pt}mult{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ arg{\isacharunderscore}{\kern0pt}cong{\isadigit{2}}{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}x\ y{\isachardot}{\kern0pt}\ x\ {\isacharcircum}{\kern0pt}\ y{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ a{\isacharunderscore}{\kern0pt}{\isadigit{4}}\ mult{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}if\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ j\ \isakeyword{where}\ a{\isacharunderscore}{\kern0pt}{\isadigit{8}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isasymin}\ J{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ a{\isacharunderscore}{\kern0pt}{\isadigit{9}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ j\ {\isasymnotin}\ carrier\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{7}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x\ {\isasymomega}{\isachardot}{\kern0pt}\ {\isasymomega}\ {\isasymin}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n\ {\isasymLongrightarrow}\ x\ {\isasymin}\ carrier\ F\ {\isasymLongrightarrow}\ hash\ F\ x\ {\isasymomega}\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}def\ hash{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ e\ ring{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\ \ ring{\isachardot}{\kern0pt}polynomial{\isacharunderscore}{\kern0pt}incl\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}carrier{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isasymomega}\ {\isasymin}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isachardot}{\kern0pt}\ {\isasymforall}x{\isasymin}J{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ hash\ F\ x\ {\isasymomega}\ {\isacharequal}{\kern0pt}\ a\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ order{\isacharunderscore}{\kern0pt}antisym{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ metis\ a{\isacharunderscore}{\kern0pt}{\isadigit{7}}\ a{\isacharunderscore}{\kern0pt}{\isadigit{8}}\ a{\isacharunderscore}{\kern0pt}{\isadigit{9}}\ \ a{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ in{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isasymomega}\ {\isasymin}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isachardot}{\kern0pt}\ hash\ F\ j\ {\isasymomega}\ {\isacharequal}{\kern0pt}\ a\ j{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ order{\isacharunderscore}{\kern0pt}antisym{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ metis\ a{\isacharunderscore}{\kern0pt}{\isadigit{7}}\ a{\isacharunderscore}{\kern0pt}{\isadigit{8}}\ a{\isacharunderscore}{\kern0pt}{\isadigit{9}}\ \ a{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ in{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}{\isasymOmega}{\isacharunderscore}{\kern0pt}def\ measure{\isacharunderscore}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}OF\ b\ c{\isacharbrackright}{\kern0pt}\ d\ a{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ prod{\isacharunderscore}{\kern0pt}zero{\isacharcomma}{\kern0pt}\ metis\ a{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bexI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}j{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}a{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isadigit{2}}\ a{\isacharunderscore}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ indep{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}pmf{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}{\isasymOmega}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
We introduce k-wise independent random variables using the existing definition of
independent random variables.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ prob{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}wise{\isacharunderscore}{\kern0pt}indep{\isacharunderscore}{\kern0pt}vars\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ measure{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}k{\isacharunderscore}{\kern0pt}wise{\isacharunderscore}{\kern0pt}indep{\isacharunderscore}{\kern0pt}vars\ k\ M{\isacharprime}{\kern0pt}\ X{\isacharprime}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}J\ {\isasymsubseteq}\ I{\isachardot}{\kern0pt}\ card\ J\ {\isasymle}\ k\ {\isasymlongrightarrow}\ finite\ J\ {\isasymlongrightarrow}\ indep{\isacharunderscore}{\kern0pt}vars\ M{\isacharprime}{\kern0pt}\ X{\isacharprime}{\kern0pt}\ J{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ hash{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}wise{\isacharunderscore}{\kern0pt}indep{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F\ {\isasymand}\ finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}prob{\isacharunderscore}{\kern0pt}space{\isachardot}{\kern0pt}k{\isacharunderscore}{\kern0pt}wise{\isacharunderscore}{\kern0pt}indep{\isacharunderscore}{\kern0pt}vars\ {\isacharparenleft}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ n\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ pmf{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}hash\ F{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf{\isachardot}{\kern0pt}k{\isacharunderscore}{\kern0pt}wise{\isacharunderscore}{\kern0pt}indep{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ hash{\isacharunderscore}{\kern0pt}indep{\isacharunderscore}{\kern0pt}pmf{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ hash{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F\ {\isasymand}\ finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymomega}\ {\isasymin}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}degree\ {\isasymomega}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ hash\ F\ x\ {\isasymomega}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ inj{\isacharunderscore}{\kern0pt}onI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\ y\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}hash\ F\ x\ {\isasymomega}\ {\isacharequal}{\kern0pt}\ hash\ F\ y\ {\isasymomega}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ field\ F\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ u\ v\ \isakeyword{where}\ {\isasymomega}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymomega}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isasymomega}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}tl\ {\isasymomega}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}carr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\ carrier\ F\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymzero}\isactrlbsub F\isactrlesub {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymomega}{\isacharunderscore}{\kern0pt}def\ assms\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ list{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ring{\isachardot}{\kern0pt}degree{\isacharunderscore}{\kern0pt}oneE\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}carr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymomega}{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ list{\isachardot}{\kern0pt}inject\ ring{\isachardot}{\kern0pt}degree{\isacharunderscore}{\kern0pt}oneE{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isasymotimes}\isactrlbsub F\isactrlesub \ x\ {\isasymoplus}\isactrlbsub F\isactrlesub \ v\ {\isacharequal}{\kern0pt}\ u\ {\isasymotimes}\isactrlbsub F\isactrlesub \ y\ \ {\isasymoplus}\isactrlbsub F\isactrlesub \ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{1}}\ a{\isadigit{2}}\ a{\isadigit{3}}\ u{\isacharunderscore}{\kern0pt}carr\ v{\isacharunderscore}{\kern0pt}carr\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}hash{\isacharunderscore}{\kern0pt}def\ {\isasymomega}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}carr\ a{\isadigit{1}}\ a{\isadigit{2}}\ v{\isacharunderscore}{\kern0pt}carr\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ local{\isachardot}{\kern0pt}field{\isacharunderscore}{\kern0pt}Units{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ prob{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}wise{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}k{\isacharunderscore}{\kern0pt}wise{\isacharunderscore}{\kern0pt}indep{\isacharunderscore}{\kern0pt}vars\ k\ M{\isacharprime}{\kern0pt}\ X{\isacharprime}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}J\ {\isasymsubseteq}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}k{\isacharunderscore}{\kern0pt}wise{\isacharunderscore}{\kern0pt}indep{\isacharunderscore}{\kern0pt}vars\ k\ M{\isacharprime}{\kern0pt}\ X{\isacharprime}{\kern0pt}\ J{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}k{\isacharunderscore}{\kern0pt}wise{\isacharunderscore}{\kern0pt}indep{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Universal_Hash_Families.tex%:%
%:%11=1%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%39=7%:%
%:%40=8%:%
%:%41=9%:%
%:%42=10%:%
%:%43=11%:%
%:%44=12%:%
%:%45=13%:%
%:%46=14%:%
%:%47=15%:%
%:%48=16%:%
%:%49=17%:%
%:%50=18%:%
%:%54=20%:%
%:%56=22%:%
%:%57=22%:%
%:%58=23%:%
%:%59=24%:%
%:%60=25%:%
%:%61=25%:%
%:%62=26%:%
%:%63=27%:%
%:%64=28%:%
%:%65=29%:%
%:%68=30%:%
%:%72=30%:%
%:%73=30%:%
%:%74=31%:%
%:%75=31%:%
%:%76=32%:%
%:%77=32%:%
%:%82=32%:%
%:%85=33%:%
%:%86=34%:%
%:%87=34%:%
%:%88=35%:%
%:%89=36%:%
%:%90=37%:%
%:%93=38%:%
%:%97=38%:%
%:%98=38%:%
%:%99=39%:%
%:%100=39%:%
%:%105=39%:%
%:%108=40%:%
%:%109=41%:%
%:%110=41%:%
%:%111=42%:%
%:%112=43%:%
%:%113=44%:%
%:%114=45%:%
%:%115=46%:%
%:%116=47%:%
%:%119=48%:%
%:%123=48%:%
%:%124=48%:%
%:%125=49%:%
%:%126=49%:%
%:%131=49%:%
%:%134=50%:%
%:%135=51%:%
%:%136=51%:%
%:%137=52%:%
%:%138=53%:%
%:%139=54%:%
%:%140=55%:%
%:%141=56%:%
%:%142=57%:%
%:%145=58%:%
%:%149=58%:%
%:%150=58%:%
%:%151=59%:%
%:%152=59%:%
%:%157=59%:%
%:%160=60%:%
%:%161=61%:%
%:%162=61%:%
%:%165=62%:%
%:%169=62%:%
%:%170=62%:%
%:%175=62%:%
%:%178=63%:%
%:%179=64%:%
%:%180=64%:%
%:%181=65%:%
%:%182=66%:%
%:%183=67%:%
%:%184=68%:%
%:%185=69%:%
%:%192=70%:%
%:%193=70%:%
%:%194=71%:%
%:%195=71%:%
%:%196=72%:%
%:%197=72%:%
%:%198=72%:%
%:%199=73%:%
%:%200=74%:%
%:%201=74%:%
%:%202=75%:%
%:%203=75%:%
%:%204=76%:%
%:%205=76%:%
%:%206=76%:%
%:%207=77%:%
%:%208=78%:%
%:%209=78%:%
%:%210=79%:%
%:%211=79%:%
%:%212=80%:%
%:%213=80%:%
%:%214=81%:%
%:%215=81%:%
%:%216=82%:%
%:%217=82%:%
%:%218=83%:%
%:%219=83%:%
%:%220=84%:%
%:%221=84%:%
%:%222=85%:%
%:%223=85%:%
%:%224=86%:%
%:%225=86%:%
%:%226=87%:%
%:%227=87%:%
%:%228=88%:%
%:%234=88%:%
%:%237=89%:%
%:%238=90%:%
%:%239=90%:%
%:%240=91%:%
%:%241=92%:%
%:%242=93%:%
%:%243=94%:%
%:%244=95%:%
%:%247=96%:%
%:%251=96%:%
%:%252=96%:%
%:%253=97%:%
%:%254=97%:%
%:%259=97%:%
%:%262=98%:%
%:%263=99%:%
%:%264=99%:%
%:%265=100%:%
%:%266=101%:%
%:%267=102%:%
%:%268=103%:%
%:%269=104%:%
%:%270=105%:%
%:%271=106%:%
%:%278=107%:%
%:%279=107%:%
%:%280=108%:%
%:%281=108%:%
%:%282=109%:%
%:%283=109%:%
%:%284=110%:%
%:%285=110%:%
%:%286=111%:%
%:%287=111%:%
%:%288=112%:%
%:%289=112%:%
%:%290=112%:%
%:%291=113%:%
%:%292=113%:%
%:%293=114%:%
%:%294=114%:%
%:%295=115%:%
%:%296=115%:%
%:%297=116%:%
%:%298=116%:%
%:%299=117%:%
%:%300=117%:%
%:%301=118%:%
%:%302=118%:%
%:%303=119%:%
%:%304=120%:%
%:%305=120%:%
%:%306=120%:%
%:%307=120%:%
%:%308=121%:%
%:%309=121%:%
%:%310=121%:%
%:%311=121%:%
%:%312=122%:%
%:%313=122%:%
%:%314=123%:%
%:%315=123%:%
%:%316=124%:%
%:%317=125%:%
%:%318=125%:%
%:%319=126%:%
%:%320=126%:%
%:%324=130%:%
%:%325=131%:%
%:%326=131%:%
%:%327=132%:%
%:%328=132%:%
%:%329=133%:%
%:%330=133%:%
%:%331=134%:%
%:%332=134%:%
%:%333=135%:%
%:%334=135%:%
%:%335=136%:%
%:%336=136%:%
%:%337=136%:%
%:%338=137%:%
%:%339=137%:%
%:%340=137%:%
%:%341=138%:%
%:%342=138%:%
%:%343=138%:%
%:%344=138%:%
%:%345=139%:%
%:%346=140%:%
%:%347=140%:%
%:%348=141%:%
%:%349=142%:%
%:%350=142%:%
%:%351=143%:%
%:%352=143%:%
%:%353=144%:%
%:%354=144%:%
%:%355=144%:%
%:%356=144%:%
%:%357=145%:%
%:%358=145%:%
%:%359=145%:%
%:%360=145%:%
%:%361=146%:%
%:%362=146%:%
%:%363=147%:%
%:%364=147%:%
%:%365=148%:%
%:%366=148%:%
%:%367=149%:%
%:%368=149%:%
%:%369=150%:%
%:%370=150%:%
%:%371=151%:%
%:%372=151%:%
%:%373=152%:%
%:%374=152%:%
%:%375=153%:%
%:%376=153%:%
%:%377=153%:%
%:%378=154%:%
%:%379=154%:%
%:%380=155%:%
%:%381=155%:%
%:%382=156%:%
%:%383=156%:%
%:%384=156%:%
%:%385=156%:%
%:%386=157%:%
%:%387=157%:%
%:%388=158%:%
%:%389=158%:%
%:%390=159%:%
%:%391=159%:%
%:%392=160%:%
%:%393=160%:%
%:%394=161%:%
%:%395=161%:%
%:%396=162%:%
%:%397=162%:%
%:%398=163%:%
%:%399=163%:%
%:%400=164%:%
%:%401=164%:%
%:%402=165%:%
%:%403=165%:%
%:%404=166%:%
%:%405=166%:%
%:%406=167%:%
%:%407=167%:%
%:%408=168%:%
%:%409=168%:%
%:%410=168%:%
%:%411=169%:%
%:%412=169%:%
%:%413=170%:%
%:%414=170%:%
%:%415=171%:%
%:%416=171%:%
%:%417=172%:%
%:%418=172%:%
%:%419=173%:%
%:%420=173%:%
%:%421=174%:%
%:%422=174%:%
%:%423=175%:%
%:%424=175%:%
%:%425=176%:%
%:%426=176%:%
%:%427=177%:%
%:%428=177%:%
%:%429=177%:%
%:%430=178%:%
%:%440=180%:%
%:%441=181%:%
%:%443=183%:%
%:%444=183%:%
%:%445=184%:%
%:%446=185%:%
%:%447=186%:%
%:%448=187%:%
%:%449=187%:%
%:%450=188%:%
%:%451=189%:%
%:%452=190%:%
%:%453=191%:%
%:%456=192%:%
%:%460=192%:%
%:%461=192%:%
%:%462=193%:%
%:%463=193%:%
%:%464=193%:%
%:%469=193%:%
%:%472=194%:%
%:%473=195%:%
%:%474=195%:%
%:%475=196%:%
%:%476=197%:%
%:%477=198%:%
%:%478=199%:%
%:%485=200%:%
%:%486=200%:%
%:%487=201%:%
%:%488=201%:%
%:%489=202%:%
%:%490=202%:%
%:%491=203%:%
%:%492=203%:%
%:%493=204%:%
%:%494=204%:%
%:%495=205%:%
%:%496=206%:%
%:%497=206%:%
%:%498=207%:%
%:%499=207%:%
%:%500=208%:%
%:%501=209%:%
%:%502=209%:%
%:%503=209%:%
%:%504=210%:%
%:%505=210%:%
%:%506=211%:%
%:%507=211%:%
%:%508=212%:%
%:%509=213%:%
%:%510=213%:%
%:%511=214%:%
%:%512=214%:%
%:%513=214%:%
%:%514=215%:%
%:%515=215%:%
%:%516=216%:%
%:%517=217%:%
%:%518=217%:%
%:%519=218%:%
%:%520=218%:%
%:%521=218%:%
%:%522=219%:%
%:%523=219%:%
%:%524=220%:%
%:%525=221%:%
%:%526=221%:%
%:%527=222%:%
%:%528=222%:%
%:%529=222%:%
%:%530=223%:%
%:%531=224%:%
%:%532=224%:%
%:%533=225%:%
%:%534=225%:%
%:%535=226%:%
%:%536=226%:%
%:%537=227%:%
%:%543=227%:%
%:%546=228%:%
%:%547=229%:%
%:%548=229%:%
%:%549=230%:%
%:%550=231%:%
%:%551=232%:%
%:%554=233%:%
%:%558=233%:%
%:%559=233%:%
%:%560=233%:%
%:%565=233%:%
%:%570=234%:%
%:%575=235%:%
