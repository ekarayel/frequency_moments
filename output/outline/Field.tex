%
\begin{isabellebody}%
\setisabellecontext{Field}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Field%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Field\isanewline
\ \ \isakeyword{imports}\ Main\ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Algebra{\isachardot}{\kern0pt}Ring{\isacharunderscore}{\kern0pt}Divisibility{\isachardoublequoteclose}\ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Algebra{\isachardot}{\kern0pt}IntRing{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
This section contains a proof that the factor ring \isa{ZFact\ p} for
\isa{prime\ p} is a field. Note that the bulk of the work has already been done in
HOL-Algebra, in particular it is established that \isa{ZFact\ p} is a domain.

However, any domain with a finite carrier is already a field. This can be seen by establishing that
multiplication by a non-zero element is an injective map between the elements of the carrier of the
domain. But an injective map between sets of the same non-finite cardinality is also surjective.
Hence we can find the unit element in the image of such a map.

Additionally the canonical bijection between \isa{ZFact\ p} and \isa{{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}p{\isacharbraceright}{\kern0pt}}
is introduced, which is useful for hashing natural numbers.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ zfact{\isacharunderscore}{\kern0pt}embed\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ int\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}zfact{\isacharunderscore}{\kern0pt}embed\ p\ k\ {\isacharequal}{\kern0pt}\ Idl\isactrlbsub {\isasymZ}\isactrlesub \ {\isacharbraceleft}{\kern0pt}int\ p{\isacharbraceright}{\kern0pt}\ {\isacharplus}{\kern0pt}{\isachargreater}{\kern0pt}\isactrlbsub {\isasymZ}\isactrlesub \ {\isacharparenleft}{\kern0pt}int\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zfact{\isacharunderscore}{\kern0pt}embed{\isacharunderscore}{\kern0pt}ran{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}p\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}zfact{\isacharunderscore}{\kern0pt}embed\ p\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}p{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ carrier\ {\isacharparenleft}{\kern0pt}ZFact\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}zfact{\isacharunderscore}{\kern0pt}embed\ p\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}p{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ carrier\ {\isacharparenleft}{\kern0pt}ZFact\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ zfact{\isacharunderscore}{\kern0pt}embed\ p\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}p{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ m\ \isakeyword{where}\ m{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zfact{\isacharunderscore}{\kern0pt}embed\ p\ m\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}zfact{\isacharunderscore}{\kern0pt}embed\ p\ m\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}ZFact\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ZFact{\isacharunderscore}{\kern0pt}def\ ZFact{\isacharunderscore}{\kern0pt}defs{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ int{\isachardot}{\kern0pt}a{\isacharunderscore}{\kern0pt}rcosetsI\ zfact{\isacharunderscore}{\kern0pt}embed{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}ZFact\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}carrier\ {\isacharparenleft}{\kern0pt}ZFact\ p{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ zfact{\isacharunderscore}{\kern0pt}embed\ p\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}p{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ I\ \isakeyword{where}\ {\isachardoublequoteopen}I\ {\isacharequal}{\kern0pt}\ Idl\isactrlbsub {\isasymZ}\isactrlesub \ {\isacharbraceleft}{\kern0pt}int\ p{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ coset{\isacharunderscore}{\kern0pt}elim{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}\ x\ R\ I{\isachardot}{\kern0pt}\ x\ {\isasymin}\ a{\isacharunderscore}{\kern0pt}rcosets\isactrlbsub R\isactrlesub \ I\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isachardot}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ I\ {\isacharplus}{\kern0pt}{\isachargreater}{\kern0pt}\isactrlbsub R\isactrlesub \ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}FactRing{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}x\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}ZFact\ {\isacharparenleft}{\kern0pt}int\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ I\ {\isacharplus}{\kern0pt}{\isachargreater}{\kern0pt}\isactrlbsub {\isasymZ}\isactrlesub \ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}I{\isacharunderscore}{\kern0pt}def\ carrier{\isacharunderscore}{\kern0pt}def\ ZFact{\isacharunderscore}{\kern0pt}def\ FactRing{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ coset{\isacharunderscore}{\kern0pt}elim\ FactRing{\isacharunderscore}{\kern0pt}def\ ZFact{\isacharunderscore}{\kern0pt}def\ a\ partial{\isacharunderscore}{\kern0pt}object{\isachardot}{\kern0pt}select{\isacharunderscore}{\kern0pt}convs{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ y\ \isakeyword{where}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ y{\isacharprime}{\kern0pt}\ mod\ p\ {\isacharminus}{\kern0pt}y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ mod\ p\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}y\ {\isasymin}\ I{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ I{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Idl{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}dvd\ int{\isacharunderscore}{\kern0pt}Idl{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}ideal\ mod{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dvd{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}y\ {\isacharplus}{\kern0pt}\ y{\isacharprime}{\kern0pt}\ {\isacharless}{\kern0pt}\ p\ {\isasymand}\ y\ {\isacharplus}{\kern0pt}\ y{\isacharprime}{\kern0pt}\ {\isasymge}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}y\ {\isasymoplus}\isactrlbsub {\isasymZ}\isactrlesub \ y{\isacharprime}{\kern0pt}\ {\isacharless}{\kern0pt}\ p\ {\isasymand}\ y\ {\isasymoplus}\isactrlbsub {\isasymZ}\isactrlesub \ y{\isacharprime}{\kern0pt}\ {\isasymge}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ int{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ a{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}I\ {\isacharplus}{\kern0pt}{\isachargreater}{\kern0pt}\isactrlbsub {\isasymZ}\isactrlesub \ y{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ I\ {\isacharplus}{\kern0pt}{\isachargreater}{\kern0pt}\isactrlbsub {\isasymZ}\isactrlesub \ {\isacharparenleft}{\kern0pt}y\ {\isasymoplus}\isactrlbsub {\isasymZ}\isactrlesub \ y{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ I{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ y{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ UNIV{\isacharunderscore}{\kern0pt}I\ abelian{\isacharunderscore}{\kern0pt}group{\isachardot}{\kern0pt}a{\isacharunderscore}{\kern0pt}coset{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}assoc\ \isanewline
\ \ \ \ \ \ \ \ \ \ int{\isachardot}{\kern0pt}Idl{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}ideal{\isacharprime}{\kern0pt}\ int{\isachardot}{\kern0pt}a{\isacharunderscore}{\kern0pt}rcos{\isacharunderscore}{\kern0pt}zero\ int{\isachardot}{\kern0pt}abelian{\isacharunderscore}{\kern0pt}group{\isacharunderscore}{\kern0pt}axioms\isanewline
\ \ \ \ \ \ \ \ \ \ int{\isachardot}{\kern0pt}cgenideal{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}genideal\ int{\isachardot}{\kern0pt}cgenideal{\isacharunderscore}{\kern0pt}ideal\ int{\isachardot}{\kern0pt}genideal{\isacharunderscore}{\kern0pt}one\ int{\isacharunderscore}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ w{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ \ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}int\ w\ {\isacharequal}{\kern0pt}\ y\ {\isasymoplus}\isactrlbsub {\isasymZ}\isactrlesub \ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ nonneg{\isacharunderscore}{\kern0pt}int{\isacharunderscore}{\kern0pt}cases\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ I\ {\isacharplus}{\kern0pt}{\isachargreater}{\kern0pt}\isactrlbsub {\isasymZ}\isactrlesub \ {\isacharparenleft}{\kern0pt}int\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}w\ {\isacharless}{\kern0pt}\ p{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ a{\isadigit{3}}\ y{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ y{\isacharunderscore}{\kern0pt}{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ presburger{\isacharplus}{\kern0pt}\ \ \isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ zfact{\isacharunderscore}{\kern0pt}embed\ p\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}p{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}zfact{\isacharunderscore}{\kern0pt}embed{\isacharunderscore}{\kern0pt}def\ I{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ order{\isacharunderscore}{\kern0pt}antisym\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zfact{\isacharunderscore}{\kern0pt}embed{\isacharunderscore}{\kern0pt}inj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}p\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}zfact{\isacharunderscore}{\kern0pt}embed\ p{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}p{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ y\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}p{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}p{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}zfact{\isacharunderscore}{\kern0pt}embed\ p\ x\ {\isacharequal}{\kern0pt}\ zfact{\isacharunderscore}{\kern0pt}embed\ p\ y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}Idl\isactrlbsub {\isasymZ}\isactrlesub \ {\isacharbraceleft}{\kern0pt}int\ p{\isacharbraceright}{\kern0pt}\ {\isacharplus}{\kern0pt}{\isachargreater}{\kern0pt}\isactrlbsub {\isasymZ}\isactrlesub \ int\ x\ {\isacharequal}{\kern0pt}\ Idl\isactrlbsub {\isasymZ}\isactrlesub \ {\isacharbraceleft}{\kern0pt}int\ p{\isacharbraceright}{\kern0pt}\ {\isacharplus}{\kern0pt}{\isachargreater}{\kern0pt}\isactrlbsub {\isasymZ}\isactrlesub \ int\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}zfact{\isacharunderscore}{\kern0pt}embed{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}int\ x\ {\isasymominus}\isactrlbsub {\isasymZ}\isactrlesub \ int\ y\ {\isasymin}\ Idl\isactrlbsub {\isasymZ}\isactrlesub \ {\isacharbraceleft}{\kern0pt}int\ p{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ring{\isachardot}{\kern0pt}quotient{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}same{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}r{\isacharunderscore}{\kern0pt}cos\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ UNIV{\isacharunderscore}{\kern0pt}I\ int{\isachardot}{\kern0pt}cgenideal{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}genideal\ int{\isachardot}{\kern0pt}cgenideal{\isacharunderscore}{\kern0pt}ideal\ int{\isachardot}{\kern0pt}ring{\isacharunderscore}{\kern0pt}axioms\ int{\isacharunderscore}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ dvd\ {\isacharparenleft}{\kern0pt}int\ x\ {\isacharminus}{\kern0pt}\ int\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}int{\isacharunderscore}{\kern0pt}Idl{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ int{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}minus{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{1}}\ a{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}\ cancel{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}monoid{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}class{\isachardot}{\kern0pt}diff{\isacharunderscore}{\kern0pt}cancel\ diff{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}mono{\isadigit{2}}\ dvd{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}right\ dvd{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}commute\ less{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}less\ less{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}less\ linorder{\isacharunderscore}{\kern0pt}neqE{\isacharunderscore}{\kern0pt}nat\ of{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}iff\ zdiff{\isacharunderscore}{\kern0pt}int{\isacharunderscore}{\kern0pt}split\ zdvd{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}zless{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zfact{\isacharunderscore}{\kern0pt}embed{\isacharunderscore}{\kern0pt}bij{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}p\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}bij{\isacharunderscore}{\kern0pt}betw\ {\isacharparenleft}{\kern0pt}zfact{\isacharunderscore}{\kern0pt}embed\ p{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}p{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}carrier\ {\isacharparenleft}{\kern0pt}ZFact\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}imageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ zfact{\isacharunderscore}{\kern0pt}embed{\isacharunderscore}{\kern0pt}inj\ zfact{\isacharunderscore}{\kern0pt}embed{\isacharunderscore}{\kern0pt}ran\ assms\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zfact{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}carrier\ {\isacharparenleft}{\kern0pt}ZFact\ {\isacharparenleft}{\kern0pt}int\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ zfact{\isacharunderscore}{\kern0pt}embed{\isacharunderscore}{\kern0pt}ran{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ card{\isacharunderscore}{\kern0pt}atLeastLessThan\ card{\isacharunderscore}{\kern0pt}image\ diff{\isacharunderscore}{\kern0pt}zero\ zfact{\isacharunderscore}{\kern0pt}embed{\isacharunderscore}{\kern0pt}inj{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zfact{\isacharunderscore}{\kern0pt}finite{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}carrier\ {\isacharparenleft}{\kern0pt}ZFact\ {\isacharparenleft}{\kern0pt}int\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ zfact{\isacharunderscore}{\kern0pt}card\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms\ card{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}finite{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}domains{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}fields{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}domain\ R{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}carrier\ R{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}field\ R{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ domain\ R\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Units\ R\ {\isacharequal}{\kern0pt}\ carrier\ R\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymzero}\isactrlbsub R\isactrlesub {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Units\ R\ {\isasymsubseteq}\ carrier\ R{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}Units{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymzero}\isactrlbsub R\isactrlesub \ {\isasymnotin}\ Units\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ domain{\isachardot}{\kern0pt}zero{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}prime{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ primeE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}Units\ R\ {\isasymsubseteq}\ carrier\ R\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymzero}\isactrlbsub R\isactrlesub {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}carrier\ R\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymzero}\isactrlbsub R\isactrlesub {\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ Units\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}x\ {\isasymin}\ carrier\ R\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymzero}\isactrlbsub R\isactrlesub {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ f\ \isakeyword{where}\ {\isachardoublequoteopen}f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}y{\isachardot}{\kern0pt}\ y\ {\isasymotimes}\isactrlbsub R\isactrlesub \ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}carrier\ R{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ DiffD{\isadigit{1}}\ DiffD{\isadigit{2}}\ a\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ domain{\isachardot}{\kern0pt}m{\isacharunderscore}{\kern0pt}rcancel\ insertI{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}carrier\ R{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ carrier\ R{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ card{\isacharunderscore}{\kern0pt}image{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ carrier\ R\ {\isasymsubseteq}\ carrier\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ image{\isacharunderscore}{\kern0pt}subsetI{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}f{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ a\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ring{\isachardot}{\kern0pt}ring{\isacharunderscore}{\kern0pt}simprules{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ carrier\ R\ {\isacharequal}{\kern0pt}\ carrier\ R{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}eq\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymone}\isactrlbsub R\isactrlesub \ {\isasymin}\ carrier\ R{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}y\ {\isasymin}\ carrier\ R{\isachardot}{\kern0pt}\ f\ y\ {\isacharequal}{\kern0pt}\ {\isasymone}\isactrlbsub R\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}carrier{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ carrier\ R{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}inv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymotimes}\isactrlbsub R\isactrlesub \ x\ {\isacharequal}{\kern0pt}\ {\isasymone}\isactrlbsub R\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ \ y{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}inv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymotimes}\isactrlbsub R\isactrlesub \ y\ {\isacharequal}{\kern0pt}\ {\isasymone}\isactrlbsub R\isactrlesub {\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ a\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ DiffD{\isadigit{1}}\ a\ cring{\isachardot}{\kern0pt}cring{\isacharunderscore}{\kern0pt}simprules{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ domain{\isachardot}{\kern0pt}axioms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ Units\ R{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}carrier\ y{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}inv\ y{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ DiffD{\isadigit{1}}\ a\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cring{\isachardot}{\kern0pt}divides{\isacharunderscore}{\kern0pt}one\ domain{\isachardot}{\kern0pt}axioms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ factor{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}field\ R{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ field{\isachardot}{\kern0pt}intro\ field{\isacharunderscore}{\kern0pt}axioms{\isachardot}{\kern0pt}intro{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zfact{\isacharunderscore}{\kern0pt}prime{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}field{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}prime\ {\isacharparenleft}{\kern0pt}p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}field\ {\isacharparenleft}{\kern0pt}ZFact\ {\isacharparenleft}{\kern0pt}int\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ q\ \isakeyword{where}\ {\isachardoublequoteopen}q\ {\isacharequal}{\kern0pt}\ int\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}carrier\ {\isacharparenleft}{\kern0pt}ZFact\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zfact{\isacharunderscore}{\kern0pt}finite\ assms\ q{\isacharunderscore}{\kern0pt}def\ prime{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}nat\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}domain\ {\isacharparenleft}{\kern0pt}ZFact\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ ZFact{\isacharunderscore}{\kern0pt}prime{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}domain\ assms\ q{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}domains{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}fields\ q{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Field.tex%:%
%:%11=1%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%39=7%:%
%:%40=8%:%
%:%41=9%:%
%:%42=10%:%
%:%43=11%:%
%:%44=12%:%
%:%45=13%:%
%:%46=14%:%
%:%47=15%:%
%:%48=16%:%
%:%49=17%:%
%:%51=19%:%
%:%52=19%:%
%:%53=20%:%
%:%54=21%:%
%:%55=22%:%
%:%56=22%:%
%:%57=23%:%
%:%58=24%:%
%:%65=25%:%
%:%66=25%:%
%:%67=26%:%
%:%68=26%:%
%:%69=27%:%
%:%70=27%:%
%:%71=28%:%
%:%72=28%:%
%:%73=29%:%
%:%74=29%:%
%:%75=30%:%
%:%76=30%:%
%:%77=30%:%
%:%78=30%:%
%:%79=31%:%
%:%80=31%:%
%:%81=32%:%
%:%82=32%:%
%:%83=33%:%
%:%84=33%:%
%:%85=33%:%
%:%86=33%:%
%:%87=34%:%
%:%88=34%:%
%:%89=35%:%
%:%90=35%:%
%:%91=35%:%
%:%92=36%:%
%:%93=36%:%
%:%94=37%:%
%:%95=37%:%
%:%96=38%:%
%:%97=38%:%
%:%98=39%:%
%:%99=39%:%
%:%100=40%:%
%:%101=40%:%
%:%102=40%:%
%:%103=40%:%
%:%104=41%:%
%:%105=41%:%
%:%106=42%:%
%:%107=42%:%
%:%108=43%:%
%:%109=43%:%
%:%110=44%:%
%:%111=44%:%
%:%112=45%:%
%:%113=45%:%
%:%114=46%:%
%:%115=46%:%
%:%116=46%:%
%:%117=47%:%
%:%118=47%:%
%:%119=47%:%
%:%120=48%:%
%:%121=48%:%
%:%122=49%:%
%:%123=49%:%
%:%124=50%:%
%:%125=50%:%
%:%126=50%:%
%:%127=51%:%
%:%128=51%:%
%:%129=51%:%
%:%130=51%:%
%:%131=52%:%
%:%132=52%:%
%:%133=52%:%
%:%134=52%:%
%:%135=53%:%
%:%136=53%:%
%:%137=54%:%
%:%138=55%:%
%:%139=56%:%
%:%140=56%:%
%:%141=57%:%
%:%142=57%:%
%:%143=57%:%
%:%144=58%:%
%:%145=58%:%
%:%146=58%:%
%:%147=58%:%
%:%148=59%:%
%:%149=59%:%
%:%150=59%:%
%:%151=60%:%
%:%152=60%:%
%:%153=61%:%
%:%154=61%:%
%:%155=61%:%
%:%156=61%:%
%:%157=61%:%
%:%158=62%:%
%:%164=62%:%
%:%167=63%:%
%:%168=64%:%
%:%169=64%:%
%:%170=65%:%
%:%171=66%:%
%:%178=67%:%
%:%179=67%:%
%:%180=68%:%
%:%181=68%:%
%:%182=69%:%
%:%183=69%:%
%:%184=70%:%
%:%185=70%:%
%:%186=71%:%
%:%187=71%:%
%:%188=72%:%
%:%189=72%:%
%:%190=73%:%
%:%191=73%:%
%:%192=74%:%
%:%193=74%:%
%:%194=75%:%
%:%195=75%:%
%:%196=76%:%
%:%197=76%:%
%:%198=77%:%
%:%199=77%:%
%:%200=78%:%
%:%201=78%:%
%:%202=78%:%
%:%203=79%:%
%:%204=79%:%
%:%205=79%:%
%:%206=80%:%
%:%207=80%:%
%:%208=80%:%
%:%209=81%:%
%:%210=81%:%
%:%211=82%:%
%:%212=82%:%
%:%213=83%:%
%:%219=83%:%
%:%222=84%:%
%:%223=85%:%
%:%224=85%:%
%:%225=86%:%
%:%226=87%:%
%:%229=88%:%
%:%233=88%:%
%:%234=88%:%
%:%235=89%:%
%:%236=89%:%
%:%237=89%:%
%:%242=89%:%
%:%245=90%:%
%:%246=91%:%
%:%247=91%:%
%:%248=92%:%
%:%249=93%:%
%:%252=94%:%
%:%256=94%:%
%:%257=94%:%
%:%258=95%:%
%:%259=95%:%
%:%264=95%:%
%:%267=96%:%
%:%268=97%:%
%:%269=97%:%
%:%270=98%:%
%:%271=99%:%
%:%274=100%:%
%:%278=100%:%
%:%279=100%:%
%:%280=101%:%
%:%281=101%:%
%:%286=101%:%
%:%289=102%:%
%:%290=103%:%
%:%291=103%:%
%:%292=104%:%
%:%293=105%:%
%:%294=106%:%
%:%301=107%:%
%:%302=107%:%
%:%303=108%:%
%:%304=108%:%
%:%305=108%:%
%:%306=108%:%
%:%307=109%:%
%:%308=109%:%
%:%309=110%:%
%:%310=110%:%
%:%311=111%:%
%:%312=111%:%
%:%313=111%:%
%:%314=112%:%
%:%315=112%:%
%:%316=112%:%
%:%317=113%:%
%:%318=113%:%
%:%319=114%:%
%:%320=114%:%
%:%321=114%:%
%:%322=114%:%
%:%323=115%:%
%:%324=115%:%
%:%325=116%:%
%:%326=116%:%
%:%327=117%:%
%:%328=117%:%
%:%329=118%:%
%:%330=118%:%
%:%331=119%:%
%:%332=119%:%
%:%333=120%:%
%:%334=120%:%
%:%335=121%:%
%:%336=121%:%
%:%337=121%:%
%:%338=122%:%
%:%339=122%:%
%:%340=123%:%
%:%341=123%:%
%:%342=124%:%
%:%343=124%:%
%:%344=125%:%
%:%345=125%:%
%:%346=125%:%
%:%347=126%:%
%:%348=126%:%
%:%349=126%:%
%:%350=126%:%
%:%351=127%:%
%:%352=127%:%
%:%353=128%:%
%:%354=128%:%
%:%355=128%:%
%:%356=128%:%
%:%357=128%:%
%:%358=129%:%
%:%359=129%:%
%:%360=129%:%
%:%361=129%:%
%:%362=130%:%
%:%363=130%:%
%:%364=130%:%
%:%365=131%:%
%:%366=131%:%
%:%367=132%:%
%:%368=132%:%
%:%369=132%:%
%:%370=133%:%
%:%371=133%:%
%:%372=133%:%
%:%373=134%:%
%:%374=134%:%
%:%375=134%:%
%:%376=135%:%
%:%377=135%:%
%:%378=136%:%
%:%379=136%:%
%:%380=136%:%
%:%381=137%:%
%:%382=137%:%
%:%383=138%:%
%:%384=138%:%
%:%385=139%:%
%:%386=139%:%
%:%387=140%:%
%:%388=140%:%
%:%389=140%:%
%:%390=140%:%
%:%391=141%:%
%:%397=141%:%
%:%400=142%:%
%:%401=143%:%
%:%402=143%:%
%:%403=144%:%
%:%404=145%:%
%:%411=146%:%
%:%412=146%:%
%:%413=147%:%
%:%414=147%:%
%:%415=148%:%
%:%416=148%:%
%:%417=148%:%
%:%418=148%:%
%:%419=149%:%
%:%420=149%:%
%:%421=149%:%
%:%422=149%:%
%:%423=149%:%
%:%424=150%:%
%:%425=150%:%
%:%426=150%:%
%:%427=150%:%
%:%428=150%:%
%:%429=151%:%
%:%435=151%:%
%:%440=152%:%
%:%445=153%:%
