%
\begin{isabellebody}%
\setisabellecontext{Interpolation{\isacharunderscore}{\kern0pt}Polynomial{\isacharunderscore}{\kern0pt}Counts}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Interpolation Polynomial Counts%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Interpolation{\isacharunderscore}{\kern0pt}Polynomial{\isacharunderscore}{\kern0pt}Counts\isanewline
\ \ \isakeyword{imports}\ Main{\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Algebra{\isachardot}{\kern0pt}Polynomial{\isacharunderscore}{\kern0pt}Divisibility{\isachardoublequoteclose}\ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Algebra{\isachardot}{\kern0pt}Polynomials{\isachardoublequoteclose}\ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Library{\isachardot}{\kern0pt}FuncSet{\isachardoublequoteclose}\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}Ext\ \isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
This section contains results about the count of polynomials with a given degree interpolating
a certain number of points.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}degree\ x\ {\isacharless}{\kern0pt}\ n\ {\isasymor}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ x\ {\isasymle}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ order{\isacharunderscore}{\kern0pt}antisym{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}pred\ leI\ less{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}disj\ less{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}le\ list{\isachardot}{\kern0pt}size{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ diff{\isacharunderscore}{\kern0pt}less\ length{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}conv\ lessI\ less{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}less\ order{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}strict{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}bounded{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ set\ p\ {\isasymsubseteq}\ carrier\ F\ {\isasymand}\ length\ p\ {\isasymle}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ ring{\isachardot}{\kern0pt}polynomial{\isacharunderscore}{\kern0pt}incl\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}carrier{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ finite{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}lists{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}le\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}fixed{\isacharunderscore}{\kern0pt}degree{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ p\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ p\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}bounded\ assms\ rev{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nonzero{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}count{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ p\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ Suc\ n{\isacharbraceright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ A\ \isakeyword{where}\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ p\ {\isasymin}\ {\isacharparenleft}{\kern0pt}carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ Suc\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ polynomial\isactrlbsub F\isactrlesub \ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ p\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ Suc\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ order{\isacharunderscore}{\kern0pt}antisym{\isacharcomma}{\kern0pt}\ rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}carrier{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ c{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ set\ p\ {\isasymsubseteq}\ carrier\ F\ {\isasymand}\ hd\ p\ {\isasymnoteq}\ {\isasymzero}\isactrlbsub F\isactrlesub \ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ Suc\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ order{\isacharunderscore}{\kern0pt}antisym{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}b\ polynomial{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}b\ polynomial{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ d{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ {\isasymexists}u\ v{\isachardot}{\kern0pt}\ p{\isacharequal}{\kern0pt}u{\isacharhash}{\kern0pt}v\ {\isasymand}\ set\ v\ {\isasymsubseteq}\ carrier\ F\ {\isasymand}\ u\ {\isasymin}\ carrier\ F\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymzero}\isactrlbsub F\isactrlesub {\isacharbraceright}{\kern0pt}\ {\isasymand}\ length\ v\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ order{\isacharunderscore}{\kern0pt}antisym{\isacharcomma}{\kern0pt}\ rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}c{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}conv\ hd{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}tl\ length{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}conv\ list{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ nat{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ order{\isacharunderscore}{\kern0pt}trans\ set{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}Cons\ subsetD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}c{\isacharparenright}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ B\ \isakeyword{where}\ {\isachardoublequoteopen}B\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ set\ p\ {\isasymsubseteq}\ carrier\ F\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ u\ {\isacharhash}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}carrier\ F\ {\isacharminus}{\kern0pt}\ \ {\isacharbraceleft}{\kern0pt}{\isasymzero}\isactrlbsub F\isactrlesub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ d\ B{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ u\ {\isacharhash}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}carrier\ F\ {\isacharminus}{\kern0pt}\ \ {\isacharbraceleft}{\kern0pt}{\isasymzero}\isactrlbsub F\isactrlesub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}onI{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ A\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}carrier\ F\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymzero}\isactrlbsub F\isactrlesub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}image\ \isacommand{by}\isamarkupfalse%
\ meson\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ B\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ B{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}lists{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}eq\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ A\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}carrier\ F\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymzero}\isactrlbsub F\isactrlesub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}cartesian{\isacharunderscore}{\kern0pt}product{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}carrier\ F\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymzero}\isactrlbsub F\isactrlesub {\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}singleton\ ring{\isachardot}{\kern0pt}ring{\isacharunderscore}{\kern0pt}simprules{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ p\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ Suc\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fixed{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}count{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ p\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}if\ n\ {\isasymge}\ {\isadigit{1}}\ then\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ else\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}closed{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ a\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ empty{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ is{\isacharunderscore}{\kern0pt}singletonI{\isacharprime}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}singleton{\isacharunderscore}{\kern0pt}altdef\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nonzero{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}count{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}count{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymzero}\isactrlbsub F\isactrlesub \ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ring{\isachardot}{\kern0pt}ring{\isacharunderscore}{\kern0pt}simprules{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}\ m\ {\isasymle}\ n{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ \ p\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ m{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}length{\isacharcomma}{\kern0pt}rule\ order{\isacharunderscore}{\kern0pt}antisym{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ m\ {\isasymle}\ n{\isachardot}{\kern0pt}\ card\ {\isacharbraceleft}{\kern0pt}p{\isachardot}{\kern0pt}\ \ p\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ m{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ card{\isacharunderscore}{\kern0pt}UN{\isacharunderscore}{\kern0pt}disjoint{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}fixed{\isacharunderscore}{\kern0pt}degree\ assms\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}\ m\ {\isasymle}\ n{\isachardot}{\kern0pt}\ if\ m\ {\isasymge}\ {\isadigit{1}}\ then\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ else\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fixed{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}count\ assms\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}\ m\ {\isasymle}\ n{\isachardot}{\kern0pt}\ if\ m\ {\isasymge}\ {\isadigit{1}}\ then\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ else\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ b\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ k\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymzero}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ {\isasymin}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}def\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}zero\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}closed{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Interpolation Polynomials%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
It is well known that over any field there is exactly one polynomial with degree at most
\isa{k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}} interpolating  \isa{k} points. That there is never more that one such
polynomial follow from the fact that a polynomial of degree \isa{k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}} cannot have more
than \isa{k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}} roots. This is already shown in HOL-Algebra in
\isa{field{\isachardot}{\kern0pt}size{\isacharunderscore}{\kern0pt}roots{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}degree}. Existence is usually shown using Lagrange interpolation.

In the case of finite fields it is actually only necessary to show either that there is at most one
such polynomial or at least one - because a function whose domain and co-domain has the same finite
cardinality is injective if and only if it is surjective.

In the following a more generic result (over finite fields) is shown, counting the 
number of polynomials of degree \isa{k\ {\isacharplus}{\kern0pt}\ n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}} interpolating \isa{k} points for
non-negative \isa{n}. As it turns out there are \isa{{\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isactrlbsup n\isactrlesup } such polynomials.
The trick is to observe that, for a given fix on the coefficients of order \isa{k} to 
\isa{k\ {\isacharplus}{\kern0pt}\ n\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}} and the values at \isa{k} points there is at most one fitting polynomial.

An alternative way of stating the above result is that there is bijection between the polynomials
of degree \isa{n\ {\isacharplus}{\kern0pt}\ k\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}} and the product space $F^k \times F^n$ where the first component is
the evaluation of the polynomials at \isa{k} distinct points and the second component are the
coefficients of order at least \isa{k}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ split{\isacharunderscore}{\kern0pt}poly\ \isakeyword{where}\ {\isachardoublequoteopen}split{\isacharunderscore}{\kern0pt}poly\ F\ K\ p\ {\isacharequal}{\kern0pt}\ \isanewline
\ \ {\isacharparenleft}{\kern0pt}restrict\ {\isacharparenleft}{\kern0pt}ring{\isachardot}{\kern0pt}eval\ F\ p{\isacharparenright}{\kern0pt}\ K{\isacharcomma}{\kern0pt}\ {\isasymlambda}k{\isachardot}{\kern0pt}\ ring{\isachardot}{\kern0pt}coeff\ F\ p\ {\isacharparenleft}{\kern0pt}k{\isacharplus}{\kern0pt}card\ K{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
The bijection \isa{split{\isacharunderscore}{\kern0pt}poly} returns the evaluation of the polynomial
at the points in \isa{K} and the coefficients of order at least \isa{card\ K}.

In the following it is shown that its image is a subset of the product space mentioned above, and
that \isa{split{\isacharunderscore}{\kern0pt}poly} is injective and finally that its image is exactly that product space
using cardinalities.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}image{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}K\ {\isasymsubseteq}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}split{\isacharunderscore}{\kern0pt}poly\ F\ K\ {\isacharbackquote}{\kern0pt}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ {\isacharparenleft}{\kern0pt}card\ K\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}K\ {\isasymrightarrow}\isactrlsub E\ carrier\ F{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}f{\isachardot}{\kern0pt}\ range\ f\ {\isasymsubseteq}\ carrier\ F\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k\ {\isasymge}\ n{\isachardot}{\kern0pt}\ f\ k\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub F\isactrlesub {\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ image{\isacharunderscore}{\kern0pt}subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}def\ Pi{\isacharunderscore}{\kern0pt}def\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ allI{\isacharcomma}{\kern0pt}\ rule\ impI{\isacharparenright}{\kern0pt}\ \ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ partial{\isacharunderscore}{\kern0pt}object{\isachardot}{\kern0pt}select{\isacharunderscore}{\kern0pt}convs{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ ring{\isachardot}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}subring\ ring{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\ ring{\isachardot}{\kern0pt}polynomial{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\ subset{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \ \ \ \ \ \ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ subsetI{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ imageE\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ \isanewline
\ \ \ \ \ \ \ \ partial{\isacharunderscore}{\kern0pt}object{\isachardot}{\kern0pt}select{\isacharunderscore}{\kern0pt}convs{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ring{\isachardot}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}subring\ ring{\isachardot}{\kern0pt}coeff{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\isanewline
\ \ \ \ \ \ \ \ ring{\isachardot}{\kern0pt}polynomial{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ ring{\isachardot}{\kern0pt}coeff{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ poly{\isacharunderscore}{\kern0pt}neg{\isacharunderscore}{\kern0pt}coeff{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}domain\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ring{\isachardot}{\kern0pt}coeff\ F\ {\isacharparenleft}{\kern0pt}{\isasymominus}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ x{\isacharparenright}{\kern0pt}\ k\ {\isacharequal}{\kern0pt}\ {\isasymominus}\isactrlbsub F\isactrlesub \ ring{\isachardot}{\kern0pt}coeff\ F\ x\ k{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ ring\ {\isachardoublequoteopen}poly{\isacharunderscore}{\kern0pt}ring\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cring{\isacharunderscore}{\kern0pt}def\ domain{\isachardot}{\kern0pt}univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ domain{\isacharunderscore}{\kern0pt}def\ ring{\isachardot}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}subring\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymzero}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ {\isacharequal}{\kern0pt}\ x\ {\isasymominus}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ r{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}minus{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}ring{\isachardot}{\kern0pt}coeff\ F\ {\isacharparenleft}{\kern0pt}{\isasymzero}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub {\isacharparenright}{\kern0pt}\ k\ {\isacharequal}{\kern0pt}\ ring{\isachardot}{\kern0pt}coeff\ F\ x\ k\ {\isasymoplus}\isactrlbsub F\isactrlesub \ ring{\isachardot}{\kern0pt}coeff\ F\ {\isacharparenleft}{\kern0pt}{\isasymominus}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ x{\isacharparenright}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms\ cring{\isacharunderscore}{\kern0pt}def\ domain{\isachardot}{\kern0pt}univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}length\ domain{\isacharunderscore}{\kern0pt}def\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}refl\ minus{\isacharunderscore}{\kern0pt}eq\ \isanewline
\ \ \ \ \ \ \ \ ring{\isachardot}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}subring\ ring{\isachardot}{\kern0pt}poly{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}coeff{\isacharunderscore}{\kern0pt}aux\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}add{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ abelian{\isacharunderscore}{\kern0pt}group{\isachardot}{\kern0pt}minus{\isacharunderscore}{\kern0pt}equality\ add{\isachardot}{\kern0pt}l{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}ex\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ cring{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ domain{\isachardot}{\kern0pt}axioms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}abelian{\isacharunderscore}{\kern0pt}group\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ partial{\isacharunderscore}{\kern0pt}object{\isachardot}{\kern0pt}select{\isacharunderscore}{\kern0pt}convs{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ ring{\isachardot}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}subring\ ring{\isachardot}{\kern0pt}coeff{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ring{\isachardot}{\kern0pt}coeff{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\ ring{\isachardot}{\kern0pt}polynomial{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\isanewline
\ \ \ \ \ \ \ \ ring{\isachardot}{\kern0pt}ring{\isacharunderscore}{\kern0pt}simprules{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ ring{\isacharunderscore}{\kern0pt}def\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}def\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}zero{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ poly{\isacharunderscore}{\kern0pt}substract{\isacharunderscore}{\kern0pt}coeff{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}domain\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}y\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ring{\isachardot}{\kern0pt}coeff\ F\ {\isacharparenleft}{\kern0pt}x\ {\isasymominus}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ y{\isacharparenright}{\kern0pt}\ k\ {\isacharequal}{\kern0pt}\ ring{\isachardot}{\kern0pt}coeff\ F\ x\ k\ {\isasymominus}\isactrlbsub F\isactrlesub \ ring{\isachardot}{\kern0pt}coeff\ F\ y\ k{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}a{\isacharunderscore}{\kern0pt}minus{\isacharunderscore}{\kern0pt}def\ poly{\isacharunderscore}{\kern0pt}neg{\isacharunderscore}{\kern0pt}coeff{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ ring{\isachardot}{\kern0pt}poly{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}coeff\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ abelian{\isacharunderscore}{\kern0pt}group{\isachardot}{\kern0pt}a{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}closed\ cring{\isacharunderscore}{\kern0pt}def\ domain{\isachardot}{\kern0pt}univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}abelian{\isacharunderscore}{\kern0pt}group\ domain{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ poly{\isacharunderscore}{\kern0pt}neg{\isacharunderscore}{\kern0pt}coeff\ ring{\isachardot}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}subring\ ring{\isachardot}{\kern0pt}polynomial{\isacharunderscore}{\kern0pt}incl\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}add\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}carrier{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ poly{\isacharunderscore}{\kern0pt}substract{\isacharunderscore}{\kern0pt}eval{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}domain\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}y\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ring{\isachardot}{\kern0pt}eval\ F\ {\isacharparenleft}{\kern0pt}x\ {\isasymominus}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ y{\isacharparenright}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ ring{\isachardot}{\kern0pt}eval\ F\ x\ i\ {\isasymominus}\isactrlbsub F\isactrlesub \ ring{\isachardot}{\kern0pt}eval\ F\ y\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}subring\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}\ F{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cring{\isacharunderscore}{\kern0pt}def\ domain{\isacharunderscore}{\kern0pt}def\ ring{\isachardot}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}subring\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}ring{\isacharunderscore}{\kern0pt}hom{\isacharunderscore}{\kern0pt}cring\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}\ F\ {\isacharparenleft}{\kern0pt}{\isasymlambda}p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ring{\isachardot}{\kern0pt}eval\ F\ p{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ domain{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}cring{\isacharunderscore}{\kern0pt}hom{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ \ ring{\isacharunderscore}{\kern0pt}hom{\isacharunderscore}{\kern0pt}cring{\isachardot}{\kern0pt}hom{\isacharunderscore}{\kern0pt}sub\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ poly{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}bound{\isacharunderscore}{\kern0pt}from{\isacharunderscore}{\kern0pt}coeff{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ k\ {\isasymge}\ n\ {\isasymLongrightarrow}\ ring{\isachardot}{\kern0pt}coeff\ F\ x\ k\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub F\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}degree\ x\ {\isacharless}{\kern0pt}\ n\ {\isasymor}\ x\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub {\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}degree\ x\ {\isacharless}{\kern0pt}\ n\ {\isasymor}\ x\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ b{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}lead{\isacharunderscore}{\kern0pt}coeff\ x\ {\isasymnoteq}\ {\isasymzero}\isactrlbsub F\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ polynomial{\isacharunderscore}{\kern0pt}def\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}carrier\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}zero{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}ring{\isachardot}{\kern0pt}coeff\ F\ x\ {\isacharparenleft}{\kern0pt}degree\ x{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isasymzero}\isactrlbsub F\isactrlesub {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ a\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ring{\isachardot}{\kern0pt}lead{\isacharunderscore}{\kern0pt}coeff{\isacharunderscore}{\kern0pt}simp\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}zero{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}degree\ x\ {\isasymge}\ n{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ a\ not{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}roots{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ R{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}p\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ R{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}K\ {\isasymsubseteq}\ carrier\ R{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ K{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}degree\ p\ {\isacharless}{\kern0pt}\ card\ K{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ K\ {\isasymLongrightarrow}\ ring{\isachardot}{\kern0pt}eval\ R\ p\ x\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub R\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}p\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ R\isactrlesub {\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isasymnoteq}\ {\isasymzero}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ R\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}p\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}zero{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ count\ {\isacharparenleft}{\kern0pt}mset{\isacharunderscore}{\kern0pt}set\ K{\isacharparenright}{\kern0pt}\ x\ {\isasymle}\ count\ {\isacharparenleft}{\kern0pt}ring{\isachardot}{\kern0pt}roots\ R\ p{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}count\ {\isacharparenleft}{\kern0pt}mset{\isacharunderscore}{\kern0pt}set\ K{\isacharparenright}{\kern0pt}\ x\ {\isasymle}\ count\ {\isacharparenleft}{\kern0pt}ring{\isachardot}{\kern0pt}roots\ R\ p{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ K{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}ring{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}root\ R\ p\ x{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ a\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ ring{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}def\ subsetD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ set{\isacharunderscore}{\kern0pt}mset\ {\isacharparenleft}{\kern0pt}ring{\isachardot}{\kern0pt}roots\ R\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ domain{\isachardot}{\kern0pt}roots{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}root\ field{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ count\ {\isacharparenleft}{\kern0pt}ring{\isachardot}{\kern0pt}roots\ R\ p{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}count\ {\isacharparenleft}{\kern0pt}mset{\isacharunderscore}{\kern0pt}set\ K{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ True\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}count\ {\isacharparenleft}{\kern0pt}mset{\isacharunderscore}{\kern0pt}set\ K{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}mset{\isacharunderscore}{\kern0pt}set\ K\ {\isasymsubseteq}{\isacharhash}{\kern0pt}\ ring{\isachardot}{\kern0pt}roots\ R\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ subseteq{\isacharunderscore}{\kern0pt}mset{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ K\ {\isasymle}\ size\ {\isacharparenleft}{\kern0pt}ring{\isachardot}{\kern0pt}roots\ R\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ size{\isacharunderscore}{\kern0pt}mset{\isacharunderscore}{\kern0pt}mono\ size{\isacharunderscore}{\kern0pt}mset{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}size\ {\isacharparenleft}{\kern0pt}ring{\isachardot}{\kern0pt}roots\ R\ p{\isacharparenright}{\kern0pt}\ {\isasymle}\ degree\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a\ field{\isachardot}{\kern0pt}size{\isacharunderscore}{\kern0pt}roots{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}degree\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ leD\ less{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}inj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ K{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}K\ {\isasymsubseteq}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}split{\isacharunderscore}{\kern0pt}poly\ F\ K{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ring{\isacharunderscore}{\kern0pt}F{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ domain{\isacharunderscore}{\kern0pt}F{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}domain\ F{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ field{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ y\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}x\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}y\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{3}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}split{\isacharunderscore}{\kern0pt}poly\ F\ K\ x\ {\isacharequal}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}poly\ F\ K\ y{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}y{\isacharunderscore}{\kern0pt}carrier{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymominus}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ y\ {\isasymin}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{1}}\ a{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ domain{\isachardot}{\kern0pt}univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ field{\isachardot}{\kern0pt}axioms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ring{\isachardot}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}subring\ \isanewline
\ \ \ \ \ \ \ \ ring{\isachardot}{\kern0pt}ring{\isacharunderscore}{\kern0pt}simprules{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ ring{\isacharunderscore}{\kern0pt}F{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ ring{\isachardot}{\kern0pt}coeff\ F\ x\ {\isacharparenleft}{\kern0pt}k{\isacharplus}{\kern0pt}card\ K{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ring{\isachardot}{\kern0pt}coeff\ F\ y\ {\isacharparenleft}{\kern0pt}k{\isacharplus}{\kern0pt}card\ K{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{3}}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ meson\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ ring{\isachardot}{\kern0pt}coeff\ F\ {\isacharparenleft}{\kern0pt}x\ {\isasymominus}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}k{\isacharplus}{\kern0pt}card\ K{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub F\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}domain{\isacharunderscore}{\kern0pt}F\ a{\isadigit{1}}\ a{\isadigit{2}}\ poly{\isacharunderscore}{\kern0pt}substract{\isacharunderscore}{\kern0pt}coeff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ a{\isadigit{2}}\ ring{\isachardot}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}subring\ ring{\isachardot}{\kern0pt}coeff{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\ \isanewline
\ \ \ \ \ \ \ ring{\isachardot}{\kern0pt}polynomial{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\ ring{\isachardot}{\kern0pt}r{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}minus{\isacharunderscore}{\kern0pt}eq\ ring{\isacharunderscore}{\kern0pt}F\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}carrier{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}degree\ {\isacharparenleft}{\kern0pt}x\ {\isasymominus}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ y{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ K\ {\isasymor}\ {\isacharparenleft}{\kern0pt}x\ {\isasymominus}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ add{\isachardot}{\kern0pt}commute\ le{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}ex\ poly{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}bound{\isacharunderscore}{\kern0pt}from{\isacharunderscore}{\kern0pt}coeff\ x{\isacharunderscore}{\kern0pt}y{\isacharunderscore}{\kern0pt}carrier\ ring{\isacharunderscore}{\kern0pt}F{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ k\ {\isasymin}\ K\ {\isasymLongrightarrow}\ ring{\isachardot}{\kern0pt}eval\ F\ x\ k\ {\isacharequal}{\kern0pt}\ ring{\isachardot}{\kern0pt}eval\ F\ y\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{3}}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}def\ restrict{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ meson\ \isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ k\ {\isasymin}\ K\ {\isasymLongrightarrow}\ ring{\isachardot}{\kern0pt}eval\ F\ x\ k\ {\isasymominus}\isactrlbsub F\isactrlesub \ ring{\isachardot}{\kern0pt}eval\ F\ y\ k\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub F\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ opaque{\isacharunderscore}{\kern0pt}lifting{\isacharparenright}{\kern0pt}\ a{\isadigit{2}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ring{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\ ring{\isachardot}{\kern0pt}polynomial{\isacharunderscore}{\kern0pt}incl\ \isanewline
\ \ \ \ \ \ \ \ ring{\isachardot}{\kern0pt}r{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}minus{\isacharunderscore}{\kern0pt}eq\ ring{\isacharunderscore}{\kern0pt}F\ subsetD\ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}carrier{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ k\ {\isasymin}\ K\ {\isasymLongrightarrow}\ ring{\isachardot}{\kern0pt}eval\ F\ {\isacharparenleft}{\kern0pt}x\ {\isasymominus}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ y{\isacharparenright}{\kern0pt}\ k\ {\isacharequal}{\kern0pt}\ \ {\isasymzero}\isactrlbsub F\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ domain{\isacharunderscore}{\kern0pt}F\ a{\isadigit{1}}\ a{\isadigit{2}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ poly{\isacharunderscore}{\kern0pt}substract{\isacharunderscore}{\kern0pt}eval\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ opaque{\isacharunderscore}{\kern0pt}lifting{\isacharparenright}{\kern0pt}\ subsetD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymominus}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub \ y\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub poly{\isacharunderscore}{\kern0pt}ring\ F\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}roots\ x{\isacharunderscore}{\kern0pt}y{\isacharunderscore}{\kern0pt}carrier\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ a{\isadigit{1}}\ a{\isadigit{2}}\ domain{\isachardot}{\kern0pt}univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ field{\isacharunderscore}{\kern0pt}def\ ring{\isachardot}{\kern0pt}carrier{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}subring\ \isanewline
\ \ \ \ \ \ \ \ ring{\isachardot}{\kern0pt}r{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}minus{\isacharunderscore}{\kern0pt}eq\ ring{\isacharunderscore}{\kern0pt}F{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F\ {\isasymand}\ finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ \isanewline
\ \ \ \ poly{\isacharunderscore}{\kern0pt}count{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}n{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isacharquery}{\kern0pt}A{\isacharparenright}{\kern0pt}\ \isakeyword{and}\isanewline
\ \ \ \ finite{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}count{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isacharquery}{\kern0pt}B{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}ring\ F{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}A\ \isacommand{using}\isamarkupfalse%
\ a\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}count\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}B\ \isacommand{using}\isamarkupfalse%
\ a\ fin{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}bounded\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}B\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}b\ set{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}y\ {\isasymin}\ B{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ \isanewline
\ \ \ \ card{\isacharunderscore}{\kern0pt}mostly{\isacharunderscore}{\kern0pt}constant{\isacharunderscore}{\kern0pt}maps{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}f{\isachardot}{\kern0pt}\ range\ f\ {\isasymsubseteq}\ B\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymge}\ n\ {\isasymlongrightarrow}\ f\ x\ {\isacharequal}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ B\ {\isacharcircum}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isakeyword{and}\isanewline
\ \ \ \ finite{\isacharunderscore}{\kern0pt}mostly{\isacharunderscore}{\kern0pt}constant{\isacharunderscore}{\kern0pt}maps{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}finite\ {\isacharbraceleft}{\kern0pt}f{\isachardot}{\kern0pt}\ range\ f\ {\isasymsubseteq}\ B\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymge}\ n\ {\isasymlongrightarrow}\ f\ x\ {\isacharequal}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ C\ \isakeyword{where}\ {\isachardoublequoteopen}C\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharless}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ {\isasymrightarrow}\isactrlsub E\ B{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ forward\ \isakeyword{where}\ {\isachardoublequoteopen}forward\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}f\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ restrict\ f\ {\isacharbraceleft}{\kern0pt}k{\isachardot}{\kern0pt}\ k{\isacharless}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ backward\ \isakeyword{where}\ {\isachardoublequoteopen}backward\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}f\ k{\isachardot}{\kern0pt}\ if\ k\ {\isacharless}{\kern0pt}\ n\ then\ f\ k\ else\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ forward{\isacharunderscore}{\kern0pt}inject{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ forward\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ inj{\isacharunderscore}{\kern0pt}onI{\isacharcomma}{\kern0pt}\ rule\ ext{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}forward{\isacharunderscore}{\kern0pt}def\ restrict{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ not{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ forward{\isacharunderscore}{\kern0pt}image{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}forward\ {\isacharbackquote}{\kern0pt}\ {\isacharquery}{\kern0pt}A\ {\isasymsubseteq}\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ image{\isacharunderscore}{\kern0pt}subsetI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}forward{\isacharunderscore}{\kern0pt}def\ C{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}C{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}finite\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}C{\isacharunderscore}{\kern0pt}def\ finite{\isacharunderscore}{\kern0pt}PiE\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}A\ {\isasymle}\ card\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}image\ card{\isacharunderscore}{\kern0pt}mono\ forward{\isacharunderscore}{\kern0pt}inject\ forward{\isacharunderscore}{\kern0pt}image\ finite{\isacharunderscore}{\kern0pt}C\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}finite\ forward{\isacharunderscore}{\kern0pt}inject\ forward{\isacharunderscore}{\kern0pt}image\ finite{\isacharunderscore}{\kern0pt}C\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ backward\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ inj{\isacharunderscore}{\kern0pt}onI{\isacharcomma}{\kern0pt}\ rule\ ext{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}backward{\isacharunderscore}{\kern0pt}def\ C{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ PiE{\isacharunderscore}{\kern0pt}ext\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}backward\ {\isacharbackquote}{\kern0pt}\ C\ {\isasymsubseteq}\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ image{\isacharunderscore}{\kern0pt}subsetI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}backward{\isacharunderscore}{\kern0pt}def\ C{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ image{\isacharunderscore}{\kern0pt}subsetI{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ image{\isacharunderscore}{\kern0pt}subsetI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \ card{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ C\ {\isasymle}\ card\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}image\ card{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ card\ C{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ card{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ C\ {\isacharequal}{\kern0pt}\ card\ B\ {\isacharcircum}{\kern0pt}\ n{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ C{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}PiE{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}surj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}K\ {\isasymsubseteq}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}split{\isacharunderscore}{\kern0pt}poly\ F\ K\ {\isacharbackquote}{\kern0pt}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ {\isacharparenleft}{\kern0pt}card\ K\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}K\ {\isasymrightarrow}\isactrlsub E\ carrier\ F{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}f{\isachardot}{\kern0pt}\ range\ f\ {\isasymsubseteq}\ carrier\ F\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k\ {\isasymge}\ n{\isachardot}{\kern0pt}\ f\ k\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub F\isactrlesub {\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}split{\isacharunderscore}{\kern0pt}poly\ F\ K\ {\isacharbackquote}{\kern0pt}\ {\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ M\ \isakeyword{where}\ {\isachardoublequoteopen}M\ {\isacharequal}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}poly\ F\ K\ {\isacharbackquote}{\kern0pt}\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymzero}\isactrlbsub F\isactrlesub \ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ ring{\isachardot}{\kern0pt}ring{\isacharunderscore}{\kern0pt}simprules{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}finite\ K{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}A\ {\isasymsubseteq}\ carrier\ {\isacharparenleft}{\kern0pt}poly{\isacharunderscore}{\kern0pt}ring\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}iff\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}split{\isacharunderscore}{\kern0pt}poly\ F\ K{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}inj\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}count\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ card\ M{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}def\ card{\isacharunderscore}{\kern0pt}image{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ M\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}card\ K\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ poly{\isacharunderscore}{\kern0pt}count\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}M\ {\isasymsubseteq}\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}image\ M{\isacharunderscore}{\kern0pt}def\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}B\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}{\isacharparenleft}{\kern0pt}card\ K\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ a\ assms\ b\ card{\isacharunderscore}{\kern0pt}mostly{\isacharunderscore}{\kern0pt}constant{\isacharunderscore}{\kern0pt}maps\ card{\isacharunderscore}{\kern0pt}PiE\ power{\isacharunderscore}{\kern0pt}add\ card{\isacharunderscore}{\kern0pt}cartesian{\isacharunderscore}{\kern0pt}product{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ a\ b\ \ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}mostly{\isacharunderscore}{\kern0pt}constant{\isacharunderscore}{\kern0pt}maps\ finite{\isacharunderscore}{\kern0pt}PiE{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}M\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}seteq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inv{\isacharunderscore}{\kern0pt}subsetI{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A\ {\isasymLongrightarrow}\ f\ x\ {\isasymin}\ B\ {\isasymLongrightarrow}\ x\ {\isasymin}\ C{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ B\ {\isasyminter}\ A\ {\isasymsubseteq}\ C{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ interpolating{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}count{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}field\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}K\ {\isasymsubseteq}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ K\ {\isasymsubseteq}\ carrier\ F{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}{\isasymomega}\ {\isasymin}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ {\isacharparenleft}{\kern0pt}card\ K\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k\ {\isasymin}\ K{\isachardot}{\kern0pt}\ ring{\isachardot}{\kern0pt}eval\ F\ {\isasymomega}\ k\ {\isacharequal}{\kern0pt}\ f\ k{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
\ \ \ \ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}n{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}B{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ z\ \isakeyword{where}\ {\isachardoublequoteopen}z\ {\isacharequal}{\kern0pt}\ restrict\ f\ K{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ M\ \isakeyword{where}\ {\isachardoublequoteopen}M\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}f{\isachardot}{\kern0pt}\ range\ f\ {\isasymsubseteq}\ carrier\ F\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k\ {\isasymge}\ n{\isachardot}{\kern0pt}\ f\ k\ {\isacharequal}{\kern0pt}\ {\isasymzero}\isactrlbsub F\isactrlesub {\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymzero}\isactrlbsub F\isactrlesub \ {\isasymin}\ carrier\ F{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ ring{\isachardot}{\kern0pt}ring{\isacharunderscore}{\kern0pt}simprules{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ K{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}bounded{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}split{\isacharunderscore}{\kern0pt}poly\ F\ K{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ {\isacharparenleft}{\kern0pt}card\ K\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}inj\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}subset\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}length\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ {\isacharparenleft}{\kern0pt}K\ {\isasymrightarrow}\isactrlsub E\ carrier\ F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ z{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ M\ {\isasymsubseteq}\ split{\isacharunderscore}{\kern0pt}poly\ F\ K\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ {\isacharparenleft}{\kern0pt}card\ K\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}surj\ assms\ M{\isacharunderscore}{\kern0pt}def\ z{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}split{\isacharunderscore}{\kern0pt}poly\ F\ K\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ {\isacharparenleft}{\kern0pt}card\ K\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ card{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}split{\isacharunderscore}{\kern0pt}poly\ F\ K\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials\ F\ {\isacharparenleft}{\kern0pt}card\ K\ {\isacharplus}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ inv{\isacharunderscore}{\kern0pt}subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}def\ z{\isacharunderscore}{\kern0pt}def\ restrict{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}count\ assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ M{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}split{\isacharunderscore}{\kern0pt}poly\ F\ K\ {\isacharbackquote}{\kern0pt}\ {\isacharquery}{\kern0pt}A\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ image{\isacharunderscore}{\kern0pt}subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}split{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}def\ z{\isacharunderscore}{\kern0pt}def\ M{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ fastforce{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}degree{\isacharunderscore}{\kern0pt}polynomials{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ image{\isacharunderscore}{\kern0pt}subsetI\ ring{\isachardot}{\kern0pt}coeff{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}carrier\ ring{\isachardot}{\kern0pt}polynomial{\isacharunderscore}{\kern0pt}incl\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ univ{\isacharunderscore}{\kern0pt}poly{\isacharunderscore}{\kern0pt}carrier{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ field{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}ring\ ring{\isachardot}{\kern0pt}coeff{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}split{\isacharunderscore}{\kern0pt}poly\ F\ K{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}subset\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}bounded\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}M{\isacharunderscore}{\kern0pt}def\ finite{\isacharunderscore}{\kern0pt}mostly{\isacharunderscore}{\kern0pt}constant{\isacharunderscore}{\kern0pt}maps\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}A\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ card{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ card{\isacharunderscore}{\kern0pt}ineq{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \ card\ {\isacharparenleft}{\kern0pt}carrier\ F{\isacharparenright}{\kern0pt}{\isacharcircum}{\kern0pt}n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}card{\isacharunderscore}{\kern0pt}cartesian{\isacharunderscore}{\kern0pt}product\ M{\isacharunderscore}{\kern0pt}def\ a\ card{\isacharunderscore}{\kern0pt}mostly{\isacharunderscore}{\kern0pt}constant{\isacharunderscore}{\kern0pt}maps\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Interpolation_Polynomial_Counts.tex%:%
%:%11=1%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%31=6%:%
%:%40=8%:%
%:%41=9%:%
%:%43=11%:%
%:%44=11%:%
%:%45=12%:%
%:%46=13%:%
%:%47=14%:%
%:%48=14%:%
%:%49=15%:%
%:%52=16%:%
%:%56=16%:%
%:%57=16%:%
%:%58=17%:%
%:%59=17%:%
%:%60=18%:%
%:%61=18%:%
%:%62=19%:%
%:%63=19%:%
%:%64=20%:%
%:%65=20%:%
%:%70=20%:%
%:%73=21%:%
%:%74=22%:%
%:%75=22%:%
%:%76=23%:%
%:%77=24%:%
%:%78=25%:%
%:%85=26%:%
%:%86=26%:%
%:%87=27%:%
%:%88=27%:%
%:%89=28%:%
%:%90=28%:%
%:%91=29%:%
%:%92=29%:%
%:%93=29%:%
%:%94=30%:%
%:%95=30%:%
%:%96=31%:%
%:%97=31%:%
%:%98=31%:%
%:%99=32%:%
%:%100=32%:%
%:%101=32%:%
%:%102=33%:%
%:%108=33%:%
%:%111=34%:%
%:%112=35%:%
%:%113=35%:%
%:%114=36%:%
%:%115=37%:%
%:%116=38%:%
%:%123=39%:%
%:%124=39%:%
%:%125=40%:%
%:%126=40%:%
%:%127=41%:%
%:%128=41%:%
%:%129=42%:%
%:%130=42%:%
%:%131=42%:%
%:%132=43%:%
%:%133=43%:%
%:%134=43%:%
%:%135=44%:%
%:%141=44%:%
%:%144=45%:%
%:%145=46%:%
%:%146=46%:%
%:%147=47%:%
%:%148=48%:%
%:%149=49%:%
%:%150=50%:%
%:%157=51%:%
%:%158=51%:%
%:%159=52%:%
%:%160=52%:%
%:%161=53%:%
%:%162=53%:%
%:%163=54%:%
%:%164=54%:%
%:%165=55%:%
%:%166=55%:%
%:%167=55%:%
%:%168=56%:%
%:%169=56%:%
%:%170=57%:%
%:%171=57%:%
%:%172=58%:%
%:%173=58%:%
%:%174=59%:%
%:%175=59%:%
%:%176=60%:%
%:%177=60%:%
%:%178=61%:%
%:%179=61%:%
%:%180=62%:%
%:%181=62%:%
%:%182=63%:%
%:%183=63%:%
%:%184=64%:%
%:%185=65%:%
%:%186=65%:%
%:%187=65%:%
%:%188=65%:%
%:%189=66%:%
%:%190=66%:%
%:%191=67%:%
%:%192=67%:%
%:%193=68%:%
%:%194=68%:%
%:%195=68%:%
%:%196=69%:%
%:%197=69%:%
%:%198=69%:%
%:%199=70%:%
%:%200=70%:%
%:%201=71%:%
%:%202=71%:%
%:%203=71%:%
%:%204=72%:%
%:%205=72%:%
%:%206=72%:%
%:%207=73%:%
%:%208=73%:%
%:%209=73%:%
%:%210=73%:%
%:%211=74%:%
%:%212=74%:%
%:%213=74%:%
%:%214=75%:%
%:%215=75%:%
%:%216=75%:%
%:%217=76%:%
%:%218=76%:%
%:%219=77%:%
%:%220=77%:%
%:%221=77%:%
%:%222=78%:%
%:%223=78%:%
%:%224=79%:%
%:%225=79%:%
%:%226=79%:%
%:%227=80%:%
%:%228=80%:%
%:%229=80%:%
%:%230=81%:%
%:%236=81%:%
%:%239=82%:%
%:%240=83%:%
%:%241=83%:%
%:%242=84%:%
%:%243=85%:%
%:%244=86%:%
%:%245=87%:%
%:%252=88%:%
%:%253=88%:%
%:%254=89%:%
%:%255=89%:%
%:%256=90%:%
%:%257=90%:%
%:%258=91%:%
%:%259=91%:%
%:%260=92%:%
%:%261=92%:%
%:%262=93%:%
%:%263=93%:%
%:%264=93%:%
%:%265=94%:%
%:%266=94%:%
%:%267=95%:%
%:%268=96%:%
%:%269=96%:%
%:%270=96%:%
%:%271=97%:%
%:%277=97%:%
%:%280=98%:%
%:%281=99%:%
%:%282=99%:%
%:%283=100%:%
%:%284=101%:%
%:%285=102%:%
%:%292=103%:%
%:%293=103%:%
%:%294=104%:%
%:%295=104%:%
%:%296=104%:%
%:%297=104%:%
%:%298=105%:%
%:%299=105%:%
%:%300=106%:%
%:%301=106%:%
%:%302=106%:%
%:%303=107%:%
%:%304=107%:%
%:%305=108%:%
%:%306=108%:%
%:%307=109%:%
%:%308=109%:%
%:%309=110%:%
%:%310=110%:%
%:%311=111%:%
%:%312=111%:%
%:%313=112%:%
%:%314=112%:%
%:%315=113%:%
%:%316=113%:%
%:%317=113%:%
%:%318=114%:%
%:%319=114%:%
%:%320=115%:%
%:%321=115%:%
%:%322=116%:%
%:%323=116%:%
%:%324=116%:%
%:%325=117%:%
%:%326=117%:%
%:%327=117%:%
%:%328=118%:%
%:%329=118%:%
%:%330=118%:%
%:%331=118%:%
%:%332=119%:%
%:%333=119%:%
%:%334=119%:%
%:%335=119%:%
%:%336=120%:%
%:%342=120%:%
%:%345=121%:%
%:%346=122%:%
%:%347=122%:%
%:%348=123%:%
%:%349=124%:%
%:%356=125%:%
%:%357=125%:%
%:%358=126%:%
%:%359=126%:%
%:%360=127%:%
%:%361=127%:%
%:%362=128%:%
%:%363=128%:%
%:%364=129%:%
%:%365=129%:%
%:%366=129%:%
%:%367=130%:%
%:%382=132%:%
%:%394=134%:%
%:%395=135%:%
%:%396=136%:%
%:%397=137%:%
%:%398=138%:%
%:%399=139%:%
%:%400=140%:%
%:%401=141%:%
%:%402=142%:%
%:%403=143%:%
%:%404=144%:%
%:%405=145%:%
%:%406=146%:%
%:%407=147%:%
%:%408=148%:%
%:%409=149%:%
%:%410=150%:%
%:%411=151%:%
%:%412=152%:%
%:%413=153%:%
%:%415=155%:%
%:%416=155%:%
%:%419=158%:%
%:%420=159%:%
%:%421=160%:%
%:%422=161%:%
%:%423=162%:%
%:%424=163%:%
%:%426=165%:%
%:%427=165%:%
%:%428=166%:%
%:%429=167%:%
%:%430=168%:%
%:%431=169%:%
%:%434=170%:%
%:%438=170%:%
%:%439=170%:%
%:%440=171%:%
%:%441=171%:%
%:%442=172%:%
%:%443=172%:%
%:%444=173%:%
%:%445=173%:%
%:%446=174%:%
%:%447=175%:%
%:%448=176%:%
%:%449=176%:%
%:%450=177%:%
%:%451=177%:%
%:%452=178%:%
%:%453=179%:%
%:%454=180%:%
%:%455=180%:%
%:%460=180%:%
%:%463=181%:%
%:%464=182%:%
%:%465=182%:%
%:%466=183%:%
%:%467=184%:%
%:%468=185%:%
%:%475=186%:%
%:%476=186%:%
%:%477=187%:%
%:%478=187%:%
%:%479=188%:%
%:%480=188%:%
%:%481=188%:%
%:%482=189%:%
%:%483=189%:%
%:%484=189%:%
%:%485=190%:%
%:%486=190%:%
%:%487=191%:%
%:%488=191%:%
%:%489=192%:%
%:%490=193%:%
%:%491=193%:%
%:%492=194%:%
%:%493=194%:%
%:%494=195%:%
%:%495=196%:%
%:%496=197%:%
%:%497=198%:%
%:%503=198%:%
%:%506=199%:%
%:%507=200%:%
%:%508=200%:%
%:%509=201%:%
%:%510=202%:%
%:%511=203%:%
%:%512=204%:%
%:%515=205%:%
%:%519=205%:%
%:%520=205%:%
%:%521=206%:%
%:%522=206%:%
%:%523=207%:%
%:%524=207%:%
%:%525=208%:%
%:%530=208%:%
%:%533=209%:%
%:%534=210%:%
%:%535=210%:%
%:%536=211%:%
%:%537=212%:%
%:%538=213%:%
%:%539=214%:%
%:%540=215%:%
%:%547=216%:%
%:%548=216%:%
%:%549=217%:%
%:%550=217%:%
%:%551=218%:%
%:%552=218%:%
%:%553=218%:%
%:%554=219%:%
%:%555=219%:%
%:%556=220%:%
%:%557=220%:%
%:%558=221%:%
%:%559=221%:%
%:%560=221%:%
%:%561=221%:%
%:%562=222%:%
%:%568=222%:%
%:%571=223%:%
%:%572=224%:%
%:%573=224%:%
%:%574=225%:%
%:%575=226%:%
%:%576=227%:%
%:%577=228%:%
%:%584=229%:%
%:%585=229%:%
%:%586=230%:%
%:%587=230%:%
%:%588=231%:%
%:%589=231%:%
%:%590=232%:%
%:%591=232%:%
%:%592=233%:%
%:%593=233%:%
%:%594=234%:%
%:%595=234%:%
%:%596=235%:%
%:%597=235%:%
%:%598=235%:%
%:%599=235%:%
%:%600=236%:%
%:%601=236%:%
%:%602=236%:%
%:%603=236%:%
%:%604=236%:%
%:%605=237%:%
%:%611=237%:%
%:%614=238%:%
%:%615=239%:%
%:%616=239%:%
%:%617=240%:%
%:%618=241%:%
%:%619=242%:%
%:%620=243%:%
%:%621=244%:%
%:%622=245%:%
%:%623=246%:%
%:%630=247%:%
%:%631=247%:%
%:%632=248%:%
%:%633=248%:%
%:%634=249%:%
%:%635=249%:%
%:%636=249%:%
%:%637=250%:%
%:%638=250%:%
%:%639=251%:%
%:%640=251%:%
%:%641=252%:%
%:%642=252%:%
%:%643=253%:%
%:%644=253%:%
%:%645=254%:%
%:%646=254%:%
%:%647=255%:%
%:%648=255%:%
%:%649=256%:%
%:%650=256%:%
%:%651=256%:%
%:%652=257%:%
%:%653=257%:%
%:%654=258%:%
%:%655=258%:%
%:%656=259%:%
%:%657=259%:%
%:%658=259%:%
%:%659=260%:%
%:%660=260%:%
%:%661=260%:%
%:%662=261%:%
%:%663=261%:%
%:%664=261%:%
%:%665=261%:%
%:%666=261%:%
%:%667=262%:%
%:%668=262%:%
%:%669=262%:%
%:%670=262%:%
%:%671=263%:%
%:%672=263%:%
%:%673=264%:%
%:%674=264%:%
%:%675=265%:%
%:%676=265%:%
%:%677=265%:%
%:%678=266%:%
%:%679=266%:%
%:%680=266%:%
%:%681=266%:%
%:%682=267%:%
%:%683=267%:%
%:%684=268%:%
%:%685=268%:%
%:%686=269%:%
%:%687=269%:%
%:%688=270%:%
%:%689=270%:%
%:%690=271%:%
%:%691=271%:%
%:%692=272%:%
%:%693=272%:%
%:%694=273%:%
%:%695=273%:%
%:%696=273%:%
%:%697=274%:%
%:%698=274%:%
%:%699=274%:%
%:%700=275%:%
%:%701=275%:%
%:%702=275%:%
%:%703=275%:%
%:%704=276%:%
%:%705=276%:%
%:%706=277%:%
%:%712=277%:%
%:%715=278%:%
%:%716=279%:%
%:%717=279%:%
%:%718=280%:%
%:%719=281%:%
%:%720=282%:%
%:%721=283%:%
%:%728=284%:%
%:%729=284%:%
%:%730=285%:%
%:%731=285%:%
%:%732=285%:%
%:%733=285%:%
%:%734=286%:%
%:%735=286%:%
%:%736=286%:%
%:%737=286%:%
%:%738=287%:%
%:%739=287%:%
%:%740=288%:%
%:%741=288%:%
%:%742=289%:%
%:%743=289%:%
%:%744=290%:%
%:%745=290%:%
%:%746=291%:%
%:%747=291%:%
%:%748=292%:%
%:%749=293%:%
%:%750=293%:%
%:%751=293%:%
%:%752=294%:%
%:%753=294%:%
%:%754=295%:%
%:%755=296%:%
%:%756=296%:%
%:%757=297%:%
%:%758=297%:%
%:%759=297%:%
%:%760=297%:%
%:%761=298%:%
%:%762=298%:%
%:%763=299%:%
%:%764=299%:%
%:%765=300%:%
%:%766=300%:%
%:%767=301%:%
%:%768=302%:%
%:%769=302%:%
%:%770=303%:%
%:%771=303%:%
%:%772=304%:%
%:%773=304%:%
%:%774=304%:%
%:%775=305%:%
%:%776=305%:%
%:%777=305%:%
%:%778=305%:%
%:%779=306%:%
%:%780=306%:%
%:%781=307%:%
%:%782=307%:%
%:%783=308%:%
%:%784=309%:%
%:%785=309%:%
%:%786=310%:%
%:%787=310%:%
%:%788=310%:%
%:%789=311%:%
%:%790=311%:%
%:%791=311%:%
%:%792=312%:%
%:%793=312%:%
%:%794=312%:%
%:%795=313%:%
%:%796=313%:%
%:%797=313%:%
%:%798=314%:%
%:%799=314%:%
%:%800=315%:%
%:%801=316%:%
%:%807=316%:%
%:%810=317%:%
%:%811=318%:%
%:%812=318%:%
%:%813=319%:%
%:%814=320%:%
%:%815=321%:%
%:%816=322%:%
%:%823=323%:%
%:%824=323%:%
%:%825=324%:%
%:%826=324%:%
%:%827=324%:%
%:%828=324%:%
%:%829=325%:%
%:%830=325%:%
%:%831=325%:%
%:%832=325%:%
%:%833=326%:%
%:%834=326%:%
%:%835=326%:%
%:%836=326%:%
%:%837=327%:%
%:%843=327%:%
%:%846=328%:%
%:%847=329%:%
%:%848=329%:%
%:%849=330%:%
%:%850=331%:%
%:%851=332%:%
%:%852=333%:%
%:%853=334%:%
%:%854=335%:%
%:%855=336%:%
%:%862=337%:%
%:%863=337%:%
%:%864=338%:%
%:%865=338%:%
%:%866=339%:%
%:%867=339%:%
%:%868=340%:%
%:%869=340%:%
%:%870=341%:%
%:%871=342%:%
%:%872=342%:%
%:%873=343%:%
%:%874=343%:%
%:%875=344%:%
%:%876=344%:%
%:%877=345%:%
%:%878=346%:%
%:%879=346%:%
%:%880=347%:%
%:%881=347%:%
%:%882=347%:%
%:%883=348%:%
%:%884=348%:%
%:%885=349%:%
%:%886=349%:%
%:%887=350%:%
%:%888=351%:%
%:%889=351%:%
%:%890=352%:%
%:%891=352%:%
%:%892=352%:%
%:%893=353%:%
%:%894=354%:%
%:%895=354%:%
%:%896=355%:%
%:%897=355%:%
%:%898=355%:%
%:%899=356%:%
%:%900=356%:%
%:%901=356%:%
%:%902=357%:%
%:%903=357%:%
%:%904=358%:%
%:%905=358%:%
%:%906=359%:%
%:%907=359%:%
%:%908=359%:%
%:%909=360%:%
%:%910=360%:%
%:%911=361%:%
%:%912=361%:%
%:%913=361%:%
%:%914=362%:%
%:%915=362%:%
%:%916=363%:%
%:%917=363%:%
%:%918=363%:%
%:%919=363%:%
%:%920=364%:%
%:%921=365%:%
%:%922=365%:%
%:%923=365%:%
%:%924=365%:%
%:%925=366%:%
%:%926=366%:%
%:%927=366%:%
%:%928=366%:%
%:%929=366%:%
%:%930=367%:%
%:%931=367%:%
%:%932=367%:%
%:%933=367%:%
%:%934=368%:%
%:%940=368%:%
%:%943=369%:%
%:%944=370%:%
%:%945=370%:%
%:%946=371%:%
%:%947=372%:%
%:%948=373%:%
%:%949=374%:%
%:%950=375%:%
%:%951=376%:%
%:%958=377%:%
%:%959=377%:%
%:%960=378%:%
%:%961=378%:%
%:%962=379%:%
%:%963=379%:%
%:%964=379%:%
%:%965=380%:%
%:%966=380%:%
%:%967=381%:%
%:%968=381%:%
%:%969=381%:%
%:%970=381%:%
%:%971=382%:%
%:%972=382%:%
%:%973=382%:%
%:%974=383%:%
%:%975=383%:%
%:%976=384%:%
%:%977=384%:%
%:%978=384%:%
%:%979=385%:%
%:%980=385%:%
%:%981=386%:%
%:%982=386%:%
%:%983=386%:%
%:%984=386%:%
%:%985=386%:%
%:%986=387%:%
%:%987=387%:%
%:%988=387%:%
%:%989=387%:%
%:%990=388%:%
%:%991=388%:%
%:%992=389%:%
%:%993=389%:%
%:%994=389%:%
%:%995=390%:%
%:%996=390%:%
%:%997=390%:%
%:%998=390%:%
%:%999=390%:%
%:%1000=391%:%
%:%1001=391%:%
%:%1002=391%:%
%:%1003=392%:%
%:%1004=392%:%
%:%1005=393%:%
%:%1006=393%:%
%:%1007=393%:%
%:%1008=393%:%
%:%1009=394%:%
%:%1010=394%:%
%:%1011=395%:%
%:%1012=395%:%
%:%1013=395%:%
%:%1014=395%:%
%:%1015=396%:%
%:%1016=396%:%
%:%1017=396%:%
%:%1018=396%:%
%:%1019=397%:%
%:%1025=397%:%
%:%1028=398%:%
%:%1029=399%:%
%:%1030=399%:%
%:%1031=400%:%
%:%1032=401%:%
%:%1035=402%:%
%:%1039=402%:%
%:%1040=402%:%
%:%1041=402%:%
%:%1046=402%:%
%:%1049=403%:%
%:%1050=404%:%
%:%1051=404%:%
%:%1052=405%:%
%:%1053=406%:%
%:%1054=407%:%
%:%1055=408%:%
%:%1056=409%:%
%:%1057=410%:%
%:%1058=411%:%
%:%1065=412%:%
%:%1066=412%:%
%:%1067=413%:%
%:%1068=413%:%
%:%1069=414%:%
%:%1070=414%:%
%:%1071=415%:%
%:%1072=416%:%
%:%1073=416%:%
%:%1074=416%:%
%:%1075=417%:%
%:%1076=417%:%
%:%1077=418%:%
%:%1078=419%:%
%:%1079=419%:%
%:%1080=419%:%
%:%1081=419%:%
%:%1082=420%:%
%:%1083=420%:%
%:%1084=421%:%
%:%1085=421%:%
%:%1086=422%:%
%:%1087=422%:%
%:%1088=423%:%
%:%1089=423%:%
%:%1090=423%:%
%:%1091=423%:%
%:%1092=424%:%
%:%1093=424%:%
%:%1094=424%:%
%:%1095=425%:%
%:%1096=425%:%
%:%1097=426%:%
%:%1098=426%:%
%:%1099=427%:%
%:%1100=427%:%
%:%1101=428%:%
%:%1102=428%:%
%:%1103=428%:%
%:%1104=429%:%
%:%1105=429%:%
%:%1106=430%:%
%:%1107=430%:%
%:%1108=430%:%
%:%1109=431%:%
%:%1110=431%:%
%:%1111=432%:%
%:%1112=432%:%
%:%1113=433%:%
%:%1114=433%:%
%:%1115=434%:%
%:%1116=434%:%
%:%1117=434%:%
%:%1118=434%:%
%:%1119=435%:%
%:%1120=435%:%
%:%1121=435%:%
%:%1122=436%:%
%:%1123=436%:%
%:%1124=437%:%
%:%1125=438%:%
%:%1126=438%:%
%:%1127=439%:%
%:%1128=439%:%
%:%1129=440%:%
%:%1130=440%:%
%:%1131=441%:%
%:%1132=441%:%
%:%1133=442%:%
%:%1134=442%:%
%:%1135=443%:%
%:%1136=443%:%
%:%1137=444%:%
%:%1138=444%:%
%:%1139=445%:%
%:%1140=446%:%
%:%1141=446%:%
%:%1142=447%:%
%:%1143=447%:%
%:%1144=447%:%
%:%1145=447%:%
%:%1146=447%:%
%:%1147=448%:%
%:%1148=448%:%
%:%1149=448%:%
%:%1150=448%:%
%:%1151=449%:%
%:%1152=449%:%
%:%1153=449%:%
%:%1154=449%:%
%:%1155=450%:%
%:%1156=451%:%
%:%1157=451%:%
%:%1158=451%:%
%:%1159=451%:%
%:%1160=452%:%
%:%1161=452%:%
%:%1162=452%:%
%:%1163=453%:%
%:%1164=453%:%
%:%1165=454%:%
%:%1166=454%:%
%:%1167=454%:%
%:%1168=454%:%
%:%1169=455%:%
%:%1175=455%:%
%:%1180=456%:%
%:%1185=457%:%
